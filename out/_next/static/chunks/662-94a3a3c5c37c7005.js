(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{5148:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(7437),a=r(2265),o=r(7648),c=r(3145),s=r(9116);function l(e){if(!e||0===e.trim().length)return e;let t=[];t=e.includes("\n\n")?e.split(/\n\s*\n/):e.includes("\n")?e.split(/\n/):[e];let r=[];for(let e of t){let t=e.trim();if(!t)continue;if(t.length<=150){r.push(t);continue}let n=[],a=t.split(/([.!?]+["']?\s+)/),o="";for(let e=0;e<a.length;e++){let t=a[e];t&&(/[.!?]+["']?\s*$/.test(t)?((o+=t).trim()&&n.push(o.trim()),o=""):o+=t)}if(o.trim()&&n.push(o.trim()),n.length<=1||n.some(e=>e.length>1200)){n=t.split(/([.!?]+["']?\s*)/).filter(e=>e.trim().length>0);let e=[];for(let t=0;t<n.length;t++)/^[.!?]+["']?\s*$/.test(n[t])?e.length>0&&(e[e.length-1]+=n[t]):e.push(n[t]);n=e.filter(e=>e.trim().length>0)}if(n.length<=1&&t.length>600&&(n=t.split(/([.;]\s+)/).filter(e=>e.trim().length>0)),n.length<=1||n.some(e=>e.length>900)){let e=t.split(/\s+/).filter(e=>e.length>0),r=Math.ceil(t.length/600),a=Math.max(30,Math.ceil(e.length/r));n=[];for(let t=0;t<e.length;t+=a){let r=e.slice(t,t+a).join(" ");r.trim()&&n.push(r.trim())}}let c="",s=0;for(let e of n){let t=e.trim();if(!t)continue;let n=t.split(/\s+/).filter(e=>e.length>0).length,a=t.length;c&&(c.length+a+1>600||s+n>100)?(c.trim()&&r.push(c.trim()),c=t,s=n):(c+=(c?" ":"")+t,s+=n)}c.trim()&&r.push(c.trim())}return r.join("\n\n")}var i=r(1701),d=r(8349),m=r(1402),h=r.n(m),u=r(7398),f=r.n(u);function p(e){var t;let{article:r}=e,[m,u]=(0,a.useState)(!1),[p,_]=(0,a.useState)([]),[g,x]=(0,a.useState)(!0),[A,k]=(0,a.useState)("idle");(0,a.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)");u(e.matches);let t=e=>u(e.matches);return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),(0,a.useEffect)(()=>{(async function(){try{x(!0);let e=await (0,s.lk)(r.id);_(e)}catch(e){console.error("Failed to load comments:",e),_([])}finally{x(!1)}})()},[r.id]);let j=(0,a.useMemo)(()=>window.location.href,[r.id]);(0,a.useEffect)(()=>{if("idle"===A)return;let e=setTimeout(()=>k("idle"),2500);return()=>clearTimeout(e)},[A]);let N=e=>{let t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},b=async()=>{try{var e,t;(null===(t=navigator)||void 0===t?void 0:null===(e=t.clipboard)||void 0===e?void 0:e.writeText)?await navigator.clipboard.writeText(j):N(j),k("copied")}catch(e){try{N(j),k("copied")}catch(e){console.error("Failed to copy article link",e),k("error")}}},w="copied"===A?"Link copied!":"error"===A?"Unable to copy":"Copy article link",v=(t=r.createdAt,f()(t).isSame(f()(),"day"))?"Today in":f()(r.createdAt).format("MMM DD"),y=(0,a.useMemo)(()=>{var e;return(e=r.body)&&0!==e.trim().length?/<[a-z][\s\S]*>/i.test(e)?function(e){if(!e||0===e.trim().length)return e;let t=e.match(/<p[^>]*>[\s\S]*?<\/p>/gi);if(t&&!t.some(e=>e.replace(/<[^>]*>/g,"").trim().length>600)&&t.length>2)return e;let r=e.replace(/<\/p>\s*<p[^>]*>/gi,"\n\n");r=(r=(r=r.replace(/<p[^>]*>/gi,"")).replace(/<\/p>/gi,"")).replace(/<\/?(div|section|article)[^>]*>/gi,"");let n={},a=0,o=l(r=r.replace(/<(\/?)([a-z]+)[^>]*>/gi,(e,t,r)=>{let o="__TAG_".concat(a,"__");return n[o]=e,a++,o}));return Object.keys(n).forEach(e=>{o=o.replace(e,n[e])}),o.split(/\n\s*\n/).filter(e=>e.trim()).map(e=>"<p>".concat(e.trim(),"</p>")).join("\n")}(e):l(e):e},[r.body]);return(0,n.jsxs)("div",{className:"".concat(h().container," ").concat(m?h().dark:""),children:[(0,n.jsx)("header",{className:h().header,children:(0,n.jsxs)("div",{className:h().headerInner,children:[(0,n.jsx)(o.default,{href:"/",className:h().logoLink,children:(0,n.jsx)(c.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:50,height:50,className:h().logo})}),(0,n.jsxs)("div",{className:h().headerCenter,children:[(0,n.jsx)("h1",{className:h().categoryName,children:r.categoryName}),(0,n.jsx)("p",{className:h().date,children:v})]})]})}),(0,n.jsx)("main",{className:h().main,children:(0,n.jsxs)("article",{className:h().article,children:[r.imageUrl&&(0,n.jsx)("div",{className:h().imageWrapper,children:(0,n.jsx)("img",{src:r.imageUrl,alt:r.title,className:h().image})}),(0,n.jsx)("h1",{className:h().title,children:r.title}),r.excerpt&&(0,n.jsx)("p",{className:h().description,children:r.excerpt}),(0,n.jsx)(i.Z,{zoneId:"10189289",placementId:"article-top",size:"responsive"}),(0,n.jsx)("div",{className:h().content,dangerouslySetInnerHTML:{__html:y}}),(0,n.jsx)(i.Z,{zoneId:"10189289",placementId:"article-bottom",size:"responsive"}),(0,n.jsxs)("div",{className:h().commentsSection,children:[(0,n.jsx)("h2",{className:h().commentsTitle,children:"Comments"}),(0,n.jsxs)("div",{className:h().shareBar,children:[(0,n.jsx)("p",{className:h().shareLabel,children:"Share this Pat"}),(0,n.jsxs)("button",{type:"button",className:"".concat(h().shareButton," ").concat("copied"===A?h().shareButtonSuccess:""," ").concat("error"===A?h().shareButtonError:""),onClick:b,"aria-live":"polite",title:w,children:[(0,n.jsxs)("svg",{viewBox:"0 0 32 32","aria-hidden":"true",className:h().shareIcon,children:[(0,n.jsx)("path",{d:"M18.586 5.414a5 5 0 0 1 7.071 7.071l-3 3a1 1 0 0 1-1.414-1.414l3-3a3 3 0 1 0-4.243-4.243l-3 3a1 1 0 1 1-1.414-1.414l3-3z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M13.414 26.586a5 5 0 0 1-7.071-7.071l3-3a1 1 0 0 1 1.414 1.414l-3 3a3 3 0 1 0 4.243 4.243l3-3a1 1 0 1 1 1.414 1.414l-3 3z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M20.586 11.586l-8 8a1 1 0 0 1-1.414-1.414l8-8a1 1 0 0 1 1.414 1.414z",fill:"currentColor"})]}),(0,n.jsx)("span",{className:h().shareText,children:w})]})]}),g?(0,n.jsx)("p",{className:h().commentsLoading,children:"Loading comments..."}):0===p.length?(0,n.jsx)("p",{className:h().noComments,children:"No comments yet."}):(0,n.jsx)("div",{className:h().commentsList,children:p.map((e,t)=>(0,n.jsxs)("div",{className:h().commentItem,children:[(0,n.jsxs)("div",{className:h().commentHeader,children:[e.photoUrl&&(0,n.jsx)("img",{src:e.photoUrl,alt:e.author,className:h().commentAvatar}),(0,n.jsxs)("div",{className:h().commentAuthorInfo,children:[(0,n.jsx)("span",{className:h().commentAuthor,children:e.author}),(0,n.jsx)("span",{className:h().commentDate,children:f()(e.createdAt).format("MMM DD, YYYY")})]})]}),(0,n.jsx)("p",{className:h().commentBody,children:e.body})]},t))})]}),(0,n.jsx)("div",{className:h().unlockBanner,children:(0,n.jsxs)("div",{className:h().unlockBannerContent,children:[(0,n.jsx)("p",{className:h().unlockText,children:"UNLOCK YOUR PATS"}),(0,n.jsxs)("p",{className:h().unlockDescription,children:["Register to get the latest updates from the topics"," ",(0,n.jsx)("span",{className:h().unlockUnderline,children:"you"})," care about"]}),(0,n.jsxs)("div",{className:h().storeButtons,children:[(0,n.jsx)("a",{href:"https://apps.apple.com/us/app/patreek/id6547858283",target:"_blank",rel:"noopener noreferrer",className:h().storeLink,children:(0,n.jsx)(c.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3729b558347b9bf210a5a_Store%3DApp%20Store%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Download on App Store",width:200,height:60,className:h().storeImage})}),(0,n.jsx)("a",{href:"#",className:h().storeLink,children:(0,n.jsx)(c.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3727c8abb3515ab42d712_Store%3DGoogle%20Play%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Get it on Google Play",width:200,height:60,className:h().storeImage})})]})]})})]})}),(0,n.jsx)(d.Z,{})]})}},8349:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(7437),a=r(7648),o=r(3145),c=r(1468),s=r.n(c);function l(){return(0,n.jsx)("footer",{className:s().footer,children:(0,n.jsxs)("div",{className:s().container,children:[(0,n.jsxs)("div",{className:s().footerGrid,children:[(0,n.jsx)(a.default,{href:"/",className:s().logoLink,children:(0,n.jsx)(o.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:111,height:60,className:s().footerLogo})}),(0,n.jsxs)("div",{className:s().footerColumn,children:[(0,n.jsx)("div",{className:s().columnTitle,children:"Product"}),(0,n.jsx)(a.default,{href:"/",className:s().footerLink,children:"Home"}),(0,n.jsx)("a",{href:"https://patreek.com/features",className:s().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Features"}),(0,n.jsx)("a",{href:"https://patreek.com/pricing",className:s().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Pricing"})]}),(0,n.jsxs)("div",{className:s().footerColumn,children:[(0,n.jsx)("div",{className:s().columnTitle,children:"Company"}),(0,n.jsx)("a",{href:"https://patreek.com/about",className:s().footerLink,target:"_blank",rel:"noopener noreferrer",children:"About"}),(0,n.jsx)("a",{href:"https://patreek.com/contact",className:s().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Contact"}),(0,n.jsx)(a.default,{href:"/privacy",className:s().footerLink,children:"Privacy Policy"}),(0,n.jsx)(a.default,{href:"/terms",className:s().footerLink,children:"Terms & Conditions"})]}),(0,n.jsxs)("div",{className:s().footerColumn,children:[(0,n.jsx)("div",{className:s().columnTitle,children:"Social"}),(0,n.jsx)("a",{href:"https://x.com/",target:"_blank",rel:"noopener noreferrer",className:s().footerLink,children:"X (Twitter)"}),(0,n.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",className:s().footerLink,children:"Instagram"}),(0,n.jsx)("a",{href:"https://www.linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:s().footerLink,children:"LinkedIn"})]})]}),(0,n.jsx)("div",{className:s().divider}),(0,n.jsxs)("div",{className:s().footerBottom,children:[(0,n.jsxs)("div",{className:s().copyright,children:["\xa9 ",new Date().getFullYear()," Patreek. All rights reserved."]}),(0,n.jsx)("div",{className:s().companyInfo,children:"Patreek App is owned by Sentigraph Inc."})]})]})})}},1701:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437),a=r(2265),o=r(998),c=r.n(o);function s(e){let{zoneId:t,placementId:r,showPlaceholder:o=!1,size:s="responsive"}=e,l=(0,a.useRef)(null),[i,d]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{if(!l.current||!t)return;let e="monetag-banner-".concat(t,"-").concat(r||"default");l.current.id=e;let n=document.createElement("script");n.textContent="(function(s){s.dataset.zone='".concat(t,"',s.src='https://gizokraijaw.net/vignette.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))"),n.async=!0,n.setAttribute("data-cfasync","false"),r&&n.setAttribute("data-placement",r),n.onerror=()=>{o&&d(!1)},l.current.appendChild(n);let a=setTimeout(()=>{d(!0)},1e3);return()=>{clearTimeout(a),l.current&&n.parentNode===l.current&&l.current.removeChild(n)}},[t,r,o]),!o||t&&i)?t?(0,n.jsx)("div",{ref:l,className:c().monetagBanner,"data-zone":String(t),"data-placement":r,"data-size":s,style:{minHeight:"728x90"===s?"90px":"300x250"===s?"250px":"320x50"===s?"50px":"100px",width:"100%"}}):null:(0,n.jsx)("div",{className:c().placeholder,children:(0,n.jsx)("div",{className:c().placeholderContent,children:(0,n.jsxs)("span",{className:c().placeholderText,children:["Advertisement (",r||"banner",")"]})})})}},9116:function(e,t,r){"use strict";r.d(t,{Dk:function(){return a},ST:function(){return o},lk:function(){return c}});let n="https://api.patreek.com";async function a(){try{let e=new AbortController,t=setTimeout(()=>e.abort(),1e4),r=new URLSearchParams(window.location.search),a=null==r?void 0:r.get("bypass"),o="".concat(n,"/api/v1/feeds/public").concat("ag3nt007"===a?"?bypass=ag3nt007":""),c=await fetch(o,{method:"GET",cache:"default",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e.signal});if(clearTimeout(t),!c.ok)return console.warn("[API] Failed to fetch public feeds: ".concat(c.status)),[];return((await c.json()).content||[]).slice(0,30)}catch(e){return e instanceof Error?"AbortError"===e.name||e.message.includes("timeout")||e.message.includes("TIMED_OUT")?console.warn("[API] Connection timeout while fetching public feeds - backend may be unavailable"):e.message.includes("Failed to fetch")||e.message.includes("ERR_CONNECTION")?console.warn("[API] Connection error while fetching public feeds - backend may be unavailable"):console.warn("[API] Error fetching public feeds:",e.message):console.warn("[API] Unknown error fetching public feeds:",e),[]}}async function o(e){try{let t=new AbortController,r=setTimeout(()=>t.abort(),1e4),a=new URLSearchParams(window.location.search),o=null==a?void 0:a.get("bypass"),c="".concat(n,"/api/v1/feeds/").concat(e).concat("ag3nt007"===o?"?bypass=ag3nt007":"");console.log("[API] Fetching article ".concat(e," from: ").concat(c));let s=await fetch(c,{method:"GET",cache:"default",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"omit",mode:"cors",signal:t.signal});if(clearTimeout(r),!s.ok){let t=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);if(404===s.status||403===s.status)return t&&console.error("[API] Safari: Article ".concat(e," returned ").concat(s.status,". Check if this is a CORS issue or if article is actually not found.")),console.warn("[API] Article ".concat(e," not found or not available (").concat(s.status,")")),null;return t&&console.error("[API] Safari: Failed to fetch feed ".concat(e,": ").concat(s.status,". Response headers:"),Object.fromEntries(s.headers.entries())),console.warn("[API] Failed to fetch feed ".concat(e,": ").concat(s.status)),null}let l=s.headers.get("content-type");l&&l.includes("application/json")||console.warn("[API] Unexpected content type: ".concat(l,". Expected application/json"));let i=await s.json();return console.log("[API] Successfully fetched article ".concat(e,":"),i.title),i}catch(t){if(t instanceof Error){let r=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);"AbortError"===t.name||t.message.includes("timeout")||t.message.includes("TIMED_OUT")?console.warn("[API] Connection timeout while fetching article ".concat(e," - backend may be unavailable")):t.message.includes("Failed to fetch")||t.message.includes("ERR_CONNECTION")||t.message.includes("NetworkError")?r?console.error("[API] Safari CORS/Network error while fetching article ".concat(e,". This might be a CORS configuration issue. Error:"),t.message):console.warn("[API] Connection error while fetching article ".concat(e," - backend may be unavailable")):t.message.includes("CORS")||t.message.includes("cross-origin")?console.error("[API] CORS error while fetching article ".concat(e,". Check backend CORS configuration. Error:"),t.message):console.warn("[API] Error fetching feed ".concat(e,":"),t.message)}else console.warn("[API] Unknown error fetching feed ".concat(e,":"),t);return null}}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;try{let a=new AbortController,o=setTimeout(()=>a.abort(),1e4),c=await fetch("".concat(n,"/api/v1/feeds/").concat(e,"/comments?page=").concat(t,"&size=").concat(r),{method:"GET",cache:"default",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:a.signal});if(clearTimeout(o),!c.ok)return console.warn("[API] Failed to fetch comments for feed ".concat(e,": ").concat(c.status)),[];return(await c.json()).content||[]}catch(t){return t instanceof Error?"AbortError"===t.name||t.message.includes("timeout")?console.warn("[API] Connection timeout while fetching comments for feed ".concat(e)):console.warn("[API] Error fetching comments for feed ".concat(e,":"),t.message):console.warn("[API] Unknown error fetching comments for feed ".concat(e,":"),t),[]}}},4422:function(e,t,r){"use strict";r.d(t,{A:function(){return a},t:function(){return o}});let n="patreek_article_";function a(e){try{let t="".concat(n).concat(e),r=localStorage.getItem(t);if(!r)return null;let a=JSON.parse(r);if(Date.now()-a.timestamp>6048e5)return localStorage.removeItem(t),null;return a.data}catch(e){return console.error("Error reading from cache:",e),null}}function o(e,t){let r="".concat(n).concat(e),a={data:t,timestamp:Date.now()};try{localStorage.setItem(r,JSON.stringify(a))}catch(e){if(console.error("Error writing to cache:",e),e instanceof DOMException&&"QuotaExceededError"===e.name){c();try{localStorage.setItem(r,JSON.stringify(a))}catch(e){console.error("Failed to cache after cleanup:",e)}}}}function c(){try{let e=Date.now(),t=[];for(let r=0;r<localStorage.length;r++){let a=localStorage.key(r);if(null==a?void 0:a.startsWith(n))try{let r=localStorage.getItem(a);if(r){let n=JSON.parse(r);e-n.timestamp>6048e5&&t.push(a)}}catch(e){t.push(a)}}t.forEach(e=>localStorage.removeItem(e))}catch(e){console.error("Error clearing expired cache:",e)}}c()},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},1402:function(e){e.exports={container:"ArticleReader_container__jO2L5",dark:"ArticleReader_dark__PbS6A",header:"ArticleReader_header__dbPzK",headerInner:"ArticleReader_headerInner__yrlm4",logoLink:"ArticleReader_logoLink__Kc5xR",logo:"ArticleReader_logo__Ffm7W",headerCenter:"ArticleReader_headerCenter__ju69k",categoryName:"ArticleReader_categoryName__DrJk6",date:"ArticleReader_date__7kari",main:"ArticleReader_main__vwq7A",article:"ArticleReader_article__XHm3G",imageWrapper:"ArticleReader_imageWrapper__NI6E9",image:"ArticleReader_image__pYNG4",title:"ArticleReader_title__0ba_F",description:"ArticleReader_description__FGiUV",content:"ArticleReader_content__KVC5g",unlockBanner:"ArticleReader_unlockBanner__4dPP0",unlockBannerContent:"ArticleReader_unlockBannerContent__xQm1Q",unlockText:"ArticleReader_unlockText__XI_xN",unlockDescription:"ArticleReader_unlockDescription__D8kgb",unlockUnderline:"ArticleReader_unlockUnderline__MRWY0",storeButtons:"ArticleReader_storeButtons__KTAzN",storeLink:"ArticleReader_storeLink__8tyrD",storeImage:"ArticleReader_storeImage__DCJpi",shareBar:"ArticleReader_shareBar__wqAA0",shareLabel:"ArticleReader_shareLabel__PHJAa",shareButton:"ArticleReader_shareButton__5ySjX",shareButtonSuccess:"ArticleReader_shareButtonSuccess__87EY7",shareButtonError:"ArticleReader_shareButtonError__Zsnhj",shareIcon:"ArticleReader_shareIcon__7cF3c",shareText:"ArticleReader_shareText__1pe4m",commentsSection:"ArticleReader_commentsSection__rqZOR",commentsTitle:"ArticleReader_commentsTitle__xw6PS",commentsLoading:"ArticleReader_commentsLoading__nu_pR",noComments:"ArticleReader_noComments__eVpLR",commentsList:"ArticleReader_commentsList__I_eEj",commentItem:"ArticleReader_commentItem__h_m06",commentHeader:"ArticleReader_commentHeader__bKesh",commentAvatar:"ArticleReader_commentAvatar___Zlwi",commentAuthorInfo:"ArticleReader_commentAuthorInfo__GWLyj",commentAuthor:"ArticleReader_commentAuthor__CQ3yY",commentDate:"ArticleReader_commentDate__eV3mx",commentBody:"ArticleReader_commentBody__SaDKq"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",container:"Footer_container__KpDnW",footerGrid:"Footer_footerGrid__K31Dz",footerColumn:"Footer_footerColumn__kGECR",columnTitle:"Footer_columnTitle__WcnMX",footerLink:"Footer_footerLink__xz_wT",logoLink:"Footer_logoLink__Xoc6g",footerLogo:"Footer_footerLogo__4BA6d",divider:"Footer_divider__YAbaq",footerBottom:"Footer_footerBottom__YIYBj",copyright:"Footer_copyright__j4atB",companyInfo:"Footer_companyInfo__xaSgf",dark:"Footer_dark__otfV8"}},998:function(e){e.exports={monetagBanner:"MonetagBanner_monetagBanner__knaok",placeholder:"MonetagBanner_placeholder__MJKg4",placeholderContent:"MonetagBanner_placeholderContent__H4VAD",placeholderText:"MonetagBanner_placeholderText__kqPtq"}}}]);
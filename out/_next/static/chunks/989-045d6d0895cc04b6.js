(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{5989:function(e,a,t){Promise.resolve().then(t.bind(t,7863))},7863:function(e,a,t){"use strict";t.d(a,{default:function(){return p}});var s=t(7437),l=t(2265),n=t(9376),c=t(9116),r=t(4422),i=t(5148),o=t(6777),d=t.n(o),h=t(3145),m=t(8349),u=t(5857);function p(){let e=(0,n.usePathname)(),a=(0,n.useRouter)(),[t,o]=(0,l.useState)(null),[p,g]=(0,l.useState)([]),[f,x]=(0,l.useState)(!0),[j,N]=(0,l.useState)(null),[b,y]=(0,l.useState)(!1),v=(0,l.useRef)(null),[P,w]=(0,l.useState)(!1),[k,S]=(0,l.useState)(!1),C=(0,l.useMemo)(()=>{if("ag3nt007"===new URLSearchParams(window.location.search).get("bypass"))return"?bypass=ag3nt007";if(document.referrer)try{let e=new URL(document.referrer).searchParams.get("bypass");if("ag3nt007"===e)return"?bypass=ag3nt007"}catch(e){}return""},[]);async function A(){try{x(!0),N(null);let e=await (0,c.Dk)();g(e)}catch(e){console.warn("[PublicPatsHomePage] Failed to load feeds:",e),g([])}finally{x(!1)}}async function T(e){try{x(!0),console.log("[PublicPatsArticlePage] Loading article ".concat(e,"..."));let a=C.includes("bypass=ag3nt007");if(!a){let a=(0,r.A)(e);if(a){console.log("[PublicPatsArticlePage] Using cached article ".concat(e)),o(a),N(null),x(!1);return}}console.log("[PublicPatsArticlePage] Fetching article ".concat(e," from API").concat(a?" (bypass enabled)":""));let t=await (0,c.ST)(e);if(!t){console.log("[PublicPatsArticlePage] Article ".concat(e," not found or not public")),N("Article not found or not available"),setTimeout(()=>{window.location.href="/"},2e3);return}(0,r.t)(e,t),o(t),N(null),console.log("[PublicPatsArticlePage] Successfully loaded article ".concat(e,": ").concat(t.title))}catch(e){console.error("[PublicPatsArticlePage] Failed to load article:",e),N("Failed to load article. Please try again later.")}finally{x(!1)}}(0,l.useEffect)(()=>{let a=null,t=!1;{let e=window.location.pathname,s=e.match(/^\/pat\/(\d+)$/);s?(a=parseInt(s[1],10),t=!0):("/"===e||"/pat"===e||"/pat/"===e)&&(t=!1)}if(!a&&e){let s=e.match(/^\/pat\/(\d+)$/);s?(a=parseInt(s[1],10),t=!0):("/"===e||"/pat"===e||"/pat/"===e)&&(t=!1)}y(t),t&&a?T(a):A()},[e,C]);let D=(0,l.useMemo)(()=>{let e=new Map;return p.forEach(a=>{let t=a.categoryName||"Other",s=e.get(t)||[];s.push(a),e.set(t,s)}),Array.from(e.entries()).map(e=>{let[a,t]=e;return{category:a,items:[...t].sort((e,a)=>{let t=e.createdAt?new Date(e.createdAt).getTime():0;return(a.createdAt?new Date(a.createdAt).getTime():0)-t})}})},[p]),L=u.default,I=e=>u[e]||L,R=e=>{let t="/pat/".concat(e).concat(C);a.push(t)},_=()=>{let e=v.current;if(!e)return;let{scrollLeft:a,clientWidth:t,scrollWidth:s}=e;w(a>8),S(a+t<s-8)};(0,l.useEffect)(()=>{_();let e=v.current;if(!e)return;let a=()=>_();return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)},[D.length]);let B=e=>{let a=v.current;if(!a)return;let t=a.querySelector(".".concat(d().categoryCard)),s=t?t.offsetWidth+16:320;a.scrollBy({left:"left"===e?-s:s,behavior:"smooth"})};return b?f?(0,s.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333"},children:(0,s.jsx)("p",{children:"Loading article..."})}):j||!t?(0,s.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333",padding:"20px"},children:[(0,s.jsx)("p",{children:j||"Article not found"}),(0,s.jsx)("a",{href:"/".concat(C||""),style:{marginTop:"16px",color:"#667eea",textDecoration:"underline"},children:"← Back to Home"})]}):(0,s.jsxs)("main",{className:"".concat(d().main," ").concat(d().mainRow),children:[(0,s.jsx)("div",{className:d().mainColumn,children:(0,s.jsx)(i.Z,{article:t})}),(0,s.jsx)("aside",{className:d().rightRail,"aria-label":"Sponsored",children:(0,s.jsx)("a",{href:"",rel:"nofollow noopener",target:"_blank",children:(0,s.jsx)("img",{src:"https://landings-cdn.adsterratech.com/referralBanners/png/160%20x%20600%20px.png",alt:"Sponsored banner",className:d().rightRailImage})})})]}):(0,s.jsxs)("div",{className:d().container,children:[(0,s.jsx)("header",{className:d().header,children:(0,s.jsxs)("div",{className:d().headerInner,children:[(0,s.jsx)("div",{className:d().logoSection,children:(0,s.jsx)(h.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:60,height:60,className:d().logo,priority:!0})}),(0,s.jsxs)("div",{className:d().headerTitle,children:[(0,s.jsx)("h2",{className:d().title,children:"Latest pats"}),(0,s.jsx)("p",{className:d().subtitle,children:"Let's read"})]})]})}),(0,s.jsx)("div",{className:d().definitionSection,children:(0,s.jsxs)("div",{className:d().definitionContent,children:[(0,s.jsxs)("div",{className:d().definitionWord,children:[(0,s.jsx)("span",{className:d().definitionWordText,children:"Pat"}),(0,s.jsx)("span",{className:d().definitionPartOfSpeech,children:"verb"})]}),(0,s.jsxs)("div",{className:d().definitionMeaning,children:[(0,s.jsx)("span",{className:d().definitionColon,children:":"}),(0,s.jsx)("span",{className:d().definitionText,children:"to tap or stroke a news card gently with the hand to soothe, or show approval"})]})]})}),(0,s.jsx)("div",{className:d().unlockBannerTop,children:(0,s.jsxs)("div",{className:d().unlockBannerContent,children:[(0,s.jsx)("p",{className:d().unlockText,children:"UNLOCK YOUR PATS"}),(0,s.jsxs)("p",{className:d().unlockDescription,children:["Register to get the latest updates from the topics"," ",(0,s.jsx)("span",{className:d().unlockUnderline,children:"you"})," care about"]}),(0,s.jsxs)("div",{className:d().storeButtons,children:[(0,s.jsx)("a",{href:"https://apps.apple.com/us/app/patreek/id6547858283",target:"_blank",rel:"noopener noreferrer",className:d().storeLink,children:(0,s.jsx)(h.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3729b558347b9bf210a5a_Store%3DApp%20Store%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Download on App Store",width:200,height:60,className:d().storeImage})}),(0,s.jsx)("a",{href:"#",className:d().storeLink,children:(0,s.jsx)(h.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3727c8abb3515ab42d712_Store%3DGoogle%20Play%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Get it on Google Play",width:200,height:60,className:d().storeImage})})]})]})}),(0,s.jsxs)("main",{className:"".concat(d().main," ").concat(d().mainRow),children:[(0,s.jsx)("div",{className:d().mainColumn,children:f?(0,s.jsx)("div",{className:d().emptyState,children:(0,s.jsx)("p",{children:"Loading articles..."})}):0===D.length?(0,s.jsx)("div",{className:d().emptyState,children:(0,s.jsx)("p",{children:"No articles available at the moment. Register to get the latest updates from the topics you care about"})}):(0,s.jsxs)("div",{className:d().carouselShell,children:[(0,s.jsx)("button",{className:"".concat(d().navButton," ").concat(P?"":d().navButtonDisabled),onClick:()=>B("left"),"aria-label":"Scroll categories left",disabled:!P,children:"‹"}),(0,s.jsx)("div",{className:d().categoryTrack,ref:v,onScroll:_,children:D.map(e=>{let[a,...t]=e.items;return a?(0,s.jsxs)("div",{className:d().categoryCard,children:[(0,s.jsxs)("div",{className:d().categoryHeader,children:[(0,s.jsx)("span",{className:d().categoryIcon,dangerouslySetInnerHTML:{__html:I(e.category)},"aria-hidden":"true"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:d().categoryLabel,children:"Category"}),(0,s.jsx)("h3",{className:d().categoryTitle,children:e.category})]})]}),(0,s.jsxs)("button",{className:d().hero,onClick:()=>R(a.id),"aria-label":"Open ".concat(a.title),children:[(0,s.jsx)("div",{className:d().heroImageWrapper,children:(0,s.jsx)("img",{src:a.imageUrl||"https://insideskills.pl/wp-content/uploads/2024/01/placeholder-6.png",alt:a.title,className:d().heroImage})}),(0,s.jsx)("div",{className:d().heroContent,children:(0,s.jsx)("h4",{className:d().heroTitle,children:a.title})})]}),(0,s.jsx)("div",{className:d().headlines,children:t.map(e=>(0,s.jsxs)("button",{className:d().headlineRow,onClick:()=>R(e.id),children:[(0,s.jsx)("span",{className:d().headlineBullet,children:"•"}),(0,s.jsx)("span",{className:d().headlineText,children:e.title})]},e.id))})]},e.category):null})}),(0,s.jsx)("button",{className:"".concat(d().navButton," ").concat(k?"":d().navButtonDisabled),onClick:()=>B("right"),"aria-label":"Scroll categories right",disabled:!k,children:"›"})]})}),(0,s.jsx)("aside",{className:d().rightRail,"aria-label":"Sponsored",children:(0,s.jsx)("a",{href:"",rel:"nofollow noopener",target:"_blank",children:(0,s.jsx)("img",{src:"https://landings-cdn.adsterratech.com/referralBanners/png/160%20x%20600%20px.png",alt:"Sponsored banner",className:d().rightRailImage})})})]}),(0,s.jsx)(m.Z,{})]})}}}]);
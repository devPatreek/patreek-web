(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{95:function(e,a,t){Promise.resolve().then(t.bind(t,7038))},7038:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var l=t(7437),s=t(2265),i=t(7648),n=t(4905),r=t.n(n),c=t(9116);function d(){var e,a,t,n;let[d,o]=(0,s.useState)(null),[_,m]=(0,s.useState)(null),[u,g]=(0,s.useState)([]),[p,v]=(0,s.useState)([]),[h,j]=(0,s.useState)("all"),[N,x]=(0,s.useState)("idle"),[f,b]=(0,s.useState)("idle");(0,s.useEffect)(()=>{let e=window.localStorage.getItem("patreek_session");e&&o(e)},[]),(0,s.useEffect)(()=>{if(!d)return;let e=!0;return x("loading"),Promise.all([(0,c.et)(d),(0,c.U1)(d)]).then(a=>{let[t,l]=a;e&&(m(t),g(l||[]),x("idle"))}).catch(()=>{e&&x("error")}),()=>{e=!1}},[d]);let S=async e=>{d&&(b("loading"),v((e?await (0,c.HE)(d,e):await (0,c.Kn)(d))||[]),b("idle"))};(0,s.useEffect)(()=>{d&&S()},[d]);let w=(0,s.useMemo)(()=>(null==_?void 0:_.name)?_.name.split(" ").map(e=>{var a;return null===(a=e[0])||void 0===a?void 0:a.toUpperCase()}).join("").slice(0,2):"P",[null==_?void 0:_.name]),C=[{label:"Pats",value:null!==(e=null==_?void 0:_.totalPats)&&void 0!==e?e:0},{label:"Comments",value:null!==(a=null==_?void 0:_.totalComments)&&void 0!==a?a:0},{label:"Shares",value:null!==(t=null==_?void 0:_.totalShares)&&void 0!==t?t:0},{label:"Coins",value:null!==(n=null==_?void 0:_.coins)&&void 0!==n?n:0}],y=(0,s.useMemo)(()=>[{id:"all",name:"All"},...u.flatMap(e=>(e.children||[]).map(e=>({id:e.id,name:e.name})))],[u]);return d?(0,l.jsxs)("div",{className:r().page,children:[(0,l.jsxs)("header",{className:r().cover,children:[(0,l.jsx)("div",{className:r().coverImage}),(0,l.jsx)("div",{className:r().avatar,children:(0,l.jsx)("span",{children:w})}),(0,l.jsxs)("div",{className:r().profileMeta,children:[(0,l.jsxs)("div",{className:r().profileNameRow,children:[(0,l.jsx)("h1",{className:r().name,children:(null==_?void 0:_.name)||"Patreek User"}),(null==_?void 0:_.username)&&(0,l.jsxs)("span",{className:r().username,children:["@",_.username]})]}),(null==_?void 0:_.createdAt)&&(0,l.jsx)("div",{className:r().joined,children:(0,l.jsxs)("span",{children:["Joined ",new Date(_.createdAt).toLocaleDateString()]})}),(0,l.jsx)("div",{className:r().statsRow,children:C.map(e=>(0,l.jsxs)("div",{className:r().stat,children:[(0,l.jsx)("span",{className:r().statValue,children:e.value}),(0,l.jsx)("span",{className:r().statLabel,children:e.label})]},e.label))})]})]}),(0,l.jsx)("nav",{className:r().tabs,"aria-label":"Subscriptions",children:y.map(e=>(0,l.jsx)("button",{className:"".concat(r().tabButton," ").concat(h===e.id?r().tabActive:""),onClick:()=>{j(e.id),"all"===e.id?S():S(e.id)},children:e.name},e.id))}),(0,l.jsx)("main",{className:r().timeline,children:"loading"===f?(0,l.jsx)("div",{className:r().muted,children:"Loading your patsâ€¦"}):0===p.length?(0,l.jsx)("div",{className:r().muted,children:"No pats yet in this lane."}):p.map(e=>(0,l.jsxs)("article",{className:r().card,children:[(0,l.jsxs)("div",{className:r().cardHeader,children:[(0,l.jsx)("span",{className:r().cardCategory,children:e.categoryName}),e.createdAt&&(0,l.jsx)("span",{className:r().cardDate,children:new Date(e.createdAt).toLocaleDateString()})]}),(0,l.jsx)("h3",{className:r().cardTitle,children:e.title}),e.imageUrl&&(0,l.jsx)("div",{className:r().cardImageWrapper,children:(0,l.jsx)("img",{src:e.imageUrl,alt:e.title,className:r().cardImage})})]},e.id))})]}):(0,l.jsxs)("div",{className:r().gate,children:[(0,l.jsx)("h2",{className:r().gateTitle,children:"Sign in to view your personalized pats"}),(0,l.jsx)(i.default,{className:r().gateButton,href:"/registration",children:"Go to sign in"})]})}},7648:function(e,a,t){"use strict";t.d(a,{default:function(){return s.a}});var l=t(2972),s=t.n(l)},4905:function(e){e.exports={page:"page_page__SipoC",cover:"page_cover__jZf8c",coverImage:"page_coverImage__8ow68",avatar:"page_avatar__Sd4y9",profileMeta:"page_profileMeta__rjv_R",profileNameRow:"page_profileNameRow__k33_W",name:"page_name__NlzcB",username:"page_username__lAycX",joined:"page_joined__mjzoD",statsRow:"page_statsRow__Og6Qv",stat:"page_stat__Y44KI",statValue:"page_statValue__J20Xp",statLabel:"page_statLabel__Do6i9",tabs:"page_tabs__w58ku",tabButton:"page_tabButton__ugyBV",tabActive:"page_tabActive__O8Bqj",timeline:"page_timeline__Rnep4",card:"page_card___H_c5",cardHeader:"page_cardHeader__qFOWS",cardCategory:"page_cardCategory__7kKko",cardTitle:"page_cardTitle__A7BaM",cardImageWrapper:"page_cardImageWrapper__nPaPi",cardImage:"page_cardImage__QgB5S",muted:"page_muted__VyIRm",gate:"page_gate__xccMC",gateTitle:"page_gateTitle__WXSZg",gateButton:"page_gateButton__CF4ls"}}},function(e){e.O(0,[794,972,116,971,117,744],function(){return e(e.s=95)}),_N_E=e.O()}]);
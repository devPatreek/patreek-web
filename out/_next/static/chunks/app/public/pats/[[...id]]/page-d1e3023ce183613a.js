(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[414],{5989:function(e,a,t){Promise.resolve().then(t.bind(t,7863))},7863:function(e,a,t){"use strict";t.d(a,{default:function(){return h}});var n=t(7437),i=t(2265),l=t(9376),s=t(9116),o=t(4422),c=t(5148),r=t(6777),d=t.n(r),p=t(3145),_=t(4048),g=t(8349);function h(){let e=(0,l.usePathname)(),a=(0,l.useRouter)(),[t,r]=(0,i.useState)(null),[h,u]=(0,i.useState)([]),[f,m]=(0,i.useState)(!0),[x,b]=(0,i.useState)(null),[j,y]=(0,i.useState)(!1),P=(0,i.useMemo)(()=>{if("ag3nt007"===new URLSearchParams(window.location.search).get("bypass"))return"?bypass=ag3nt007";if(document.referrer)try{let e=new URL(document.referrer).searchParams.get("bypass");if("ag3nt007"===e)return"?bypass=ag3nt007"}catch(e){}return""},[]);async function N(){try{m(!0),b(null);let e=await (0,s.Dk)();u(e)}catch(e){console.warn("[PublicPatsHomePage] Failed to load feeds:",e),u([])}finally{m(!1)}}async function k(e){try{m(!0),console.log("[PublicPatsArticlePage] Loading article ".concat(e,"..."));let a=P.includes("bypass=ag3nt007");if(!a){let a=(0,o.A)(e);if(a){console.log("[PublicPatsArticlePage] Using cached article ".concat(e)),r(a),b(null),m(!1);return}}console.log("[PublicPatsArticlePage] Fetching article ".concat(e," from API").concat(a?" (bypass enabled)":""));let t=await (0,s.ST)(e);if(!t){console.log("[PublicPatsArticlePage] Article ".concat(e," not found or not public")),b("Article not found or not available"),setTimeout(()=>{window.location.href="/public/pats/"},2e3);return}(0,o.t)(e,t),r(t),b(null),console.log("[PublicPatsArticlePage] Successfully loaded article ".concat(e,": ").concat(t.title))}catch(e){console.error("[PublicPatsArticlePage] Failed to load article:",e),b("Failed to load article. Please try again later.")}finally{m(!1)}}(0,i.useEffect)(()=>{let a=null,t=!1;{let e=window.location.pathname,n=e.match(/^\/public\/pats\/(\d+)$/);n?(a=parseInt(n[1],10),t=!0):("/public/pats"===e||"/public/pats/"===e)&&(t=!1)}if(!a&&e){let n=e.match(/^\/public\/pats\/(\d+)$/);n?(a=parseInt(n[1],10),t=!0):("/public/pats"===e||"/public/pats/"===e)&&(t=!1)}y(t),t&&a?k(a):N()},[e,P]);let S=(0,i.useMemo)(()=>{if(!h||0===h.length)return[];let e=[];return h.forEach((a,t)=>{e.push({type:"article",id:"article-".concat(a.id),data:a}),(t+1)%3==0&&e.push({type:"ad",id:"ad-".concat(t)})}),e},[h]);return j?f?(0,n.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333"},children:(0,n.jsx)("p",{children:"Loading article..."})}):x||!t?(0,n.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333",padding:"20px"},children:[(0,n.jsx)("p",{children:x||"Article not found"}),(0,n.jsx)("a",{href:"/public/pats".concat(P),style:{marginTop:"16px",color:"#667eea",textDecoration:"underline"},children:"â† Back to Home"})]}):(0,n.jsx)(c.Z,{article:t}):(0,n.jsxs)("div",{className:d().container,children:[(0,n.jsx)("header",{className:d().header,children:(0,n.jsxs)("div",{className:d().headerInner,children:[(0,n.jsx)("div",{className:d().logoSection,children:(0,n.jsx)(p.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:60,height:60,className:d().logo,priority:!0})}),(0,n.jsxs)("div",{className:d().headerTitle,children:[(0,n.jsx)("h2",{className:d().title,children:"Latest pats"}),(0,n.jsx)("p",{className:d().subtitle,children:"Let's read"})]})]})}),(0,n.jsx)("div",{className:d().definitionSection,children:(0,n.jsxs)("div",{className:d().definitionContent,children:[(0,n.jsxs)("div",{className:d().definitionWord,children:[(0,n.jsx)("span",{className:d().definitionWordText,children:"Pat"}),(0,n.jsx)("span",{className:d().definitionPartOfSpeech,children:"verb"})]}),(0,n.jsxs)("div",{className:d().definitionMeaning,children:[(0,n.jsx)("span",{className:d().definitionColon,children:":"}),(0,n.jsx)("span",{className:d().definitionText,children:"to tap or stroke a news card gently with the hand to soothe, or show approval"})]})]})}),(0,n.jsx)("div",{className:d().unlockBannerTop,children:(0,n.jsxs)("div",{className:d().unlockBannerContent,children:[(0,n.jsx)("p",{className:d().unlockText,children:"UNLOCK YOUR PATS"}),(0,n.jsxs)("p",{className:d().unlockDescription,children:["Register to get the latest updates from the topics"," ",(0,n.jsx)("span",{className:d().unlockUnderline,children:"you"})," care about"]}),(0,n.jsxs)("div",{className:d().storeButtons,children:[(0,n.jsx)("a",{href:"https://apps.apple.com/us/app/patreek/id6547858283",target:"_blank",rel:"noopener noreferrer",className:d().storeLink,children:(0,n.jsx)(p.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3729b558347b9bf210a5a_Store%3DApp%20Store%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Download on App Store",width:200,height:60,className:d().storeImage})}),(0,n.jsx)("a",{href:"#",className:d().storeLink,children:(0,n.jsx)(p.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3727c8abb3515ab42d712_Store%3DGoogle%20Play%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Get it on Google Play",width:200,height:60,className:d().storeImage})})]})]})}),(0,n.jsx)(_.Z,{placementId:"top-banner",showPlaceholder:!0}),(0,n.jsx)("div",{className:d().feedList,children:f?(0,n.jsx)("div",{className:d().emptyState,children:(0,n.jsx)("p",{children:"Loading articles..."})}):0===h.length?(0,n.jsx)("div",{className:d().emptyState,children:(0,n.jsx)("p",{children:"No articles available at the moment. Register to get the latest updates from the topics you care about"})}):S.map((e,t)=>{if("ad"===e.type)return(0,n.jsx)(_.Z,{placementId:"in-feed",showPlaceholder:!0},e.id);let i=e.data,l="/public/pats/".concat(i.id).concat(P);return(0,n.jsxs)("a",{href:l,className:d().feedCard,onClick:e=>{e.preventDefault(),a.push(l)},children:[i.imageUrl&&(0,n.jsxs)("div",{className:d().feedImage,children:[(0,n.jsx)(p.default,{src:i.imageUrl,alt:i.title,fill:!0,sizes:"(max-width: 768px) 100vw, 400px",style:{objectFit:"cover"}}),i.categoryName&&(0,n.jsx)("div",{className:d().categoryBadge,children:(0,n.jsx)("span",{className:d().categoryText,children:i.categoryName})})]}),(0,n.jsxs)("div",{className:d().feedContent,children:[(0,n.jsx)("h3",{className:d().feedTitle,children:i.title}),i.description&&(0,n.jsx)("p",{className:d().feedExcerpt,children:i.description.length>120?"".concat(i.description.substring(0,120),"..."):i.description})]})]},i.id)})}),(0,n.jsx)(_.Z,{placementId:"bottom-banner",showPlaceholder:!0}),(0,n.jsx)(g.Z,{})]})}},6777:function(e){e.exports={container:"page_container__jZF7q",header:"page_header__oRW75",headerInner:"page_headerInner__leMGi",logoSection:"page_logoSection__is0Qg",headerTitle:"page_headerTitle__Jd54L",logo:"page_logo__ikIZE",title:"page_title__po7na",subtitle:"page_subtitle__YBgxm",main:"page_main__nw1Wk",bannerAdSlot:"page_bannerAdSlot__eT4jk",feedList:"page_feedList__VxTRo",feedCard:"page_feedCard__GioUo",imageWrapper:"page_imageWrapper__Fc9qC",image:"page_image__ZQ2oC",feedImage:"page_feedImage__r1I4Y",feedContent:"page_feedContent__XQ0ID",feedExcerpt:"page_feedExcerpt__x1gq1",categoryBadge:"page_categoryBadge__TjLXs",categoryText:"page_categoryText__AOPvi",content:"page_content___38fW",feedTitle:"page_feedTitle__YfSVK",adSlot:"page_adSlot__h3xPr",adPlaceholder:"page_adPlaceholder__fOZZP",emptyState:"page_emptyState__j9MME",registerPrompt:"page_registerPrompt__mSJgN",loadingState:"page_loadingState__hO15Q",retryButton:"page_retryButton__rXSBT",definitionSection:"page_definitionSection__6msC_",definitionContent:"page_definitionContent__h30IB",definitionWord:"page_definitionWord__VKK2T",definitionWordText:"page_definitionWordText__GyQrH",definitionPartOfSpeech:"page_definitionPartOfSpeech__8CcIc",definitionMeaning:"page_definitionMeaning__QCXg7",definitionColon:"page_definitionColon__dX0yS",definitionText:"page_definitionText__HaN0Y",unlockBannerTop:"page_unlockBannerTop__EeLvh",unlockBanner:"page_unlockBanner__Ol3PL",unlockBannerContent:"page_unlockBannerContent__2Gy3x",unlockText:"page_unlockText__O6AO_",unlockBannerText:"page_unlockBannerText__TEPMz",unlockDescription:"page_unlockDescription__w_ZeM",unlockUnderline:"page_unlockUnderline__l9atb",storeButtons:"page_storeButtons__KngCj",storeLink:"page_storeLink__hoVu1",storeImage:"page_storeImage__hbm_s"}}},function(e){e.O(0,[565,556,990,972,726,662,971,117,744],function(){return e(e.s=5989)}),_N_E=e.O()}]);
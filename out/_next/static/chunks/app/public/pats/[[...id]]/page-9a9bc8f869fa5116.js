(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[414],{5989:function(e,t,a){Promise.resolve().then(a.bind(a,7863))},7863:function(e,t,a){"use strict";a.d(t,{default:function(){return m}});var s=a(7437),l=a(2265),n=a(9376),c=a(9116),i=a(4422),r=a(5148),o=a(6777),d=a.n(o),h=a(3145),u=a(8349),p=a(5857);function m(){let e=(0,n.usePathname)(),t=(0,n.useRouter)(),[a,o]=(0,l.useState)(null),[m,g]=(0,l.useState)([]),[f,x]=(0,l.useState)(!0),[b,j]=(0,l.useState)(null),[N,y]=(0,l.useState)(!1),v=(0,l.useRef)(null),[P,k]=(0,l.useState)(!1),[w,S]=(0,l.useState)(!1),C=(0,l.useMemo)(()=>{if("ag3nt007"===new URLSearchParams(window.location.search).get("bypass"))return"?bypass=ag3nt007";if(document.referrer)try{let e=new URL(document.referrer).searchParams.get("bypass");if("ag3nt007"===e)return"?bypass=ag3nt007"}catch(e){}return""},[]);async function A(){try{x(!0),j(null);let e=await (0,c.Dk)();g(e)}catch(e){console.warn("[PublicPatsHomePage] Failed to load feeds:",e),g([])}finally{x(!1)}}async function T(e){try{x(!0),console.log("[PublicPatsArticlePage] Loading article ".concat(e,"..."));let t=C.includes("bypass=ag3nt007");if(!t){let t=(0,i.A)(e);if(t){console.log("[PublicPatsArticlePage] Using cached article ".concat(e)),o(t),j(null),x(!1);return}}console.log("[PublicPatsArticlePage] Fetching article ".concat(e," from API").concat(t?" (bypass enabled)":""));let a=await (0,c.ST)(e);if(!a){console.log("[PublicPatsArticlePage] Article ".concat(e," not found or not public")),j("Article not found or not available"),setTimeout(()=>{window.location.href="/public/pats/"},2e3);return}(0,i.t)(e,a),o(a),j(null),console.log("[PublicPatsArticlePage] Successfully loaded article ".concat(e,": ").concat(a.title))}catch(e){console.error("[PublicPatsArticlePage] Failed to load article:",e),j("Failed to load article. Please try again later.")}finally{x(!1)}}(0,l.useEffect)(()=>{let t=null,a=!1;{let e=window.location.pathname,s=e.match(/^\/public\/pats\/(\d+)$/);s?(t=parseInt(s[1],10),a=!0):("/public/pats"===e||"/public/pats/"===e)&&(a=!1)}if(!t&&e){let s=e.match(/^\/public\/pats\/(\d+)$/);s?(t=parseInt(s[1],10),a=!0):("/public/pats"===e||"/public/pats/"===e)&&(a=!1)}y(a),a&&t?T(t):A()},[e,C]);let D=(0,l.useMemo)(()=>{let e=new Map;return m.forEach(t=>{let a=t.categoryName||"Other",s=e.get(a)||[];s.push(t),e.set(a,s)}),Array.from(e.entries()).map(e=>{let[t,a]=e;return{category:t,items:[...a].sort((e,t)=>{let a=e.createdAt?new Date(e.createdAt).getTime():0;return(t.createdAt?new Date(t.createdAt).getTime():0)-a})}})},[m]),L=p.default,_=e=>p[e]||L,I=e=>{let a="/public/pats/".concat(e).concat(C);t.push(a)},B=()=>{let e=v.current;if(!e)return;let{scrollLeft:t,clientWidth:a,scrollWidth:s}=e;k(t>8),S(t+a<s-8)};(0,l.useEffect)(()=>{B();let e=v.current;if(!e)return;let t=()=>B();return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[D.length]);let E=e=>{let t=v.current;if(!t)return;let a=t.querySelector(".".concat(d().categoryCard)),s=a?a.offsetWidth+16:320;t.scrollBy({left:"left"===e?-s:s,behavior:"smooth"})};return N?f?(0,s.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333"},children:(0,s.jsx)("p",{children:"Loading article..."})}):b||!a?(0,s.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333",padding:"20px"},children:[(0,s.jsx)("p",{children:b||"Article not found"}),(0,s.jsx)("a",{href:"/public/pats".concat(C),style:{marginTop:"16px",color:"#667eea",textDecoration:"underline"},children:"← Back to Home"})]}):(0,s.jsx)(r.Z,{article:a}):(0,s.jsxs)("div",{className:d().container,children:[(0,s.jsx)("header",{className:d().header,children:(0,s.jsxs)("div",{className:d().headerInner,children:[(0,s.jsx)("div",{className:d().logoSection,children:(0,s.jsx)(h.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:60,height:60,className:d().logo,priority:!0})}),(0,s.jsxs)("div",{className:d().headerTitle,children:[(0,s.jsx)("h2",{className:d().title,children:"Latest pats"}),(0,s.jsx)("p",{className:d().subtitle,children:"Let's read"})]})]})}),(0,s.jsx)("div",{className:d().definitionSection,children:(0,s.jsxs)("div",{className:d().definitionContent,children:[(0,s.jsxs)("div",{className:d().definitionWord,children:[(0,s.jsx)("span",{className:d().definitionWordText,children:"Pat"}),(0,s.jsx)("span",{className:d().definitionPartOfSpeech,children:"verb"})]}),(0,s.jsxs)("div",{className:d().definitionMeaning,children:[(0,s.jsx)("span",{className:d().definitionColon,children:":"}),(0,s.jsx)("span",{className:d().definitionText,children:"to tap or stroke a news card gently with the hand to soothe, or show approval"})]})]})}),(0,s.jsx)("div",{className:d().unlockBannerTop,children:(0,s.jsxs)("div",{className:d().unlockBannerContent,children:[(0,s.jsx)("p",{className:d().unlockText,children:"UNLOCK YOUR PATS"}),(0,s.jsxs)("p",{className:d().unlockDescription,children:["Register to get the latest updates from the topics"," ",(0,s.jsx)("span",{className:d().unlockUnderline,children:"you"})," care about"]}),(0,s.jsxs)("div",{className:d().storeButtons,children:[(0,s.jsx)("a",{href:"https://apps.apple.com/us/app/patreek/id6547858283",target:"_blank",rel:"noopener noreferrer",className:d().storeLink,children:(0,s.jsx)(h.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3729b558347b9bf210a5a_Store%3DApp%20Store%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Download on App Store",width:200,height:60,className:d().storeImage})}),(0,s.jsx)("a",{href:"#",className:d().storeLink,children:(0,s.jsx)(h.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3727c8abb3515ab42d712_Store%3DGoogle%20Play%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Get it on Google Play",width:200,height:60,className:d().storeImage})})]})]})}),(0,s.jsx)("div",{className:d().main,children:f?(0,s.jsx)("div",{className:d().emptyState,children:(0,s.jsx)("p",{children:"Loading articles..."})}):0===D.length?(0,s.jsx)("div",{className:d().emptyState,children:(0,s.jsx)("p",{children:"No articles available at the moment. Register to get the latest updates from the topics you care about"})}):(0,s.jsxs)("div",{className:d().carouselShell,children:[(0,s.jsx)("button",{className:"".concat(d().navButton," ").concat(P?"":d().navButtonDisabled),onClick:()=>E("left"),"aria-label":"Scroll categories left",disabled:!P,children:"‹"}),(0,s.jsx)("div",{className:d().categoryTrack,ref:v,onScroll:B,children:D.map(e=>{let[t,...a]=e.items;return t?(0,s.jsxs)("div",{className:d().categoryCard,children:[(0,s.jsxs)("div",{className:d().categoryHeader,children:[(0,s.jsx)("span",{className:d().categoryIcon,dangerouslySetInnerHTML:{__html:_(e.category)},"aria-hidden":"true"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:d().categoryLabel,children:"Category"}),(0,s.jsx)("h3",{className:d().categoryTitle,children:e.category})]})]}),(0,s.jsxs)("button",{className:d().hero,onClick:()=>I(t.id),"aria-label":"Open ".concat(t.title),children:[(0,s.jsx)("div",{className:d().heroImageWrapper,children:(0,s.jsx)("img",{src:t.imageUrl||"https://insideskills.pl/wp-content/uploads/2024/01/placeholder-6.png",alt:t.title,className:d().heroImage})}),(0,s.jsx)("div",{className:d().heroContent,children:(0,s.jsx)("h4",{className:d().heroTitle,children:t.title})})]}),(0,s.jsx)("div",{className:d().headlines,children:a.map(e=>(0,s.jsxs)("button",{className:d().headlineRow,onClick:()=>I(e.id),children:[(0,s.jsx)("span",{className:d().headlineBullet,children:"•"}),(0,s.jsx)("span",{className:d().headlineText,children:e.title})]},e.id))})]},e.category):null})}),(0,s.jsx)("button",{className:"".concat(d().navButton," ").concat(w?"":d().navButtonDisabled),onClick:()=>E("right"),"aria-label":"Scroll categories right",disabled:!w,children:"›"})]})}),(0,s.jsx)(u.Z,{})]})}}},function(e){e.O(0,[891,990,972,726,662,761,971,117,744],function(){return e(e.s=5989)}),_N_E=e.O()}]);
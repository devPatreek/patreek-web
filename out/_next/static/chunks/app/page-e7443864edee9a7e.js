(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6995:function(e,a,t){Promise.resolve().then(t.bind(t,7340))},7340:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return g}});var n=t(7437),s=t(2265),l=t(9376),o=t(9116),r=t(6777),c=t.n(r),i=t(3145),d=t(1215),p=t(3352),_=t(8349);function g(){let e=(0,l.usePathname)(),[a,t]=(0,s.useState)(!1),[o,r]=(0,s.useState)(null);(0,s.useEffect)(()=>{t(!0);{let e=window.location.pathname;r(e),console.log("[RootPage] Initial path detected:",e)}},[]),(0,s.useEffect)(()=>{if(a){let e=window.location.pathname;r(e),console.log("[RootPage] Path updated:",e)}},[e,a]);let c=(()=>{let a=window.location.pathname;return a&&/^\/article\/\d+/.test(a)?(console.log("[RootPage] Article route detected from window.location:",a),!0):!!(e&&/^\/article\/\d+/.test(e))&&(console.log("[RootPage] Article route detected from pathname:",e),!0)})();return(console.log("[RootPage] Rendering - mounted:",a,"isArticleRoute:",c,"pathname:",e,"actualPath:",o),c)?(0,n.jsx)(d.default,{}):(0,n.jsx)(h,{})}function h(){let[e,a]=(0,s.useState)([]),[t,l]=(0,s.useState)(!0),[r,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async function(){try{l(!0),d(null);let e=await (0,o.Dk)();a(e)}catch(e){console.warn("[HomePage] Failed to load feeds:",e),a([])}finally{l(!1)}})(),window.ezstandalone&&window.ezstandalone.cmd.push(function(){window.ezstandalone.showAds()})},[]);let g=(0,s.useMemo)(()=>{if(!e||0===e.length)return[];let a=[];return e.forEach((e,t)=>{a.push({type:"article",id:"article-".concat(e.id),data:e}),(t+1)%3==0&&a.push({type:"ad",id:"ad-".concat(t)})}),a},[e]);return(0,n.jsxs)("div",{className:c().container,children:[(0,n.jsx)("header",{className:c().header,children:(0,n.jsxs)("div",{className:c().headerInner,children:[(0,n.jsx)("div",{className:c().logoSection,children:(0,n.jsx)(i.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:60,height:60,className:c().logo,priority:!0})}),(0,n.jsxs)("div",{className:c().headerTitle,children:[(0,n.jsx)("h2",{className:c().title,children:"Latest news"}),(0,n.jsx)("p",{className:c().subtitle,children:"Let's read"})]})]})}),(0,n.jsx)("div",{className:c().unlockBannerTop,children:(0,n.jsxs)("div",{className:c().unlockBannerContent,children:[(0,n.jsx)("p",{className:c().unlockText,children:"UNLOCK YOUR NEWS FEED"}),(0,n.jsxs)("p",{className:c().unlockDescription,children:["Register to get the latest updates from the topics"," ",(0,n.jsx)("span",{className:c().unlockUnderline,children:"you"})," care about"]}),(0,n.jsxs)("div",{className:c().storeButtons,children:[(0,n.jsx)("a",{href:"https://apps.apple.com/us/app/patreek/id6547858283",target:"_blank",rel:"noopener noreferrer",className:c().storeLink,children:(0,n.jsx)(i.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3729b558347b9bf210a5a_Store%3DApp%20Store%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Download on App Store",width:200,height:60,className:c().storeImage})}),(0,n.jsx)("a",{href:"#",className:c().storeLink,children:(0,n.jsx)(i.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3727c8abb3515ab42d712_Store%3DGoogle%20Play%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Get it on Google Play",width:200,height:60,className:c().storeImage})})]})]})}),(0,n.jsx)("main",{className:c().main,children:t?(0,n.jsx)("div",{className:c().loadingState,children:(0,n.jsx)("p",{children:"Loading articles..."})}):r?(0,n.jsxs)("div",{className:c().emptyState,children:[(0,n.jsx)("p",{children:r}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:c().retryButton,children:"Retry"})]}):0===e.length?(0,n.jsxs)("div",{className:c().emptyState,children:[(0,n.jsx)("p",{children:"No articles available at the moment."}),(0,n.jsx)("p",{className:c().registerPrompt,children:"Register to get the latest updates from the topics you care about"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{placementId:101,showPlaceholder:!0}),(0,n.jsx)("div",{className:c().feedList,children:g.map((e,a)=>{if("ad"===e.type)return(0,n.jsx)(p.Z,{placementId:102,showPlaceholder:!0},e.id);let t=e.data,s="https://links.patreek.com/article/".concat(t.id);return(0,n.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:c().feedCard,children:[(0,n.jsxs)("div",{className:c().imageWrapper,children:[(0,n.jsx)("img",{src:t.imageUrl||"https://insideskills.pl/wp-content/uploads/2024/01/placeholder-6.png",alt:t.title,className:c().image}),(0,n.jsx)("div",{className:c().categoryBadge,children:(0,n.jsx)("span",{className:c().categoryText,children:t.categoryName})})]}),(0,n.jsx)("div",{className:c().content,children:(0,n.jsx)("h2",{className:c().feedTitle,children:t.title})})]},e.id)})}),(0,n.jsx)(p.Z,{placementId:103,showPlaceholder:!0})]})}),(0,n.jsx)(_.Z,{})]})}},6777:function(e){e.exports={container:"page_container__jZF7q",header:"page_header__oRW75",headerInner:"page_headerInner__leMGi",logoSection:"page_logoSection__is0Qg",headerTitle:"page_headerTitle__Jd54L",logo:"page_logo__ikIZE",title:"page_title__po7na",subtitle:"page_subtitle__YBgxm",main:"page_main__nw1Wk",bannerAdSlot:"page_bannerAdSlot__eT4jk",feedList:"page_feedList__VxTRo",feedCard:"page_feedCard__GioUo",imageWrapper:"page_imageWrapper__Fc9qC",image:"page_image__ZQ2oC",categoryBadge:"page_categoryBadge__TjLXs",categoryText:"page_categoryText__AOPvi",content:"page_content___38fW",feedTitle:"page_feedTitle__YfSVK",adSlot:"page_adSlot__h3xPr",adPlaceholder:"page_adPlaceholder__fOZZP",emptyState:"page_emptyState__j9MME",registerPrompt:"page_registerPrompt__mSJgN",loadingState:"page_loadingState__hO15Q",retryButton:"page_retryButton__rXSBT",unlockBannerTop:"page_unlockBannerTop__EeLvh",unlockBanner:"page_unlockBanner__Ol3PL",unlockBannerContent:"page_unlockBannerContent__2Gy3x",unlockText:"page_unlockText__O6AO_",unlockDescription:"page_unlockDescription__w_ZeM",unlockUnderline:"page_unlockUnderline__l9atb",storeButtons:"page_storeButtons__KngCj",storeLink:"page_storeLink__hoVu1",storeImage:"page_storeImage__hbm_s"}}},function(e){e.O(0,[136,990,972,726,215,971,117,744],function(){return e(e.s=6995)}),_N_E=e.O()}]);
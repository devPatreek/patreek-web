(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{6384:function(e,a,s){Promise.resolve().then(s.bind(s,4153))},4153:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return g}});var t=s(7437),r=s(2265),n=s(9376),l=s(7648),i=s(3145),o=s(9924),c=s.n(o),d=s(3595),u=s(8349),m=s(7029),h=s(3726),_=s.n(h);function p(e){let{currentXp:a,targetXp:s,rankName:r,dailyXp:n,dailyCap:l}=e,i=Math.max(0,Math.floor(a)),o=Math.max(1,Math.floor(s)),c=Math.max(0,Math.floor(n)),d=Math.max(1,Math.floor(l)),u=d?Math.min(100,Math.round(c/d*100)):0,m=i>=.7*o;return(0,t.jsxs)("div",{className:_().wrapper,children:[(0,t.jsxs)("div",{className:_().titleRow,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:_().sectionLabel,children:"Level Progress"}),(0,t.jsx)("p",{className:_().rankName,children:r})]}),(0,t.jsxs)("p",{className:_().levelText,children:[i.toLocaleString()," / ",o.toLocaleString()," XP"]})]}),(0,t.jsx)("div",{className:_().progressTrack,"aria-label":"Level progress",children:(0,t.jsx)("div",{className:_().fill,style:{width:"".concat(o?Math.min(100,Math.round(i/o*100)):0,"%")}})}),(0,t.jsxs)("div",{className:_().dailyRow,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:_().dailyLabel,children:"Daily Focus"}),(0,t.jsxs)("p",{className:_().dailyText,children:[c.toLocaleString()," / ",d.toLocaleString()," XP today"]})]}),(0,t.jsxs)("span",{className:_().dailyPercent,children:[u,"%"]})]}),(0,t.jsx)("div",{className:_().dailyTrack,"aria-label":"Daily focus progress",children:(0,t.jsx)("div",{className:_().dailyFill,style:{width:"".concat(u,"%")}})}),(0,t.jsxs)("div",{className:_().actionsRow,children:[(0,t.jsx)("button",{type:"button",className:"".concat(_().buyButton," ").concat(m?_().buyActive:""),disabled:!m,children:"Buy Rank"}),(0,t.jsx)("span",{className:_().buyHint,children:m?"Ready to ascend":"Need more XP to unlock next tier"})]})]})}function g(){var e,a,s,o,h,_,g,f,x,v;let j=(0,n.useRouter)(),[N,y]=(0,r.useState)(!0),[L,b]=(0,r.useState)(!1),[k,w]=(0,r.useState)(null),[P,B]=(0,r.useState)(!1),[T,C]=(0,r.useState)(!1),[S,I]=(0,r.useState)(""),[A,F]=(0,r.useState)(""),[D,X]=(0,r.useState)(!1),[M,R]=(0,r.useState)(null),[H,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{if((await (0,m.checkSessionStatus)()).authenticated){b(!0);let e=await (0,m.getUserProfile)();w(e),I((null==e?void 0:e.name)||""),F((null==e?void 0:e.headline)||"")}else j.replace("/registration")}catch(e){console.error("Error checking session:",e),j.replace("/registration")}finally{y(!1)}})()},[j]);let V=async()=>{try{await (0,m.w7)(),window.location.href="https://patreek.com"}catch(e){console.error("Error signing out:",e),window.location.href="https://patreek.com"}},G=async()=>{if(k){X(!0),R(null),E(!1);try{let e={name:S.trim()||void 0,headline:A.trim()||void 0},a=await (0,m.ck)(e);w(a),C(!1),E(!0),setTimeout(()=>E(!1),3e3)}catch(e){R(e instanceof Error?e.message:"Failed to update profile")}finally{X(!1)}}};if(N)return(0,t.jsxs)("div",{className:c().page,children:[(0,t.jsx)(d.Z,{hasSession:!0}),(0,t.jsx)("div",{className:c().loading,children:(0,t.jsx)("p",{children:"Loading your profile…"})}),(0,t.jsx)(u.Z,{})]});if(!L)return null;let O=null!==(s=null==k?void 0:null===(e=k.rank)||void 0===e?void 0:e.level)&&void 0!==s?s:1,W=null!==(o=null==k?void 0:null===(a=k.rank)||void 0===a?void 0:a.name)&&void 0!==o?o:"Fledgling",Z=(null==k?void 0:k.name)?k.name.split(" ").map(e=>{var a;return null===(a=e[0])||void 0===a?void 0:a.toUpperCase()}).join("").slice(0,2):"P";return(0,t.jsxs)("div",{className:c().page,children:[(0,t.jsx)(d.Z,{hasSession:!0}),(0,t.jsx)("main",{className:c().main,children:(0,t.jsxs)("div",{className:c().container,children:[(0,t.jsxs)("section",{className:c().heroCard,children:[(0,t.jsx)("div",{className:c().cover}),(0,t.jsxs)("div",{className:c().heroInner,children:[(0,t.jsx)("div",{className:c().avatar,children:(null==k?void 0:k.avatarUrl)?(0,t.jsx)(i.default,{src:k.avatarUrl,alt:k.name||"Profile",width:96,height:96,className:c().avatarImage}):(0,t.jsx)("span",{className:c().avatarInitials,children:Z})}),(0,t.jsx)("div",{className:c().heroMeta,children:T?(0,t.jsxs)("div",{className:c().editForm,children:[(0,t.jsxs)("div",{className:c().formGroup,children:[(0,t.jsx)("label",{htmlFor:"name",className:c().formLabel,children:"Name"}),(0,t.jsx)("input",{id:"name",type:"text",value:S,onChange:e=>I(e.target.value),className:c().formInput,maxLength:255,placeholder:"Your name"})]}),(0,t.jsxs)("div",{className:c().formGroup,children:[(0,t.jsxs)("label",{htmlFor:"headline",className:c().formLabel,children:["Headline",(0,t.jsxs)("span",{className:c().charCount,children:[A.length,"/150"]})]}),(0,t.jsx)("textarea",{id:"headline",value:A,onChange:e=>{e.target.value.length<=150&&F(e.target.value)},className:c().formTextarea,maxLength:150,placeholder:"What you do for a living (e.g., Software Engineer at Tech Corp)",rows:3})]}),M&&(0,t.jsx)("div",{className:c().errorMessage,children:M}),H&&(0,t.jsx)("div",{className:c().successMessage,children:"Profile updated successfully!"}),(0,t.jsxs)("div",{className:c().formActions,children:[(0,t.jsx)("button",{onClick:()=>{C(!1),I((null==k?void 0:k.name)||""),F((null==k?void 0:k.headline)||""),R(null),E(!1)},className:c().cancelButton,disabled:D,children:"Cancel"}),(0,t.jsx)("button",{onClick:G,className:c().saveButton,disabled:D,children:D?"Saving...":"Save"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:c().nameRow,children:[(0,t.jsx)("h1",{className:c().name,children:(null==k?void 0:k.name)||"Patreek User"}),(null==k?void 0:k.username)&&(0,t.jsxs)("p",{className:c().username,children:["@",k.username]})]}),(null==k?void 0:k.headline)&&(0,t.jsx)("p",{className:c().headline,children:k.headline}),(null==k?void 0:k.email)&&(0,t.jsx)("p",{className:c().email,children:k.email}),(null==k?void 0:k.createdAt)&&(0,t.jsxs)("p",{className:c().joined,children:["Joined ",new Date(k.createdAt).toLocaleDateString()]}),(0,t.jsxs)("div",{className:c().heroActions,children:[(0,t.jsx)("button",{onClick:()=>{C(!0),I((null==k?void 0:k.name)||""),F((null==k?void 0:k.headline)||""),R(null),E(!1)},className:c().editButton,children:"Edit Profile"}),(0,t.jsx)(l.default,{href:"/home",className:c().primaryButton,children:"View your pats"}),(0,t.jsx)(l.default,{href:"/profile/categories",className:c().secondaryButton,children:"Manage categories"})]})]})})]}),(0,t.jsxs)("div",{className:c().statsRow,children:[(0,t.jsxs)("div",{className:c().statChip,children:[(0,t.jsx)("span",{className:c().statLabel,children:"Pats"}),(0,t.jsx)("span",{className:c().statValue,children:null!==(h=null==k?void 0:k.totalPats)&&void 0!==h?h:0})]}),(0,t.jsxs)("div",{className:c().statChip,children:[(0,t.jsx)("span",{className:c().statLabel,children:"Comments"}),(0,t.jsx)("span",{className:c().statValue,children:null!==(_=null==k?void 0:k.totalComments)&&void 0!==_?_:0})]}),(0,t.jsxs)("div",{className:c().statChip,children:[(0,t.jsx)("span",{className:c().statLabel,children:"Shares"}),(0,t.jsx)("span",{className:c().statValue,children:null!==(g=null==k?void 0:k.totalShares)&&void 0!==g?g:0})]}),(0,t.jsxs)("div",{className:c().statChip,children:[(0,t.jsx)("span",{className:c().statLabel,children:"Pat Coins"}),(0,t.jsx)("span",{className:c().statValue,children:null!==(f=null==k?void 0:k.coins)&&void 0!==f?f:0})]})]})]}),(0,t.jsxs)("div",{className:c().progressSection,children:[(0,t.jsx)(p,{currentXp:(null!==(x=null==k?void 0:k.totalPats)&&void 0!==x?x:0)*10,targetXp:Math.max(4200,(O+1)*1500),rankName:W,dailyXp:Math.min((null!==(v=null==k?void 0:k.totalPats)&&void 0!==v?v:0)*2,200),dailyCap:200}),(0,t.jsx)("p",{className:c().adLoadStatus,children:O>=5?"Ad Load: None (Premium Status Active) ✨":"Ad Load: Heavy/Medium (Reach Fledgling to remove)"})]}),(0,t.jsxs)("div",{className:c().grid,children:[(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("div",{className:c().cardHeader,children:(0,t.jsx)("h2",{className:c().sectionTitle,children:"Account"})}),(0,t.jsxs)("div",{className:c().settingList,children:[(0,t.jsxs)(l.default,{href:"/profile/settings",className:c().settingItem,children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDC64"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Profile settings"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]}),(0,t.jsxs)(l.default,{href:"/profile/categories",className:c().settingItem,children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDCF0"}),(0,t.jsx)("span",{className:c().settingLabel,children:"News categories"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]})]})]}),(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("div",{className:c().cardHeader,children:(0,t.jsx)("h2",{className:c().sectionTitle,children:"Preferences"})}),(0,t.jsx)("div",{className:c().settingList,children:(0,t.jsxs)("div",{className:c().settingItem,children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83C\uDF19"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Dark mode"})]}),(0,t.jsxs)("label",{className:c().toggle,children:[(0,t.jsx)("input",{type:"checkbox",checked:P,onChange:()=>{B(!P)}}),(0,t.jsx)("span",{className:c().toggleSlider})]})]})})]}),(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("div",{className:c().cardHeader,children:(0,t.jsx)("h2",{className:c().sectionTitle,children:"Support"})}),(0,t.jsxs)("div",{className:c().settingList,children:[(0,t.jsxs)(l.default,{href:"/terms",className:c().settingItem,children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDCC4"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Terms & Conditions"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]}),(0,t.jsxs)(l.default,{href:"/contact",className:c().settingItem,children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDCAC"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Help & Support"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]})]})]}),(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("div",{className:c().cardHeader,children:(0,t.jsx)("h2",{className:c().sectionTitle,children:"Account actions"})}),(0,t.jsxs)("div",{className:c().settingList,children:[(0,t.jsxs)("button",{onClick:V,className:"".concat(c().settingItem," ").concat(c().signOutButton),children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDEAA"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Sign out"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]}),(0,t.jsxs)("button",{className:"".concat(c().settingItem," ").concat(c().deleteButton),onClick:()=>{confirm("Are you sure you want to delete your account? This action cannot be undone.")&&console.log("Delete account")},children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDDD1️"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Delete account"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]})]})]})]})]})}),(0,t.jsx)(u.Z,{})]})}},8349:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});var t=s(7437),r=s(7648),n=s(3145),l=s(1468),i=s.n(l);function o(){return(0,t.jsx)("footer",{className:i().footer,children:(0,t.jsxs)("div",{className:i().container,children:[(0,t.jsxs)("div",{className:i().footerGrid,children:[(0,t.jsx)(r.default,{href:"/",className:i().logoLink,children:(0,t.jsx)(n.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:111,height:60,className:i().footerLogo})}),(0,t.jsxs)("div",{className:i().footerColumn,children:[(0,t.jsx)("div",{className:i().columnTitle,children:"Product"}),(0,t.jsx)(r.default,{href:"/",className:i().footerLink,children:"Home"}),(0,t.jsx)("a",{href:"https://patreek.com/features",className:i().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Features"}),(0,t.jsx)("a",{href:"https://patreek.com/pricing",className:i().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Pricing"})]}),(0,t.jsxs)("div",{className:i().footerColumn,children:[(0,t.jsx)("div",{className:i().columnTitle,children:"Company"}),(0,t.jsx)("a",{href:"https://patreek.com/about",className:i().footerLink,target:"_blank",rel:"noopener noreferrer",children:"About"}),(0,t.jsx)("a",{href:"https://patreek.com/contact",className:i().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Contact"}),(0,t.jsx)(r.default,{href:"/privacy",className:i().footerLink,children:"Privacy Policy"}),(0,t.jsx)(r.default,{href:"/terms",className:i().footerLink,children:"Terms & Conditions"})]}),(0,t.jsxs)("div",{className:i().footerColumn,children:[(0,t.jsx)("div",{className:i().columnTitle,children:"Social"}),(0,t.jsx)("a",{href:"https://x.com/",target:"_blank",rel:"noopener noreferrer",className:i().footerLink,children:"X (Twitter)"}),(0,t.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",className:i().footerLink,children:"Instagram"}),(0,t.jsx)("a",{href:"https://www.linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:i().footerLink,children:"LinkedIn"})]})]}),(0,t.jsx)("div",{className:i().divider}),(0,t.jsxs)("div",{className:i().footerBottom,children:[(0,t.jsxs)("div",{className:i().copyright,children:["\xa9 ",new Date().getFullYear()," Patreek. All rights reserved."]}),(0,t.jsx)("div",{className:i().companyInfo,children:"Patreek App is owned by Sentigraph Inc."})]})]})})}},9376:function(e,a,s){"use strict";var t=s(5475);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},257:function(e,a,s){"use strict";var t,r;e.exports=(null==(t=s.g.process)?void 0:t.env)&&"object"==typeof(null==(r=s.g.process)?void 0:r.env)?s.g.process:s(4227)},4227:function(e){!function(){var a={229:function(e){var a,s,t,r=e.exports={};function n(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function i(e){if(a===setTimeout)return setTimeout(e,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(s){try{return a.call(null,e,0)}catch(s){return a.call(this,e,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:n}catch(e){a=n}try{s="function"==typeof clearTimeout?clearTimeout:l}catch(e){s=l}}();var o=[],c=!1,d=-1;function u(){c&&t&&(c=!1,t.length?o=t.concat(o):d=-1,o.length&&m())}function m(){if(!c){var e=i(u);c=!0;for(var a=o.length;a;){for(t=o,o=[];++d<a;)t&&t[d].run();d=-1,a=o.length}t=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===l||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(a){try{return s.call(null,e)}catch(a){return s.call(this,e)}}}(e)}}function h(e,a){this.fun=e,this.array=a}function _(){}r.nextTick=function(e){var a=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)a[s-1]=arguments[s];o.push(new h(e,a)),1!==o.length||c||i(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},s={};function t(e){var r=s[e];if(void 0!==r)return r.exports;var n=s[e]={exports:{}},l=!0;try{a[e](n,n.exports,t),l=!1}finally{l&&delete s[e]}return n.exports}t.ab="//";var r=t(229);e.exports=r}()},9924:function(e){e.exports={page:"page_page__7nxjA",loading:"page_loading__fw5k2",main:"page_main__JPdsv",container:"page_container__n877s",heroCard:"page_heroCard__RPslb",cover:"page_cover__ARynL",heroInner:"page_heroInner__hvszS",avatar:"page_avatar__MIa8k",avatarImage:"page_avatarImage__BivQR",avatarInitials:"page_avatarInitials__DVXVP",heroMeta:"page_heroMeta__ToP1s",nameRow:"page_nameRow__rj2tl",name:"page_name__G9nOM",username:"page_username__lePzw",headline:"page_headline___9JFt",email:"page_email__igijm",joined:"page_joined__Pv7So",heroActions:"page_heroActions__X6Ws4",primaryButton:"page_primaryButton__OwI7N",secondaryButton:"page_secondaryButton__RuV_b",editButton:"page_editButton__EOXh1",statsRow:"page_statsRow__DL2S6",progressSection:"page_progressSection__MOTXF",adLoadStatus:"page_adLoadStatus__U6xou",statChip:"page_statChip__iMIkB",statLabel:"page_statLabel__vZXB_",statValue:"page_statValue__qB9Oc",grid:"page_grid__G25_g",card:"page_card__531ro",cardHeader:"page_cardHeader__HiqAZ",sectionTitle:"page_sectionTitle__W1erW",settingList:"page_settingList__Nrst2",settingItem:"page_settingItem__eH8bF",settingLeft:"page_settingLeft__MBx7c",settingIcon:"page_settingIcon__X1_TN",settingLabel:"page_settingLabel__xEYla",settingArrow:"page_settingArrow__vFIk_",toggle:"page_toggle__ROP25",toggleSlider:"page_toggleSlider__owyl2",signOutButton:"page_signOutButton__LUPPl",deleteButton:"page_deleteButton__zngTf",editForm:"page_editForm__4YCiq",formGroup:"page_formGroup__Axb6m",formLabel:"page_formLabel__ZpjI9",charCount:"page_charCount__IcneL",formInput:"page_formInput__KY_Jk",formTextarea:"page_formTextarea__pI19_",formActions:"page_formActions__CtuBs",cancelButton:"page_cancelButton__jFbMB",saveButton:"page_saveButton__REKG6",errorMessage:"page_errorMessage__fyHF8",successMessage:"page_successMessage__WGMiA"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",container:"Footer_container__KpDnW",footerGrid:"Footer_footerGrid__K31Dz",footerColumn:"Footer_footerColumn__kGECR",columnTitle:"Footer_columnTitle__WcnMX",footerLink:"Footer_footerLink__xz_wT",logoLink:"Footer_logoLink__Xoc6g",footerLogo:"Footer_footerLogo__4BA6d",divider:"Footer_divider__YAbaq",footerBottom:"Footer_footerBottom__YIYBj",copyright:"Footer_copyright__j4atB",companyInfo:"Footer_companyInfo__xaSgf",dark:"Footer_dark__otfV8"}},3726:function(e){e.exports={wrapper:"XpProgressBar_wrapper__jnHlN",titleRow:"XpProgressBar_titleRow__3rBek",sectionLabel:"XpProgressBar_sectionLabel__2oksW",rankName:"XpProgressBar_rankName__p3B_e",levelText:"XpProgressBar_levelText__mlonf",progressTrack:"XpProgressBar_progressTrack__VYhV9",fill:"XpProgressBar_fill__zW9sj",dailyRow:"XpProgressBar_dailyRow__jjxBB",dailyLabel:"XpProgressBar_dailyLabel__XnXnn",dailyText:"XpProgressBar_dailyText__VHQ3o",dailyPercent:"XpProgressBar_dailyPercent__hQ9VD",dailyTrack:"XpProgressBar_dailyTrack__ZPhGB",dailyFill:"XpProgressBar_dailyFill__9wuSA",actionsRow:"XpProgressBar_actionsRow__dmXZS",buyButton:"XpProgressBar_buyButton__fmKjW",buyActive:"XpProgressBar_buyActive__fIwHI",buyHint:"XpProgressBar_buyHint__bIxBO"}}},function(e){e.O(0,[5832,9031,2972,5726,7029,3595,2971,2117,1744],function(){return e(e.s=6384)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5252],{4493:function(e,a,s){Promise.resolve().then(s.bind(s,3712))},3712:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return o}});var n=s(7437),i=s(2265),l=s(9376),c=s(3885),r=s.n(c),t=s(8349),d=s(3595);function o(){let e=(0,l.useRouter)(),[a,c]=(0,i.useState)(!1),[o,p]=(0,i.useState)(null),[m,h]=(0,i.useState)(!0),[_,u]=(0,i.useState)(null),[x,g]=(0,i.useState)("100"),[j,N]=(0,i.useState)("card"),[b,f]=(0,i.useState)("Ad-free day"),[v,w]=(0,i.useState)("50"),[y,S]=(0,i.useState)("25"),[P,C]=(0,i.useState)("");(0,i.useEffect)(()=>{(async()=>{try{let{checkSessionStatus:a,getUserProfile:n}=await Promise.resolve().then(s.bind(s,7029)),i=(await a()).authenticated;if(c(i),!i){h(!1);return}let l=await n();if(l){var e;p(null!==(e=l.coins)&&void 0!==e?e:0)}else u("Failed to load coins")}catch(e){u("Error loading coins")}finally{h(!1)}})()},[]);let k=e=>{alert("".concat(e," — wire this to backend when ready."))};return(0,n.jsxs)("div",{className:r().page,children:[(0,n.jsx)(d.Z,{active:"coins",hasSession:a}),(0,n.jsx)("main",{className:r().main,children:(0,n.jsxs)("div",{className:r().content,children:[(0,n.jsxs)("div",{className:r().heroRow,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:r().heading,children:"Pat Coins"}),(0,n.jsx)("p",{className:r().subhead,children:"Earn, redeem, or send coins. 1 Pat = $1 (in-app)."})]}),(0,n.jsxs)("div",{className:r().feePill,children:[(0,n.jsx)("span",{className:r().feeDot})," In-app redemptions have 0% fee. External cash-out not enabled."]})]}),m?(0,n.jsx)("div",{className:r().loading,children:"Loading coins..."}):_?(0,n.jsx)("div",{className:r().error,children:_}):a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:r().balanceCard,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:r().balanceLabel,children:"Available"}),(0,n.jsx)("h2",{className:r().balanceValue,children:null!==o?o.toLocaleString():"0"}),(0,n.jsx)("p",{className:r().balanceSub,children:"Pat Coins"})]}),(0,n.jsxs)("div",{className:r().balanceMeta,children:[(0,n.jsx)("p",{className:r().metaTitle,children:"Earning tips"}),(0,n.jsxs)("ul",{className:r().metaList,children:[(0,n.jsx)("li",{children:"+ Pats on your posts"}),(0,n.jsx)("li",{children:"+ Approved comments"}),(0,n.jsx)("li",{children:"+ Shares of your pats"})]})]})]}),(0,n.jsxs)("div",{className:r().grid,children:[(0,n.jsxs)("section",{className:r().card,children:[(0,n.jsxs)("header",{className:r().cardHeader,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:r().cardEyebrow,children:"Buy"}),(0,n.jsx)("h3",{className:r().cardTitle,children:"Purchase Pat Coins"})]}),(0,n.jsx)("div",{className:r().chip,children:"Fiat / Stable"})]}),(0,n.jsxs)("div",{className:r().formGroup,children:[(0,n.jsx)("label",{className:r().label,children:"Amount"}),(0,n.jsxs)("div",{className:r().inputRow,children:[(0,n.jsx)("input",{type:"number",min:"1",value:x,onChange:e=>g(e.target.value),className:r().input}),(0,n.jsx)("span",{className:r().inputSuffix,children:"Pat"})]}),(0,n.jsxs)("p",{className:r().hint,children:["= $",(Number(x)||0).toFixed(2)," USD"]})]}),(0,n.jsxs)("div",{className:r().formGroup,children:[(0,n.jsx)("label",{className:r().label,children:"Pay with"}),(0,n.jsxs)("div",{className:r().segment,children:[(0,n.jsx)("button",{className:"".concat(r().segmentBtn," ").concat("card"===j?r().segmentActive:""),onClick:()=>N("card"),children:"\uD83D\uDCB3 Card"}),(0,n.jsx)("button",{className:"".concat(r().segmentBtn," ").concat("usdc"===j?r().segmentActive:""),onClick:()=>N("usdc"),children:"\uD83E\uDE99 USDC"})]})]}),(0,n.jsx)("button",{className:r().primaryAction,onClick:()=>k("Purchase flow"),children:"Purchase"}),(0,n.jsx)("p",{className:r().finePrint,children:"Payment processing fee may apply from provider. No Patreek fee to buy."})]}),(0,n.jsxs)("section",{className:r().card,children:[(0,n.jsxs)("header",{className:r().cardHeader,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:r().cardEyebrow,children:"Redeem"}),(0,n.jsx)("h3",{className:r().cardTitle,children:"Swap coins for benefits"})]}),(0,n.jsx)("div",{className:r().chip,children:"0% fee"})]}),(0,n.jsxs)("div",{className:r().formGroup,children:[(0,n.jsx)("label",{className:r().label,children:"Choose benefit"}),(0,n.jsx)("select",{className:r().select,value:b,onChange:e=>f(e.target.value),children:[{name:"Ad-free day",cost:50,description:"Hide ads for 24 hours"},{name:"Boosted pat",cost:100,description:"Feature your pat higher for 6 hours"},{name:"Profile flair",cost:75,description:"Unlock a rare badge for 7 days"},{name:"Comment highlight",cost:40,description:"Highlight one comment for extra visibility"}].map(e=>(0,n.jsxs)("option",{value:e.name,children:[e.name," — ",e.cost," Pat"]},e.name))})]}),(0,n.jsxs)("div",{className:r().swapBox,children:[(0,n.jsxs)("div",{className:r().swapRow,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:r().swapLabel,children:"Paying"}),(0,n.jsxs)("div",{className:r().swapAmount,children:[(0,n.jsx)("input",{type:"number",min:"0",value:v,onChange:e=>w(e.target.value)}),(0,n.jsx)("span",{children:"Pat"})]})]}),(0,n.jsx)("div",{className:r().swapIcon,children:"⇅"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:r().swapLabel,children:"Receiving"}),(0,n.jsx)("p",{className:r().swapResult,children:b})]})]}),(0,n.jsx)("p",{className:r().hint,children:"No fee when redeeming for in-app benefits."})]}),(0,n.jsx)("button",{className:r().primaryAction,onClick:()=>k("Redeem flow"),children:"Redeem"})]}),(0,n.jsxs)("section",{className:r().card,children:[(0,n.jsxs)("header",{className:r().cardHeader,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:r().cardEyebrow,children:"Send"}),(0,n.jsx)("h3",{className:r().cardTitle,children:"Tip another user"})]}),(0,n.jsx)("div",{className:r().chip,children:"1% fee on cash-out only"})]}),(0,n.jsxs)("div",{className:r().formGroup,children:[(0,n.jsx)("label",{className:r().label,children:"Recipient username"}),(0,n.jsx)("input",{type:"text",placeholder:"@username",value:P,onChange:e=>C(e.target.value),className:r().input})]}),(0,n.jsxs)("div",{className:r().formGroup,children:[(0,n.jsx)("label",{className:r().label,children:"Amount"}),(0,n.jsxs)("div",{className:r().inputRow,children:[(0,n.jsx)("input",{type:"number",min:"1",value:y,onChange:e=>S(e.target.value),className:r().input}),(0,n.jsx)("span",{className:r().inputSuffix,children:"Pat"})]})]}),(0,n.jsx)("button",{className:r().primaryAction,onClick:()=>k("Send flow"),children:"Send tip"}),(0,n.jsx)("p",{className:r().finePrint,children:"Transfers are instant. Only cash-out to stablecoin (future) would incur 1% fee."})]})]})]}):(0,n.jsxs)("div",{className:r().signInPrompt,children:[(0,n.jsx)("p",{className:r().promptText,children:"Sign in to see your Pat Coins balance and start earning!"}),(0,n.jsx)("button",{className:r().signInButton,onClick:()=>e.push("/registration"),children:"Sign up or Sign in"})]})]})}),(0,n.jsx)(t.Z,{})]})}},3885:function(e){e.exports={page:"page_page__0Tisy",main:"page_main__d_Mtc",content:"page_content__LrnNK",heroRow:"page_heroRow___2TSA",heading:"page_heading__9_OwE",subhead:"page_subhead__g_Bcn",feePill:"page_feePill__etv7Z",feeDot:"page_feeDot__7oeiG",loading:"page_loading___wU0_",error:"page_error__xF8xi",balanceCard:"page_balanceCard__ZLBG3",balanceLabel:"page_balanceLabel__8Hp9o",balanceValue:"page_balanceValue__0x5vr",balanceSub:"page_balanceSub__dDJIl",balanceMeta:"page_balanceMeta__eP32e",metaTitle:"page_metaTitle__xDbnF",metaList:"page_metaList__E8h9g",grid:"page_grid__raFkr",card:"page_card__K9x2o",cardHeader:"page_cardHeader__WvXiX",cardEyebrow:"page_cardEyebrow__O_J5m",cardTitle:"page_cardTitle___kcaN",chip:"page_chip__lTLmy",formGroup:"page_formGroup__UclF1",label:"page_label__k8ybO",input:"page_input__wzB0H",inputRow:"page_inputRow__dHrtx",inputSuffix:"page_inputSuffix__LbjxF",hint:"page_hint__FbhJ4",segment:"page_segment__E0Mr5",segmentBtn:"page_segmentBtn__kkSFV",segmentActive:"page_segmentActive__h1J5N",select:"page_select__UrvQq",swapBox:"page_swapBox__7oXOd",swapRow:"page_swapRow__Hy3YM",swapLabel:"page_swapLabel__ZQOGT",swapAmount:"page_swapAmount__nFHNT",swapResult:"page_swapResult__gOaql",swapIcon:"page_swapIcon__jor5l",primaryAction:"page_primaryAction__8W1xs",finePrint:"page_finePrint__ficwx",signInPrompt:"page_signInPrompt__Fok94",promptText:"page_promptText__qGBEr",signInButton:"page_signInButton__OtZF2"}}},function(e){e.O(0,[563,2972,5726,1908,7611,2971,2117,1744],function(){return e(e.s=4493)}),_N_E=e.O()}]);
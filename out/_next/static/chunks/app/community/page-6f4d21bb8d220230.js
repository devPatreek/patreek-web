(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4616],{8557:function(e,a,s){Promise.resolve().then(s.bind(s,7223))},7223:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return m}});var r=s(7437),t=s(2265),n=s(8706),o=s.n(n),l=s(8349),c=s(3595),i=s(7029);let d=[{key:"shares",label:"Top Sharers",accent:"var(--accent-blue)",helper:"Most article shares"},{key:"comments",label:"Top Commenters",accent:"var(--accent-orange)",helper:"Most comments"},{key:"pats",label:"Top Patters",accent:"var(--accent-teal)",helper:"Most pats given"},{key:"coins",label:"Top Coin Holders",accent:"var(--accent-gold, #f2c94c)",helper:"Largest Pat Coin balances"}];function m(){let[e,a]=(0,t.useState)(!1),[s,n]=(0,t.useState)({shares:[],comments:[],pats:[],coins:[]}),[m,_]=(0,t.useState)(!0),[p,u]=(0,t.useState)([]),[g,x]=(0,t.useState)(""),[f,j]=(0,t.useState)(!1),[N,b]=(0,t.useState)(null),[v,k]=(0,t.useState)(0);(0,t.useEffect)(()=>{if(v<=0)return;let e=setInterval(()=>{k(e=>e>0?e-1:0)},1e3);return()=>clearInterval(e)},[v]),(0,t.useEffect)(()=>{(async()=>{try{let e=await (0,i.checkSessionStatus)();a(e.authenticated)}catch(e){a(!1)}try{_(!0);let e=await Promise.all(d.map(e=>(0,i.U$)(e.key,10))),a=d.reduce((a,s,r)=>{var t;return a[s.key]=null!==(t=e[r])&&void 0!==t?t:[],a},{});n(a)}finally{_(!1)}try{let e=await (0,i.Oh)("global");u(e)}catch(e){}})()},[]);let y=async()=>{let e=g.trim();if(!e)return;let a=function(e){var a;if(!e.startsWith("/"))return;let s=e.trim().split(/\s+/),r=null===(a=s[0])||void 0===a?void 0:a.toLowerCase(),t=s.slice(1);if("/tip"===r&&t.length>=2)return{name:"tip",args:t}}(e);j(!0),b(null);let s={id:"local-".concat(Date.now()),username:"you",displayName:"You",text:e,createdAt:new Date().toISOString()};u(e=>[...e,s]),x(""),k(30);let r=await (0,i.Zh)("global",e,a);j(!1),r||b("Could not send message. Please try again.")},w=(0,t.useMemo)(()=>p.slice(-50),[p]);return(0,r.jsxs)("div",{className:o().page,children:[(0,r.jsx)(c.Z,{active:"community",hasSession:e}),(0,r.jsxs)("main",{className:o().main,children:[(0,r.jsxs)("section",{className:o().hero,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:o().eyebrow,children:"Community"}),(0,r.jsx)("h1",{className:o().title,children:"Patreek Pulse"}),(0,r.jsx)("p",{className:o().subtitle,children:"See who’s leading the conversation and connect in the live lounge. Leaderboards are public; chat is for signed-in members on desktop."})]}),(0,r.jsxs)("div",{className:o().heroBadge,children:[(0,r.jsx)("span",{className:o().dot}),"Live pulse"]})]}),(0,r.jsxs)("section",{className:o().leaderboards,children:[(0,r.jsxs)("div",{className:o().sectionHeader,children:[(0,r.jsx)("h2",{children:"Leaderboards"}),(0,r.jsx)("p",{children:"Updated frequently — totals reflect the top 10 contributors."})]}),(0,r.jsx)("div",{className:o().boardGrid,children:d.map(e=>(0,r.jsx)(h,{label:e.label,helper:e.helper,accent:e.accent,loading:m,entries:s[e.key]},e.key))})]}),(0,r.jsxs)("section",{className:o().chatSection,children:[(0,r.jsxs)("div",{className:o().sectionHeader,children:[(0,r.jsx)("h2",{children:"Community Lounge"}),(0,r.jsx)("p",{children:"Desktop-only real-time chat. Mobile users can view leaderboards."})]}),(0,r.jsxs)("div",{className:o().chatWrapper,children:[(0,r.jsxs)("div",{className:o().chatPanel,children:[(0,r.jsx)("div",{className:o().chatMessages,children:0===w.length?(0,r.jsx)("p",{className:o().muted,children:"No messages yet. Say hello!"}):w.map(e=>(0,r.jsxs)("article",{className:o().message,children:[(0,r.jsxs)("div",{className:o().messageMeta,children:[(0,r.jsx)("span",{className:o().messageUser,children:e.displayName||e.username}),(0,r.jsx)("span",{className:o().messageTime,children:function(e){let a=new Date(e),s=Math.max(1,Math.round((new Date().getTime()-a.getTime())/6e4));if(s<60)return"".concat(s,"m ago");let r=Math.round(s/60);return r<24?"".concat(r,"h ago"):"".concat(Math.round(r/24),"d ago")}(e.createdAt)})]}),(0,r.jsx)("p",{className:o().messageText,children:e.text})]},e.id))}),(0,r.jsxs)("div",{className:o().chatInputRow,children:[(0,r.jsx)("input",{className:o().chatInput,placeholder:e?"Share something with the community...":"Sign in to chat",value:g,onChange:e=>x(e.target.value),disabled:!e||f}),(0,r.jsx)("button",{className:o().sendButton,onClick:y,disabled:!e||f||!g.trim()||v>0,children:f?"Sending…":v>0?"Wait ".concat(v,"s"):"Send"})]}),N&&(0,r.jsx)("p",{className:o().error,children:N}),!e&&(0,r.jsx)("p",{className:o().muted,children:"Chat is available for signed-in users on desktop."}),v>0&&(0,r.jsxs)("p",{className:o().cooldown,children:["You can send again in ",v,"s."]})]}),(0,r.jsx)("div",{className:o().chatEmptyNote,children:(0,r.jsxs)("div",{className:o().chatCard,children:[(0,r.jsx)("h3",{children:"Desktop lounge"}),(0,r.jsx)("p",{children:"Open Patreek.com on desktop for the full chat experience. Leaderboards remain available everywhere."}),(0,r.jsxs)("div",{className:o().commands,children:[(0,r.jsx)("p",{className:o().commandsTitle,children:"Commands"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsxs)("code",{children:["/tip ","{username} {amount}"]})," — send Pat Coins to a user. Min 0.05 Pat."]}),(0,r.jsxs)("li",{children:["Example: ",(0,r.jsx)("code",{children:"/tip alex 1.5"})]})]})]})]})})]})]})]}),(0,r.jsx)(l.Z,{})]})}function h(e){let{label:a,helper:s,accent:t,entries:n,loading:l}=e;return(0,r.jsxs)("div",{className:o().boardCard,style:{borderTopColor:t},children:[(0,r.jsx)("header",{className:o().boardHeader,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:o().boardEyebrow,children:a}),(0,r.jsx)("p",{className:o().boardHelper,children:s})]})}),l?(0,r.jsx)("p",{className:o().muted,children:"Loading…"}):(0,r.jsxs)("ul",{className:o().boardList,children:[n.map(e=>(0,r.jsxs)("li",{className:o().boardItem,children:[(0,r.jsx)("div",{className:o().rank,children:e.rank}),(0,r.jsxs)("div",{className:o().userBlock,children:[(0,r.jsx)("div",{className:o().avatar,children:(e.displayName||e.username||"?").slice(0,1)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:o().name,children:e.displayName||e.username}),(0,r.jsxs)("p",{className:o().handle,children:["@",e.username]})]})]}),(0,r.jsx)("div",{className:o().score,children:e.total.toLocaleString()})]},"".concat(e.username,"-").concat(e.rank))),0===n.length&&(0,r.jsx)("li",{className:o().muted,children:"No data yet."})]})]})}},8349:function(e,a,s){"use strict";s.d(a,{Z:function(){return c}});var r=s(7437),t=s(7648),n=s(3145),o=s(1468),l=s.n(o);function c(){return(0,r.jsx)("footer",{className:l().footer,children:(0,r.jsxs)("div",{className:l().container,children:[(0,r.jsxs)("div",{className:l().footerGrid,children:[(0,r.jsx)(t.default,{href:"/",className:l().logoLink,children:(0,r.jsx)(n.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:111,height:60,className:l().footerLogo})}),(0,r.jsxs)("div",{className:l().footerColumn,children:[(0,r.jsx)("div",{className:l().columnTitle,children:"Product"}),(0,r.jsx)(t.default,{href:"/",className:l().footerLink,children:"Home"}),(0,r.jsx)("a",{href:"https://patreek.com/features",className:l().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Features"}),(0,r.jsx)("a",{href:"https://patreek.com/pricing",className:l().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Pricing"})]}),(0,r.jsxs)("div",{className:l().footerColumn,children:[(0,r.jsx)("div",{className:l().columnTitle,children:"Company"}),(0,r.jsx)("a",{href:"https://patreek.com/about",className:l().footerLink,target:"_blank",rel:"noopener noreferrer",children:"About"}),(0,r.jsx)("a",{href:"https://patreek.com/contact",className:l().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Contact"}),(0,r.jsx)(t.default,{href:"/privacy",className:l().footerLink,children:"Privacy Policy"}),(0,r.jsx)(t.default,{href:"/terms",className:l().footerLink,children:"Terms & Conditions"})]}),(0,r.jsxs)("div",{className:l().footerColumn,children:[(0,r.jsx)("div",{className:l().columnTitle,children:"Social"}),(0,r.jsx)("a",{href:"https://x.com/",target:"_blank",rel:"noopener noreferrer",className:l().footerLink,children:"X (Twitter)"}),(0,r.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",className:l().footerLink,children:"Instagram"}),(0,r.jsx)("a",{href:"https://www.linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:l().footerLink,children:"LinkedIn"})]})]}),(0,r.jsx)("div",{className:l().divider}),(0,r.jsxs)("div",{className:l().footerBottom,children:[(0,r.jsxs)("div",{className:l().copyright,children:["\xa9 ",new Date().getFullYear()," Patreek. All rights reserved."]}),(0,r.jsx)("div",{className:l().companyInfo,children:"Patreek App is owned by Sentigraph Inc."})]})]})})}},8706:function(e){e.exports={page:"page_page__Li5F9",main:"page_main__xiEsg",hero:"page_hero__5F3WV",eyebrow:"page_eyebrow___3Y_w",title:"page_title__R1RyO",subtitle:"page_subtitle__Lo1Em",heroBadge:"page_heroBadge__xKfr4",dot:"page_dot__bIPHb",sectionHeader:"page_sectionHeader__8rrrX",leaderboards:"page_leaderboards__AfZsI",boardGrid:"page_boardGrid__rT06s",boardCard:"page_boardCard__Inii8",boardHeader:"page_boardHeader__AdQEH",boardEyebrow:"page_boardEyebrow__7GFqG",boardHelper:"page_boardHelper__sHq4u",boardList:"page_boardList__wY6Ar",boardItem:"page_boardItem__fNjyC",rank:"page_rank__PE9NC",userBlock:"page_userBlock__MNeZH",avatar:"page_avatar__HweJI",name:"page_name__YRzd_",handle:"page_handle__LpZXe",score:"page_score__QEmaz",chatSection:"page_chatSection__rrKDo",chatWrapper:"page_chatWrapper__OngXZ",chatPanel:"page_chatPanel___crRU",chatMessages:"page_chatMessages__WEpM_",message:"page_message__W8Y5A",messageMeta:"page_messageMeta__KPKn8",messageUser:"page_messageUser__EGFcH",messageTime:"page_messageTime__j7X0T",messageText:"page_messageText__mBAlj",chatInputRow:"page_chatInputRow____x2s",chatInput:"page_chatInput__VjxKx",sendButton:"page_sendButton__EW7vn",chatEmptyNote:"page_chatEmptyNote__DTCzG",chatCard:"page_chatCard__HYbyC",commands:"page_commands__OXmAB",commandsTitle:"page_commandsTitle__3FqJ3",muted:"page_muted__TIZWN",cooldown:"page_cooldown__hbB_Y",error:"page_error__kKlJ0"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",container:"Footer_container__KpDnW",footerGrid:"Footer_footerGrid__K31Dz",footerColumn:"Footer_footerColumn__kGECR",columnTitle:"Footer_columnTitle__WcnMX",footerLink:"Footer_footerLink__xz_wT",logoLink:"Footer_logoLink__Xoc6g",footerLogo:"Footer_footerLogo__4BA6d",divider:"Footer_divider__YAbaq",footerBottom:"Footer_footerBottom__YIYBj",copyright:"Footer_copyright__j4atB",companyInfo:"Footer_companyInfo__xaSgf",dark:"Footer_dark__otfV8"}}},function(e){e.O(0,[8627,2972,5726,7029,3595,2971,2117,1744],function(){return e(e.s=8557)}),_N_E=e.O()}]);
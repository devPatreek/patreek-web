(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8977],{9092:function(e,a,t){Promise.resolve().then(t.bind(t,5411))},5411:function(e,a,t){"use strict";t.d(a,{default:function(){return f}});var r=t(7437),l=t(2265),s=t(9376),i=t(7648),o=t(3595),n=t(8349),c=t(7029),d=t(9799),_=t.n(d);function f(e){let{params:a}=e,t=(0,s.useRouter)(),d=(0,s.useParams)(),f=(null==a?void 0:a.username)||(null==d?void 0:d.username)||"",[p,h]=(0,l.useState)(null),[m,u]=(0,l.useState)(null),[g,v]=(0,l.useState)(!1),[x,N]=(0,l.useState)(!1),[b,k]=(0,l.useState)("loading"),[j,w]=(0,l.useState)([]),[y,C]=(0,l.useState)(null),[D,L]=(0,l.useState)(!1),[B,S]=(0,l.useState)(!1),[F,P]=(0,l.useState)([]),[T,R]=(0,l.useState)(!1),[A,E]=(0,l.useState)(!1),I=(0,l.useMemo)(()=>[{label:"Home",href:"/"},{label:"Notifications",href:"/notifications"},{label:"Nest",href:"/nest"},{label:"Bookmarks",href:"/bookmarks"},{label:"Communities",href:"/communities"},{label:"Premium",href:"/premium"},{label:"Profile",href:(null==m?void 0:m.username)?"/u/".concat(m.username):"/profile"},{label:"Support",href:"/support"}],[null==m?void 0:m.username]);(0,l.useEffect)(()=>{let e=!0,a=async()=>{k("loading");try{let a=await (0,c.Zm)(f);if(!e)return;if(!a){k("error");return}h(a),k("ready")}catch(a){console.warn("[Profile] failed to load profile",a),e&&k("error")}};return f&&a(),()=>{e=!1}},[f]),(0,l.useEffect)(()=>{let e=!0;return(async()=>{try{var a,t,r;let l=await (0,c.checkSessionStatus)();if(!e)return;let s=null!==(t=null!==(a=l.isAuthenticated)&&void 0!==a?a:l.authenticated)&&void 0!==t&&t;if(v(s),s){let a=await (0,c.getUserProfile)();if(!e)return;u(a),N((null==a?void 0:null===(r=a.username)||void 0===r?void 0:r.toLowerCase())===f.toLowerCase())}else N(!1)}catch(e){console.warn("[Profile] session check failed",e)}})(),()=>{e=!1}},[f]);let U=(0,l.useCallback)(async()=>{L(!0);try{let e=await (0,c.U1)();w(e||[]),e&&e.length>0&&C(e[0].id)}catch(e){console.warn("[Profile] load categories failed",e)}finally{L(!1)}},[]),z=(0,l.useCallback)(async e=>{if(e){S(!0);try{let a=await (0,c.HE)(void 0,e);P(a||[])}catch(e){console.warn("[Profile] load feeds failed",e)}finally{S(!1)}}},[]);(0,l.useEffect)(()=>{g&&U()},[g,U]),(0,l.useEffect)(()=>{y&&z(y)},[y,z]);let H=async e=>{var a;if(!x)return;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];if(t)try{R(!0);let e=await (0,c.gg)(t);e&&(h(a=>a?{...a,avatarUrl:e}:a),u(a=>a?{...a,avatarUrl:e}:a))}catch(e){console.error("[Profile] avatar upload failed",e)}finally{R(!1)}},O=(0,l.useMemo)(()=>j.find(e=>e.id===y)||null,[j,y]),M=(0,l.useMemo)(()=>p?[p.location&&{icon:"\uD83D\uDCCD",text:p.location},p.website&&{icon:"\uD83D\uDD17",text:p.website,href:p.website.startsWith("http")?p.website:"https://".concat(p.website)},p.createdAt&&{icon:"\uD83D\uDCC5",text:"Joined ".concat(new Date(p.createdAt).toLocaleDateString())},p.rank&&{icon:"\uD83C\uDF96️",text:p.rank.name||(p.rank.level?"Level ".concat(p.rank.level):"Ranked")}].filter(Boolean):null,[p]),V=null==p?void 0:p.avatarUrl;return(0,r.jsxs)("div",{className:_().page,children:[(0,r.jsx)(o.Z,{}),(0,r.jsxs)("div",{className:_().body,children:[(0,r.jsxs)("aside",{className:_().sidebar,children:[(0,r.jsx)("button",{className:_().navToggle,onClick:()=>E(!A),children:"☰"}),(0,r.jsx)("nav",{className:"".concat(_().navLinks," ").concat(A?_().navOpen:""),children:I.map(e=>(0,r.jsx)(i.default,{href:e.href,className:_().navItem,children:e.label},e.href))}),x&&(0,r.jsx)("button",{className:_().editProfileBtn,onClick:()=>t.push("/profile"),children:"Edit Profile"})]}),(0,r.jsxs)("main",{className:_().content,children:[(0,r.jsx)("div",{className:_().banner}),(0,r.jsxs)("div",{className:_().profileHeader,children:[(0,r.jsxs)("div",{className:_().avatarWrapper,children:[V?(0,r.jsx)("img",{src:V,alt:(null==p?void 0:p.username)||"avatar"}):(0,r.jsx)("div",{className:_().avatarFallback,children:"\uD83D\uDE0A"}),x&&(0,r.jsxs)("label",{className:_().avatarUpload,children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:H,disabled:T}),T?"Uploading...":"Change"]})]}),(0,r.jsxs)("div",{className:_().profileText,children:[(0,r.jsx)("h1",{children:(null==p?void 0:p.fullName)||(null==p?void 0:p.username)||"User"}),(0,r.jsxs)("p",{className:_().handle,children:["@",null==p?void 0:p.username]}),(null==p?void 0:p.bio)&&(0,r.jsx)("p",{className:_().bio,children:p.bio}),(0,r.jsx)("div",{className:_().metaRow,children:null==M?void 0:M.map((e,a)=>e.href?(0,r.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:_().metaItem,children:[(0,r.jsx)("span",{children:e.icon})," ",e.text]},a):(0,r.jsxs)("span",{className:_().metaItem,children:[(0,r.jsx)("span",{children:e.icon})," ",e.text]},a))})]})]}),(0,r.jsxs)("div",{className:_().chipsRow,children:[D&&(0,r.jsx)("span",{className:_().muted,children:"Loading categories…"}),!D&&j.map(e=>(0,r.jsx)("button",{className:"".concat(_().chip," ").concat(y===e.id?_().chipActive:""),onClick:()=>C(e.id),children:e.name},e.id))]}),(0,r.jsxs)("div",{className:_().feedList,children:[B&&(0,r.jsx)("div",{className:_().muted,children:"Loading feeds…"}),!B&&0===F.length&&(0,r.jsxs)("div",{className:_().muted,children:["No posts yet in ",(null==O?void 0:O.name)||"this category","."]}),!B&&F.map(e=>(0,r.jsxs)("div",{className:_().feedCard,onClick:()=>t.push("/pat/".concat(e.id)),children:[(0,r.jsx)("div",{className:_().feedThumb,children:e.imageUrl?(0,r.jsx)("img",{src:e.imageUrl,alt:e.title}):(0,r.jsx)("div",{className:_().thumbFallback,children:"\uD83D\uDCD6"})}),(0,r.jsxs)("div",{className:_().feedBody,children:[(0,r.jsxs)("div",{className:_().feedMeta,children:[(0,r.jsx)("span",{className:_().feedSource,children:e.source||"Patreek"}),(0,r.jsx)("span",{className:_().feedDate,children:e.publishedAt?new Date(e.publishedAt).toLocaleDateString():""})]}),(0,r.jsx)("h3",{className:_().feedTitle,children:e.title}),e.description&&(0,r.jsx)("p",{className:_().feedDesc,children:e.description})]})]},e.id))]})]}),(0,r.jsx)("aside",{className:_().widgets,children:(0,r.jsxs)("div",{className:_().widgetCard,children:[(0,r.jsx)("h4",{children:"Widgets"}),(0,r.jsx)("p",{className:_().muted,children:"Personalized slots coming soon."})]})})]}),(0,r.jsx)(n.Z,{})]})}},8349:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});var r=t(7437),l=t(7648),s=t(3145),i=t(1468),o=t.n(i);function n(){return(0,r.jsx)("footer",{className:o().footer,children:(0,r.jsxs)("div",{className:o().container,children:[(0,r.jsxs)("div",{className:o().footerGrid,children:[(0,r.jsx)(l.default,{href:"/",className:o().logoLink,children:(0,r.jsx)(s.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:111,height:60,className:o().footerLogo})}),(0,r.jsxs)("div",{className:o().footerColumn,children:[(0,r.jsx)("div",{className:o().columnTitle,children:"Product"}),(0,r.jsx)(l.default,{href:"/",className:o().footerLink,children:"Home"}),(0,r.jsx)("a",{href:"https://patreek.com/features",className:o().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Features"}),(0,r.jsx)("a",{href:"https://patreek.com/pricing",className:o().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Pricing"})]}),(0,r.jsxs)("div",{className:o().footerColumn,children:[(0,r.jsx)("div",{className:o().columnTitle,children:"Company"}),(0,r.jsx)("a",{href:"https://patreek.com/about",className:o().footerLink,target:"_blank",rel:"noopener noreferrer",children:"About"}),(0,r.jsx)("a",{href:"https://patreek.com/contact",className:o().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Contact"}),(0,r.jsx)(l.default,{href:"/privacy",className:o().footerLink,children:"Privacy Policy"}),(0,r.jsx)(l.default,{href:"/terms",className:o().footerLink,children:"Terms & Conditions"})]}),(0,r.jsxs)("div",{className:o().footerColumn,children:[(0,r.jsx)("div",{className:o().columnTitle,children:"Social"}),(0,r.jsx)("a",{href:"https://x.com/",target:"_blank",rel:"noopener noreferrer",className:o().footerLink,children:"X (Twitter)"}),(0,r.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",className:o().footerLink,children:"Instagram"}),(0,r.jsx)("a",{href:"https://www.linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:o().footerLink,children:"LinkedIn"})]})]}),(0,r.jsx)("div",{className:o().divider}),(0,r.jsxs)("div",{className:o().footerBottom,children:[(0,r.jsxs)("div",{className:o().copyright,children:["\xa9 ",new Date().getFullYear()," Patreek. All rights reserved."]}),(0,r.jsx)("div",{className:o().companyInfo,children:"Patreek App is owned by Sentigraph Inc."})]})]})})}},9799:function(e){e.exports={page:"page_page__bc9x8",shell:"page_shell__EiTdp",leftRail:"page_leftRail__xDtNF",leftRailOpen:"page_leftRailOpen__6SkfD",leftHeader:"page_leftHeader__c8448",brand:"page_brand__0teP_",closeNav:"page_closeNav__zYRKx",navList:"page_navList__igeFN",navItem:"page_navItem__DXqhz",leftFooter:"page_leftFooter__Ssnog",primaryButton:"page_primaryButton__SR7sG",ghostButton:"page_ghostButton__zBR6R",center:"page_center__1OY8U",mobileNavBar:"page_mobileNavBar__RjZmm",iconButton:"page_iconButton__1PE3z",mobileTitle:"page_mobileTitle__JTiue",profileCard:"page_profileCard___6uZc",cover:"page_cover__l7NHn",coverGradient:"page_coverGradient__qx5hb",profileBody:"page_profileBody__7IaSt",avatarRow:"page_avatarRow__aZogB",avatarWrap:"page_avatarWrap__Ueeby",avatar:"page_avatar__yvOeV",avatarFallback:"page_avatarFallback__88VIk",uploadBadge:"page_uploadBadge__3zJhz",actions:"page_actions__ytDTK",rankPill:"page_rankPill__yguCh",headerText:"page_headerText__qNTlQ",name:"page_name__mSM7W",username:"page_username__0rLvi",bio:"page_bio__ABK9d",metaRow:"page_metaRow__Vv7fO",subtle:"page_subtle__8CiCl",stats:"page_stats__ByTxm",stat:"page_stat__FHatH",statValue:"page_statValue__zFXk1",statLabel:"page_statLabel__7eh41",tabsCard:"page_tabsCard__lQ1Ar",chipsRow:"page_chipsRow__3CbVV",chipsScroller:"page_chipsScroller__UYMRh",chipBtn:"page_chipBtn__75F2Q",chipActive:"page_chipActive__qOoDJ",feedList:"page_feedList__2hX58",feedCard:"page_feedCard__V8fiZ",feedThumb:"page_feedThumb__lyhTm",thumbFallback:"page_thumbFallback__k3H_D",feedBody:"page_feedBody__4P8Ak",feedMeta:"page_feedMeta__v4AiZ",chip:"page_chip__e4lNS",cardTitle:"page_cardTitle__DwiyR",rightRail:"page_rightRail__wOplE",widgetCard:"page_widgetCard__vKQ8p",widgetList:"page_widgetList__kJTDm",placeholder:"page_placeholder__ypFm0",loadingState:"page_loadingState__P6sRP",linkButton:"page_linkButton__8Hucz"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",container:"Footer_container__KpDnW",footerGrid:"Footer_footerGrid__K31Dz",footerColumn:"Footer_footerColumn__kGECR",columnTitle:"Footer_columnTitle__WcnMX",footerLink:"Footer_footerLink__xz_wT",logoLink:"Footer_logoLink__Xoc6g",footerLogo:"Footer_footerLogo__4BA6d",divider:"Footer_divider__YAbaq",footerBottom:"Footer_footerBottom__YIYBj",copyright:"Footer_copyright__j4atB",companyInfo:"Footer_companyInfo__xaSgf",dark:"Footer_dark__otfV8"}}},function(e){e.O(0,[8627,9494,2972,5726,7029,3595,2971,2117,1744],function(){return e(e.s=9092)}),_N_E=e.O()}]);
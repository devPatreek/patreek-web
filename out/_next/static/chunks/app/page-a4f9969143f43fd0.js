(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6995:function(e,a,t){Promise.resolve().then(t.bind(t,3360))},4038:function(e,a,t){"use strict";t.d(a,{default:function(){return c}});var n=t(7437),i=t(2265),l=t(9376),o=t(9116),s=t(4422),r=t(5148);function c(){let e=(0,l.usePathname)(),[a,t]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0),[u,g]=(0,i.useState)(null);return((0,i.useEffect)(()=>{(async function(){let a=null;{let e=window.location.pathname,t=e.match(/\/article\/(\d+)/);if(t&&(a=parseInt(t[1],10),console.log("[ArticlePage] Extracted article ID from window.location.pathname: ".concat(a," (path: ").concat(e,")"))),!a){let e=window.location.href.match(/\/article\/(\d+)/);e&&(a=parseInt(e[1],10),console.log("[ArticlePage] Extracted article ID from window.location.href: ".concat(a)))}}if(!a&&e){let t=e.match(/\/article\/(\d+)/);t&&(a=parseInt(t[1],10),console.log("[ArticlePage] Extracted article ID from pathname: ".concat(a)))}if(!a||isNaN(a)||a<=0){console.error("[ArticlePage] Invalid article ID:",{articleId:a,pathname:e,windowPathname:window.location.pathname,windowHref:window.location.href,userAgent:window.navigator.userAgent}),g("Invalid article ID"),d(!1);return}try{d(!0),console.log("[ArticlePage] Loading article ".concat(a,"..."));let e=(0,s.A)(a);if(e){console.log("[ArticlePage] Using cached article ".concat(a)),t(e),g(null),d(!1);return}console.log("[ArticlePage] Fetching article ".concat(a," from API"));let n=await (0,o.ST)(a);if(!n){let e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);console.log("[ArticlePage] Article ".concat(a," not found or not public (returned null). Safari: ").concat(e)),e&&console.warn("[ArticlePage] Safari detected - this might be a CORS or fetch issue. Check network tab."),g("Article not found or not available"),setTimeout(()=>{window.location.href="https://patreek.com/public/pats/"},2e3);return}(0,s.t)(a,n),t(n),g(null),console.log("[ArticlePage] Successfully loaded article ".concat(a,": ").concat(n.title))}catch(e){console.error("[ArticlePage] Failed to load article:",e),g("Failed to load article. Please try again later.")}finally{d(!1)}})()},[e]),c)?(0,n.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333"},children:(0,n.jsx)("p",{children:"Loading article..."})}):u||!a?(0,n.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333",padding:"20px"},children:[(0,n.jsx)("p",{children:u||"Article not found"}),(0,n.jsx)("a",{href:"/",style:{marginTop:"16px",color:"#667eea",textDecoration:"underline"},children:"← Back to Home"})]}):(0,n.jsx)(r.Z,{article:a})}},3360:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return m}});var n=t(7437),i=t(2265),l=t(9376),o=t(9116),s=t(6777),r=t.n(s),c=t(3145),d=t(4038),u=t(1701),g=t(8349),_=t(7715),p=t.n(_);function h(e){let{open:a,onClose:t,onSuccess:l}=e,[s,r]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[u,g]=(0,i.useState)(""),[_,h]=(0,i.useState)([]),[m,f]=(0,i.useState)([]),[x,y]=(0,i.useState)(!1),[j,S]=(0,i.useState)(!1),[N,w]=(0,i.useState)({type:"idle"});if((0,i.useEffect)(()=>{if(!a)return;let e=!0;return y(!0),(0,o.CP)().then(a=>{e&&h(a||[])}).finally(()=>{e&&y(!1)}),()=>{e=!1}},[a]),(0,i.useEffect)(()=>{a||(w({type:"idle"}),S(!1))},[a]),!a)return null;let b=m.length<5,C=e=>{m.includes(e)?f(m.filter(a=>a!==e)):b&&f([...m,e])},v=async e=>{if(e.preventDefault(),!s.trim()||!c.trim()||!u.trim()){w({type:"error",message:"Please fill in name, email, and password."});return}if(0===m.length){w({type:"error",message:"Pick at least one category (up to 5)."});return}S(!0),w({type:"idle"});let a={name:s.trim(),email:c.trim(),password:u,categoryIds:m};try{await (0,o.a$)(a),w({type:"success",message:"Account created! Redirecting…"}),null==l||l()}catch(e){w({type:"error",message:e instanceof Error?e.message:"Unable to sign up right now. Please try again."})}finally{S(!1)}},k=e=>{let a=window.location.origin+"/",t=(0,o.Bu)(e,a);window.location.href=t},T=(0,i.useMemo)(()=>x?(0,n.jsx)("div",{className:p().muted,children:"Loading categories…"}):_.length?(0,n.jsx)("div",{className:p().categoryGrid,children:_.map(e=>{let a=m.includes(e.id),t=!a&&!b;return(0,n.jsx)("button",{type:"button",className:[p().chip,a?p().chipSelected:"",t?p().chipDisabled:""].join(" "),onClick:()=>C(e.id),disabled:t,"aria-pressed":a,children:e.name},e.id)})}):(0,n.jsx)("div",{className:p().muted,children:"Categories will load here once available."}),[_,m,b,x]);return(0,n.jsx)("div",{className:p().backdrop,role:"dialog","aria-modal":"true",children:(0,n.jsxs)("div",{className:p().modal,children:[(0,n.jsx)("div",{className:p().side,children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:p().sideTitle,children:"Personalized pats in minutes."}),(0,n.jsx)("p",{className:p().sideText,children:"Sign up, choose up to 5 categories, and we'll build your lane of headlines—just like the mobile experience."}),(0,n.jsxs)("ul",{className:p().sideList,children:[(0,n.jsx)("li",{className:p().sideListItem,children:"⚡ Instant access"}),(0,n.jsx)("li",{className:p().sideListItem,children:"\uD83D\uDCF1 Mirror mobile onboarding"}),(0,n.jsx)("li",{className:p().sideListItem,children:"\uD83C\uDFAF Curated by your picks"})]})]})}),(0,n.jsxs)("div",{className:p().main,children:[(0,n.jsxs)("div",{className:p().header,children:[(0,n.jsx)("h2",{className:p().title,children:"Create your Patreek account"}),(0,n.jsx)("button",{className:p().closeButton,"aria-label":"Close signup",onClick:t,children:"\xd7"})]}),(0,n.jsxs)("form",{className:p().form,onSubmit:v,children:[(0,n.jsxs)("div",{className:p().fieldGroup,children:[(0,n.jsx)("label",{className:p().label,htmlFor:"name",children:"Full name"}),(0,n.jsx)("input",{id:"name",className:p().input,value:s,onChange:e=>r(e.target.value),placeholder:"Jane Doe",autoComplete:"name"})]}),(0,n.jsxs)("div",{className:p().fieldGroup,children:[(0,n.jsx)("label",{className:p().label,htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{id:"email",className:p().input,value:c,onChange:e=>d(e.target.value),placeholder:"you@example.com",autoComplete:"email",type:"email"})]}),(0,n.jsxs)("div",{className:p().fieldGroup,children:[(0,n.jsx)("label",{className:p().label,htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{id:"password",className:p().input,value:u,onChange:e=>g(e.target.value),placeholder:"••••••••",type:"password",autoComplete:"new-password"})]}),(0,n.jsxs)("div",{className:p().fieldGroup,children:[(0,n.jsx)("div",{className:p().label,children:"Pick up to 5 categories"}),(0,n.jsx)("div",{className:p().categories,children:T}),(0,n.jsxs)("div",{className:p().muted,children:[m.length," / 5 selected"]})]}),"success"===N.type&&(0,n.jsx)("div",{className:p().status,children:N.message}),"error"===N.type&&(0,n.jsx)("div",{className:"".concat(p().status," ").concat(p().error),children:N.message}),(0,n.jsxs)("div",{className:p().actions,children:[(0,n.jsx)("button",{type:"submit",className:p().primaryButton,disabled:j,children:j?"Signing you up…":"Sign up"}),(0,n.jsx)("button",{type:"button",className:p().secondaryButton,onClick:()=>k("google"),children:"Continue with Google"}),(0,n.jsx)("button",{type:"button",className:p().secondaryButton,onClick:()=>k("apple"),children:"Continue with Apple"})]})]})]})]})})}function m(){let e=(0,l.usePathname)(),[a,t]=(0,i.useState)(!1),[o,s]=(0,i.useState)(null);(0,i.useEffect)(()=>{t(!0);{let e=window.location.pathname;s(e),console.log("[RootPage] Initial path detected:",e)}},[]),(0,i.useEffect)(()=>{if(a){let e=window.location.pathname;s(e),console.log("[RootPage] Path updated:",e)}},[e,a]);let r=(()=>{let a=window.location.pathname;return a&&/^\/article\/\d+/.test(a)?(console.log("[RootPage] Article route detected from window.location:",a),!0):!!(e&&/^\/article\/\d+/.test(e))&&(console.log("[RootPage] Article route detected from pathname:",e),!0)})();return(console.log("[RootPage] Rendering - mounted:",a,"isArticleRoute:",r,"pathname:",e,"actualPath:",o),r)?(0,n.jsx)(d.default,{}):(0,n.jsx)(f,{})}function f(){let e=(0,l.useRouter)(),[a,t]=(0,i.useState)([]),[s,d]=(0,i.useState)(!0),[_,p]=(0,i.useState)(null),[m,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{!async function(){try{d(!0),p(null);let e=await (0,o.Dk)();t(e)}catch(e){console.warn("[HomePage] Failed to load feeds:",e),t([])}finally{d(!1)}}()},[]);let x=(0,i.useMemo)(()=>{let e=new Map;return a.forEach(a=>{let t=a.categoryName||"Other",n=e.get(t)||[];n.push(a),e.set(t,n)}),Array.from(e.entries()).map(e=>{let[a,t]=e;return{category:a,items:[...t].sort((e,a)=>{let t=e.createdAt?new Date(e.createdAt).getTime():0;return(a.createdAt?new Date(a.createdAt).getTime():0)-t})}})},[a]),y=e=>{let a=e.toLowerCase();return a.includes("business")?"\uD83D\uDCBC":a.includes("tech")||a.includes("ai")?"\uD83E\uDD16":a.includes("entertain")?"\uD83D\uDCFA":a.includes("sports")?"\uD83C\uDFC5":a.includes("health")?"\uD83E\uDE7A":a.includes("finance")?"\uD83D\uDCC8":"⚡"},j=a=>{e.push("/public/pats/".concat(a))};return(0,n.jsxs)("div",{className:r().container,children:[(0,n.jsx)(h,{open:m,onClose:()=>f(!1),onSuccess:()=>f(!1)}),(0,n.jsx)("header",{className:r().header,children:(0,n.jsxs)("div",{className:r().headerInner,children:[(0,n.jsx)("div",{className:r().logoSection,children:(0,n.jsx)(c.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:60,height:60,className:r().logo,priority:!0})}),(0,n.jsxs)("div",{className:r().headerTitle,children:[(0,n.jsx)("h2",{className:r().title,children:"Latest pats by category"}),(0,n.jsx)("p",{className:r().subtitle,children:"Compact lanes of what's trending now"})]})]})}),(0,n.jsxs)("div",{className:r().signupBanner,children:[(0,n.jsxs)("div",{className:r().signupBannerText,children:[(0,n.jsx)("p",{className:r().signupHeadline,children:"Sign up to get personalized pats specially curated for you!"}),(0,n.jsx)("p",{className:r().signupSubhead,children:"Mirror the mobile experience with category picks, SSO, and your own timeline."})]}),(0,n.jsx)("button",{className:r().signupButton,onClick:()=>f(!0),children:"Sign Up"})]}),(0,n.jsx)("main",{className:r().main,children:s?(0,n.jsx)("div",{className:r().loadingState,children:(0,n.jsx)("p",{children:"Loading articles..."})}):_?(0,n.jsxs)("div",{className:r().emptyState,children:[(0,n.jsx)("p",{children:_}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:r().retryButton,children:"Retry"})]}):0===x.length?(0,n.jsxs)("div",{className:r().emptyState,children:[(0,n.jsx)("p",{children:"No articles available at the moment."}),(0,n.jsx)("p",{className:r().registerPrompt,children:"Register to get the latest updates from the topics you care about"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:r().categoryGrid,children:x.map(e=>{let[a,...t]=e.items;return a?(0,n.jsxs)("div",{className:r().categoryCard,children:[(0,n.jsxs)("div",{className:r().categoryHeader,children:[(0,n.jsx)("span",{className:r().categoryIcon,children:y(e.category)}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:r().categoryLabel,children:"Category"}),(0,n.jsx)("h3",{className:r().categoryTitle,children:e.category})]})]}),(0,n.jsxs)("button",{className:r().hero,onClick:()=>j(a.id),"aria-label":"Open ".concat(a.title),children:[(0,n.jsx)("div",{className:r().heroImageWrapper,children:(0,n.jsx)("img",{src:a.imageUrl||"https://insideskills.pl/wp-content/uploads/2024/01/placeholder-6.png",alt:a.title,className:r().heroImage})}),(0,n.jsx)("div",{className:r().heroContent,children:(0,n.jsx)("h4",{className:r().heroTitle,children:a.title})})]}),(0,n.jsx)("div",{className:r().headlines,children:t.slice(0,4).map(e=>(0,n.jsxs)("button",{className:r().headlineRow,onClick:()=>j(e.id),children:[(0,n.jsx)("span",{className:r().headlineBullet,children:"•"}),(0,n.jsx)("span",{className:r().headlineText,children:e.title})]},e.id))})]},e.category):null})}),(0,n.jsx)(u.Z,{zoneId:"10189289",placementId:"bottom-banner",size:"responsive"})]})}),(0,n.jsx)(g.Z,{})]})}},6777:function(e){e.exports={container:"page_container__jZF7q",header:"page_header__oRW75",headerInner:"page_headerInner__leMGi",logoSection:"page_logoSection__is0Qg",headerTitle:"page_headerTitle__Jd54L",logo:"page_logo__ikIZE",title:"page_title__po7na",subtitle:"page_subtitle__YBgxm",main:"page_main__nw1Wk",signupBanner:"page_signupBanner__0wfxs",signupBannerText:"page_signupBannerText__3lAuS",signupHeadline:"page_signupHeadline__PO20q",signupSubhead:"page_signupSubhead__ysH1g",signupButton:"page_signupButton__5fj9l",bannerAdSlot:"page_bannerAdSlot__eT4jk",feedList:"page_feedList__VxTRo",categoryGrid:"page_categoryGrid__o3CYY",categoryCard:"page_categoryCard__yLKel",categoryHeader:"page_categoryHeader__k2941",categoryIcon:"page_categoryIcon__QEcAQ",categoryLabel:"page_categoryLabel__JwmRe",categoryTitle:"page_categoryTitle__0r8dl",hero:"page_hero__7KFOs",heroImageWrapper:"page_heroImageWrapper__3zOUM",heroImage:"page_heroImage__Aq3LS",heroContent:"page_heroContent__dzLob",heroTitle:"page_heroTitle__ixXIp",headlines:"page_headlines__QT9XS",headlineRow:"page_headlineRow__uVrv6",headlineText:"page_headlineText__B7zvJ",headlineBullet:"page_headlineBullet__VyyU3",feedCard:"page_feedCard__GioUo",imageWrapper:"page_imageWrapper__Fc9qC",image:"page_image__ZQ2oC",feedImage:"page_feedImage__r1I4Y",feedContent:"page_feedContent__XQ0ID",feedExcerpt:"page_feedExcerpt__x1gq1",categoryBadge:"page_categoryBadge__TjLXs",categoryText:"page_categoryText__AOPvi",content:"page_content___38fW",feedTitle:"page_feedTitle__YfSVK",adSlot:"page_adSlot__h3xPr",adPlaceholder:"page_adPlaceholder__fOZZP",emptyState:"page_emptyState__j9MME",registerPrompt:"page_registerPrompt__mSJgN",loadingState:"page_loadingState__hO15Q",retryButton:"page_retryButton__rXSBT",definitionSection:"page_definitionSection__6msC_",definitionContent:"page_definitionContent__h30IB",definitionWord:"page_definitionWord__VKK2T",definitionWordText:"page_definitionWordText__GyQrH",definitionPartOfSpeech:"page_definitionPartOfSpeech__8CcIc",definitionMeaning:"page_definitionMeaning__QCXg7",definitionColon:"page_definitionColon__dX0yS",definitionText:"page_definitionText__HaN0Y",unlockBannerTop:"page_unlockBannerTop__EeLvh",unlockBanner:"page_unlockBanner__Ol3PL",unlockBannerContent:"page_unlockBannerContent__2Gy3x",unlockText:"page_unlockText__O6AO_",unlockBannerText:"page_unlockBannerText__TEPMz",unlockDescription:"page_unlockDescription__w_ZeM",unlockUnderline:"page_unlockUnderline__l9atb",storeButtons:"page_storeButtons__KngCj",storeLink:"page_storeLink__hoVu1",storeImage:"page_storeImage__hbm_s"}},7715:function(e){e.exports={backdrop:"SignupModal_backdrop__Tz3qR",modal:"SignupModal_modal__cSh5M",side:"SignupModal_side__fTJNm",sideTitle:"SignupModal_sideTitle__9fTCT",sideText:"SignupModal_sideText__WKkOo",sideList:"SignupModal_sideList__2Paeo",sideListItem:"SignupModal_sideListItem__udgs9",main:"SignupModal_main__8o56v",header:"SignupModal_header__wRrlG",title:"SignupModal_title__JwKrZ",closeButton:"SignupModal_closeButton__1Ei2W",form:"SignupModal_form__RRIk6",fieldGroup:"SignupModal_fieldGroup__D_2lu",label:"SignupModal_label__HgDgw",input:"SignupModal_input__jUVr1",categories:"SignupModal_categories__DIUSt",categoryGrid:"SignupModal_categoryGrid__2uvBb",chip:"SignupModal_chip__pfZuq",chipSelected:"SignupModal_chipSelected__tsQ3h",chipDisabled:"SignupModal_chipDisabled__hjWcq",actions:"SignupModal_actions__ICZHX",primaryButton:"SignupModal_primaryButton__f1Z4Q",secondaryButton:"SignupModal_secondaryButton__qhZ3g",muted:"SignupModal_muted__P5DC3",status:"SignupModal_status__kD0QR",error:"SignupModal_error__G_h6A"}}},function(e){e.O(0,[891,514,990,972,726,662,971,117,744],function(){return e(e.s=6995)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4573],{4573:function(e,a,n){"use strict";n.d(a,{default:function(){return _}});var t=n(7437),l=n(2265),r=n(9376),s=n(7029),i=n(4422),c=n(5148),o=n(1224),d=n(8349),m=n(4048),h=n(7875),u=n.n(h);function _(){let e=(0,r.usePathname)(),[a,n]=(0,l.useState)(null),[h,_]=(0,l.useState)(!0),[p,f]=(0,l.useState)(null),[x,b]=(0,l.useState)(!1),[j,v]=(0,l.useState)(0),[N,g]=(0,l.useState)([]),k=(0,l.useMemo)(()=>{{let e=window.location.pathname.match(/^\/pat\/(\d+)/);if(e)return parseInt(e[1],10)}if(e){let a=e.match(/^\/pat\/(\d+)/);if(a)return parseInt(a[1],10)}return null},[e]);return((0,l.useEffect)(()=>{(async()=>{try{let n=await (0,s.r$)();if(b(n.authenticated),n.authenticated){var e,a;let n=await (0,s.getUserProfile)();v(null!==(a=null==n?void 0:null===(e=n.rank)||void 0===e?void 0:e.level)&&void 0!==a?a:0)}else v(0)}catch(e){b(!1),v(0)}})()},[]),(0,l.useEffect)(()=>{(async()=>{if(!k){_(!1),f("Invalid pat ID");return}try{_(!0);let e=(0,i.A)(k);e&&(n(e),f(null),_(!1));let a=await (0,s.ST)(k);if(!a){f("Pat not found or unavailable"),n(null);return}(0,i.t)(k,a),n(a),f(null)}catch(e){console.error("[PatPage] Failed to load article",e),f("Failed to load pat")}finally{_(!1)}})()},[k]),(0,l.useEffect)(()=>{(async()=>{try{let e=await (0,s.Dk)();k?g(e.filter(e=>e.id!==k).slice(0,5)):g(e.slice(0,5))}catch(e){console.error("[PatPage] Failed to load recommendations",e),g([])}})()},[k]),h)?(0,t.jsx)("div",{className:u().loader,children:(0,t.jsx)("p",{children:"Loading pat..."})}):p||!a?(0,t.jsxs)("div",{className:u().loader,children:[(0,t.jsx)("p",{children:p||"Pat not found"}),(0,t.jsx)("a",{href:"/",className:u().backLink,children:"← Back to Home"})]}):(0,t.jsxs)("div",{className:u().page,children:[(0,t.jsx)(o.Z,{hasSession:x}),(0,t.jsxs)("main",{className:u().grid,children:[(0,t.jsx)("section",{className:u().contentColumn,children:(0,t.jsx)(c.Z,{article:a})}),(0,t.jsxs)("aside",{className:u().sidebar,children:[(0,t.jsx)("div",{className:u().adWrapper,children:(0,t.jsx)(m.Z,{placementId:"pat-article-300x250"})}),(0,t.jsxs)("div",{className:u().recommended,children:[(0,t.jsx)("div",{className:u().recommendedHeader,children:(0,t.jsx)("span",{children:"More for you"})}),(0,t.jsx)("ul",{className:u().recommendedList,children:N.map(e=>(0,t.jsx)("li",{className:u().recommendedItem,children:(0,t.jsxs)("a",{href:"/pat/".concat(e.id),className:u().recommendedLink,children:[(0,t.jsx)("p",{className:u().recommendedTitle,children:e.title}),(0,t.jsx)("p",{className:u().recommendedMeta,children:e.categoryName})]})},e.id))})]})]})]}),(0,t.jsx)(d.Z,{})]})}},4048:function(e,a,n){"use strict";n.d(a,{Z:function(){return s}});var t=n(7437),l=n(3498),r=n.n(l);function s(e){let{placementId:a,showPlaceholder:n=!0,rankLevel:l}=e;return!n||"number"==typeof l&&l>=5?null:(0,t.jsx)("div",{className:r().adPlaceholder,children:(0,t.jsx)("div",{className:r().placeholderContent,children:(0,t.jsx)("span",{className:r().placeholderText,children:"Advertisement"})})})}},8349:function(e,a,n){"use strict";n.d(a,{Z:function(){return o}});var t=n(7437),l=n(7648),r=n(1468),s=n.n(r);let i=[{label:"Privacy",href:"/privacy"},{label:"Terms",href:"/terms"},{label:"Help",href:"/help"},{label:"About",href:"/about"}],c=[{label:"X",href:"https://x.com/patreek",aria:"Open Patreek on X"},{label:"Facebook",href:"https://facebook.com",aria:"Open Patreek on Facebook"},{label:"Instagram",href:"https://instagram.com",aria:"Open Patreek on Instagram"}];function o(){let e=new Date().getFullYear();return(0,t.jsxs)("footer",{className:s().footer,children:[(0,t.jsx)("div",{className:s().links,children:i.map(e=>(0,t.jsx)(l.default,{href:e.href,className:s().link,children:e.label},e.label))}),(0,t.jsxs)("div",{className:s().right,children:[(0,t.jsxs)("span",{className:s().copy,children:["\xa9 ",e," Patreek"]}),(0,t.jsx)("div",{className:s().socials,children:c.map(e=>(0,t.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer","aria-label":e.aria,className:s().socialButton,children:"X"===e.label?"X":e.label.charAt(0)},e.label))})]})]})}},1224:function(e,a,n){"use strict";n.d(a,{Z:function(){return d}});var t=n(7437),l=n(2265),r=n(7648),s=n(9376),i=n(6914),c=n.n(i),o=n(7029);function d(e){let{hasSession:a=!1,active:n}=e,i=(0,s.useRouter)(),d=(0,s.usePathname)(),[h,u]=(0,l.useState)(null),[_,p]=(0,l.useState)(!1),[f,x]=(0,l.useState)(null),b=(0,l.useMemo)(()=>null==n?void 0:n.toLowerCase(),[n]),j=[{label:"Coins",path:"/coins"},{label:"Community",path:"/community"},{label:"Shop",path:"https://shop.patreek.com"},{label:"Opinion",path:"/opinion"},{label:"Write",path:"/write"}];(0,l.useEffect)(()=>{(async()=>{if(a)try{if(!(await (0,o.r$)()).authenticated)return;let e=await (0,o.getUserProfile)();(null==e?void 0:e.username)&&u(e.username)}catch(e){u(null)}})()},[a]),(0,l.useEffect)(()=>{let e=!1;return(async()=>{try{let a=await (0,o.$0)();!e&&a&&Number.isFinite(a.unitPrice)&&x(a.unitPrice)}catch(e){console.warn("[Header] Failed to load Pat Coin price",e)}})(),()=>{e=!0}},[]);let v=e=>!!(b&&b===e.label.toLowerCase()||d&&e.path.startsWith("/")&&d.startsWith(e.path)),N=(0,l.useMemo)(()=>{let e=null!=f?f:.01;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:4}).format(e)},[f]);return(0,t.jsxs)("header",{className:c().header,children:[(0,t.jsx)("div",{className:c().brand,onClick:()=>i.push("/"),children:"Patreek"}),(0,t.jsx)("nav",{className:c().nav,children:j.map(e=>(0,t.jsx)(r.default,{href:e.path,className:"".concat(c().navLink," ").concat(v(e)?c().activeLink:""),target:e.path.startsWith("http")?"_blank":void 0,children:e.label},e.label))}),(0,t.jsxs)("div",{className:c().actions,children:[(0,t.jsxs)(r.default,{href:"/coins",className:c().coinWidget,"aria-label":"Open Pat Coins — 1 P equals ".concat(N),children:[(0,t.jsx)(m,{className:c().coinIcon}),(0,t.jsxs)("div",{className:c().coinText,children:[(0,t.jsx)("span",{className:c().coinLabel,children:"Pat Coin"}),(0,t.jsxs)("span",{className:c().coinValue,children:["1\xa0P = ",N]})]})]}),(0,t.jsx)("button",{type:"button",className:c().profileCircle,onClick:()=>{a&&h?i.push("/u/".concat(h)):i.push("/registration")},"aria-label":"Open profile",children:h?h[0].toUpperCase():"P"}),(0,t.jsxs)("button",{type:"button",className:c().hamburger,onClick:()=>p(e=>!e),"aria-label":"Toggle navigation",children:[(0,t.jsx)("span",{}),(0,t.jsx)("span",{}),(0,t.jsx)("span",{})]})]}),_&&(0,t.jsx)("div",{className:c().mobileNav,children:j.map(e=>(0,t.jsx)(r.default,{href:e.path,className:c().mobileNavItem,onClick:()=>p(!1),children:e.label},e.label))})]})}function m(e){let{className:a}=e,n=(0,l.useId)();return(0,t.jsxs)("svg",{className:a,viewBox:"0 0 32 32",role:"presentation","aria-hidden":"true",focusable:"false",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:n,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#a855f7"}),(0,t.jsx)("stop",{offset:"45%",stopColor:"#6366f1"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#2563eb"})]})}),(0,t.jsx)("circle",{cx:"16",cy:"16",r:"15",fill:"url(#".concat(n,")")}),(0,t.jsx)("circle",{cx:"16",cy:"16",r:"14",fill:"none",stroke:"rgba(255,255,255,0.35)",strokeWidth:"1.5"}),(0,t.jsx)("path",{d:"M11.5 9h6.2c3 0 5.3 2.2 5.3 4.9 0 2.6-2.3 4.9-5.3 4.9h-3.1v4.2h-3.1V9zm6 7.1c1.3 0 2.2-.9 2.2-2.1s-.9-2-2.2-2h-2.9v4.1z",fill:"#fff"})]})}},7875:function(e){e.exports={page:"page_page__JoPGj",grid:"page_grid__qknTj",contentColumn:"page_contentColumn__O0l__",sidebar:"page_sidebar__qYzLG",adWrapper:"page_adWrapper__SGhln",recommended:"page_recommended__QUTVL",recommendedHeader:"page_recommendedHeader__rmaD0",recommendedList:"page_recommendedList__ryM1s",recommendedItem:"page_recommendedItem__QpPQD",recommendedLink:"page_recommendedLink__uMfp_",recommendedTitle:"page_recommendedTitle__uYheV",recommendedMeta:"page_recommendedMeta__YWo4t",loader:"page_loader__qE3FP",backLink:"page_backLink__iy8Gp"}},3498:function(e){e.exports={adPlaceholder:"AdPlaceholder_adPlaceholder__C0bO2",placeholderContent:"AdPlaceholder_placeholderContent__8esrF",placeholderText:"AdPlaceholder_placeholderText__XO5aL"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",links:"Footer_links__cFiYr",link:"Footer_link__TBOP7",right:"Footer_right__s6ko6",copy:"Footer_copy__KUC9W",socials:"Footer_socials__Arjjf",socialButton:"Footer_socialButton__owWdN"}},6914:function(e){e.exports={header:"MainHeader_header__v29oY",brand:"MainHeader_brand__PWSjn",nav:"MainHeader_nav__OWvbh",navLink:"MainHeader_navLink__NUd27",activeLink:"MainHeader_activeLink__YR7BN",actions:"MainHeader_actions__jUZ_j",coinWidget:"MainHeader_coinWidget__Lwamz",coinIcon:"MainHeader_coinIcon__GoTN_",coinText:"MainHeader_coinText__soICt",coinLabel:"MainHeader_coinLabel__rEQWV",coinValue:"MainHeader_coinValue__U9zIq",profileCircle:"MainHeader_profileCircle__654Xs",hamburger:"MainHeader_hamburger__9fVCh",mobileNav:"MainHeader_mobileNav__RVDMJ",mobileNavItem:"MainHeader_mobileNavItem__n0yAB"}}}]);
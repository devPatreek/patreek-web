(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6995:function(e,a,t){Promise.resolve().then(t.bind(t,7340))},5108:function(e,a,t){"use strict";t.d(a,{default:function(){return g}});var n=t(7437),r=t(2265),c=t(9376),l=t(9116);let s="patreek_article_";function i(){try{let e=Date.now(),a=[];for(let t=0;t<localStorage.length;t++){let n=localStorage.key(t);if(null==n?void 0:n.startsWith(s))try{let t=localStorage.getItem(n);if(t){let r=JSON.parse(t);e-r.timestamp>6048e5&&a.push(n)}}catch(e){a.push(n)}}a.forEach(e=>localStorage.removeItem(e))}catch(e){console.error("Error clearing expired cache:",e)}}i();var o=t(7648),d=t(3145),u=t(1402),h=t.n(u),p=t(7398),_=t.n(p);function m(e){var a;let{article:t}=e,[c,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)");l(e.matches);let a=e=>l(e.matches);return e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[]);let s=(a=t.createdAt,_()(a).isSame(_()(),"day"))?"Today in":_()(t.createdAt).format("MMM DD");return(0,n.jsxs)("div",{className:"".concat(h().container," ").concat(c?h().dark:""),children:[(0,n.jsx)("header",{className:h().header,children:(0,n.jsxs)("div",{className:h().headerInner,children:[(0,n.jsx)(o.default,{href:"/",className:h().logoLink,children:(0,n.jsx)(d.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:50,height:50,className:h().logo})}),(0,n.jsxs)("div",{className:h().headerCenter,children:[(0,n.jsx)("h1",{className:h().categoryName,children:t.categoryName}),(0,n.jsx)("p",{className:h().date,children:s})]})]})}),(0,n.jsx)("main",{className:h().main,children:(0,n.jsxs)("article",{className:h().article,children:[t.imageUrl&&(0,n.jsx)("div",{className:h().imageWrapper,children:(0,n.jsx)("img",{src:t.imageUrl,alt:t.title,className:h().image})}),(0,n.jsx)("h1",{className:h().title,children:t.title}),t.description&&(0,n.jsx)("p",{className:h().description,children:t.description}),(0,n.jsx)("div",{className:h().content,dangerouslySetInnerHTML:{__html:t.content}}),(0,n.jsx)("div",{className:h().unlockBanner,children:(0,n.jsxs)("div",{className:h().unlockBannerContent,children:[(0,n.jsx)("p",{className:h().unlockText,children:"UNLOCK YOUR NEWS FEED"}),(0,n.jsxs)("p",{className:h().unlockDescription,children:["Register to get the latest updates from the topics"," ",(0,n.jsx)("span",{className:h().unlockUnderline,children:"you"})," care about"]}),(0,n.jsxs)("div",{className:h().storeButtons,children:[(0,n.jsx)("a",{href:"https://apps.apple.com/us/app/patreek/id6547858283",target:"_blank",rel:"noopener noreferrer",className:h().storeLink,children:(0,n.jsx)(d.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3729b558347b9bf210a5a_Store%3DApp%20Store%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Download on App Store",width:200,height:60,className:h().storeImage})}),(0,n.jsx)("a",{href:"#",className:h().storeLink,children:(0,n.jsx)(d.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3727c8abb3515ab42d712_Store%3DGoogle%20Play%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Get it on Google Play",width:200,height:60,className:h().storeImage})})]})]})})]})})]})}function g(){let e=(0,c.usePathname)(),[a,t]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null);return((0,r.useEffect)(()=>{(async function(){let a=null,n=null==e?void 0:e.match(/\/article\/(\d+)/);if(n)a=parseInt(n[1],10);else{let e=window.location.pathname.match(/\/article\/(\d+)/);e&&(a=parseInt(e[1],10))}if(!a||isNaN(a)||a<=0){h("Invalid article ID"),d(!1);return}try{d(!0);let e=function(e){try{let a="".concat(s).concat(e),t=localStorage.getItem(a);if(!t)return null;let n=JSON.parse(t);if(Date.now()-n.timestamp>6048e5)return localStorage.removeItem(a),null;return n.data}catch(e){return console.error("Error reading from cache:",e),null}}(a);if(e){console.log("[ArticlePage] Using cached article ".concat(a)),t(e),h(null),d(!1);return}console.log("[ArticlePage] Fetching article ".concat(a," from API"));let n=await (0,l.S)(a);n?(function(e,a){let t="".concat(s).concat(e),n={data:a,timestamp:Date.now()};try{localStorage.setItem(t,JSON.stringify(n))}catch(e){if(console.error("Error writing to cache:",e),e instanceof DOMException&&"QuotaExceededError"===e.name){i();try{localStorage.setItem(t,JSON.stringify(n))}catch(e){console.error("Failed to cache after cleanup:",e)}}}}(a,n),t(n),h(null)):h("Article not found or not available")}catch(e){console.error("Failed to load article:",e),h("Failed to load article. Please try again later.")}finally{d(!1)}})()},[e]),o)?(0,n.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333"},children:(0,n.jsx)("p",{children:"Loading article..."})}):u||!a?(0,n.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333",padding:"20px"},children:[(0,n.jsx)("p",{children:u||"Article not found"}),(0,n.jsx)("a",{href:"/",style:{marginTop:"16px",color:"#667eea",textDecoration:"underline"},children:"â† Back to Home"})]}):(0,n.jsx)(m,{article:a})}},7340:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return u}});var n=t(7437),r=t(2265),c=t(9376),l=t(9116),s=t(6777),i=t.n(s),o=t(3145),d=t(5108);function u(){let e=(0,c.usePathname)(),[a,t]=(0,r.useState)(!1),[l,s]=(0,r.useState)(null);return((0,r.useEffect)(()=>{t(!0),s(window.location.pathname)},[]),(0,r.useEffect)(()=>{s(window.location.pathname)},[e]),a&&l&&/^\/article\/\d+/.test(l))?(0,n.jsx)(d.default,{}):(0,n.jsx)(h,{})}function h(){let[e,a]=(0,r.useState)([]),[t,c]=(0,r.useState)(!0),[s,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{!async function(){try{c(!0),d(null);let e=await (0,l.D)();a(e)}catch(e){console.warn("[HomePage] Failed to load feeds:",e),a([])}finally{c(!1)}}()},[]);let u=(0,r.useMemo)(()=>{if(!e||0===e.length)return[];let a=[];return e.forEach((e,t)=>{a.push({type:"article",id:"article-".concat(e.id),data:e}),(t+1)%3==0&&a.push({type:"ad",id:"ad-".concat(t)})}),a},[e]);return(0,n.jsxs)("div",{className:i().container,children:[(0,n.jsx)("header",{className:i().header,children:(0,n.jsxs)("div",{className:i().headerInner,children:[(0,n.jsx)("div",{className:i().logoSection,children:(0,n.jsx)(o.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:60,height:60,className:i().logo,priority:!0})}),(0,n.jsxs)("div",{className:i().headerTitle,children:[(0,n.jsx)("h2",{className:i().title,children:"Latest news"}),(0,n.jsx)("p",{className:i().subtitle,children:"Let's read"})]})]})}),(0,n.jsx)("div",{className:i().unlockBannerTop,children:(0,n.jsxs)("div",{className:i().unlockBannerContent,children:[(0,n.jsx)("p",{className:i().unlockText,children:"UNLOCK YOUR NEWS FEED"}),(0,n.jsxs)("p",{className:i().unlockDescription,children:["Register to get the latest updates from the topics"," ",(0,n.jsx)("span",{className:i().unlockUnderline,children:"you"})," care about"]}),(0,n.jsxs)("div",{className:i().storeButtons,children:[(0,n.jsx)("a",{href:"https://apps.apple.com/us/app/patreek/id6547858283",target:"_blank",rel:"noopener noreferrer",className:i().storeLink,children:(0,n.jsx)(o.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3729b558347b9bf210a5a_Store%3DApp%20Store%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Download on App Store",width:200,height:60,className:i().storeImage})}),(0,n.jsx)("a",{href:"#",className:i().storeLink,children:(0,n.jsx)(o.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3727c8abb3515ab42d712_Store%3DGoogle%20Play%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Get it on Google Play",width:200,height:60,className:i().storeImage})})]})]})}),(0,n.jsx)("main",{className:i().main,children:t?(0,n.jsx)("div",{className:i().loadingState,children:(0,n.jsx)("p",{children:"Loading articles..."})}):s?(0,n.jsxs)("div",{className:i().emptyState,children:[(0,n.jsx)("p",{children:s}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:i().retryButton,children:"Retry"})]}):0===e.length?(0,n.jsxs)("div",{className:i().emptyState,children:[(0,n.jsx)("p",{children:"No articles available at the moment."}),(0,n.jsx)("p",{className:i().registerPrompt,children:"Register to get the latest updates from the topics you care about"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:i().bannerAdSlot}),(0,n.jsx)("div",{className:i().feedList,children:u.map(e=>{if("ad"===e.type)return(0,n.jsx)("div",{className:i().adSlot,children:(0,n.jsx)("div",{className:i().adPlaceholder,children:"Advertisement"})},e.id);let a=e.data;return(0,n.jsxs)("a",{href:"/article/".concat(a.id),target:"_blank",rel:"noopener noreferrer",className:i().feedCard,children:[(0,n.jsxs)("div",{className:i().imageWrapper,children:[(0,n.jsx)("img",{src:a.imageUrl||"https://insideskills.pl/wp-content/uploads/2024/01/placeholder-6.png",alt:a.title,className:i().image}),(0,n.jsx)("div",{className:i().categoryBadge,children:(0,n.jsx)("span",{className:i().categoryText,children:a.categoryName})})]}),(0,n.jsx)("div",{className:i().content,children:(0,n.jsx)("h2",{className:i().feedTitle,children:a.title})})]},e.id)})}),(0,n.jsx)("div",{className:i().bannerAdSlot})]})})]})}},9116:function(e,a,t){"use strict";t.d(a,{D:function(){return r},S:function(){return c}});let n="https://patreekbackend-env.eba-ifvfvi7q.us-east-1.elasticbeanstalk.com";async function r(){try{let e=new AbortController,a=setTimeout(()=>e.abort(),1e4),t=await fetch("".concat(n,"/api/v1/feeds/public"),{method:"GET",cache:"default",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e.signal});if(clearTimeout(a),!t.ok)return console.warn("[API] Failed to fetch public feeds: ".concat(t.status)),[];return((await t.json()).content||[]).slice(0,30)}catch(e){return e instanceof Error?"AbortError"===e.name||e.message.includes("timeout")||e.message.includes("TIMED_OUT")?console.warn("[API] Connection timeout while fetching public feeds - backend may be unavailable"):e.message.includes("Failed to fetch")||e.message.includes("ERR_CONNECTION")?console.warn("[API] Connection error while fetching public feeds - backend may be unavailable"):console.warn("[API] Error fetching public feeds:",e.message):console.warn("[API] Unknown error fetching public feeds:",e),[]}}async function c(e){try{let a=new AbortController,t=setTimeout(()=>a.abort(),1e4),r=await fetch("".concat(n,"/api/v1/feeds/public/").concat(e),{method:"GET",cache:"default",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:a.signal});if(clearTimeout(t),!r.ok){if(404===r.status||403===r.status)return null;return console.warn("[API] Failed to fetch public feed ".concat(e,": ").concat(r.status)),null}return await r.json()}catch(a){return a instanceof Error?"AbortError"===a.name||a.message.includes("timeout")||a.message.includes("TIMED_OUT")?console.warn("[API] Connection timeout while fetching article ".concat(e," - backend may be unavailable")):a.message.includes("Failed to fetch")||a.message.includes("ERR_CONNECTION")?console.warn("[API] Connection error while fetching article ".concat(e," - backend may be unavailable")):console.warn("[API] Error fetching public feed ".concat(e,":"),a.message):console.warn("[API] Unknown error fetching public feed ".concat(e,":"),a),null}}},9376:function(e,a,t){"use strict";var n=t(5475);t.o(n,"usePathname")&&t.d(a,{usePathname:function(){return n.usePathname}})},6777:function(e){e.exports={container:"page_container__jZF7q",header:"page_header__oRW75",headerInner:"page_headerInner__leMGi",logoSection:"page_logoSection__is0Qg",headerTitle:"page_headerTitle__Jd54L",logo:"page_logo__ikIZE",title:"page_title__po7na",subtitle:"page_subtitle__YBgxm",main:"page_main__nw1Wk",bannerAdSlot:"page_bannerAdSlot__eT4jk",feedList:"page_feedList__VxTRo",feedCard:"page_feedCard__GioUo",imageWrapper:"page_imageWrapper__Fc9qC",image:"page_image__ZQ2oC",categoryBadge:"page_categoryBadge__TjLXs",categoryText:"page_categoryText__AOPvi",content:"page_content___38fW",feedTitle:"page_feedTitle__YfSVK",adSlot:"page_adSlot__h3xPr",adPlaceholder:"page_adPlaceholder__fOZZP",emptyState:"page_emptyState__j9MME",registerPrompt:"page_registerPrompt__mSJgN",loadingState:"page_loadingState__hO15Q",retryButton:"page_retryButton__rXSBT",unlockBannerTop:"page_unlockBannerTop__EeLvh",unlockBanner:"page_unlockBanner__Ol3PL",unlockBannerContent:"page_unlockBannerContent__2Gy3x",unlockText:"page_unlockText__O6AO_",unlockDescription:"page_unlockDescription__w_ZeM",unlockUnderline:"page_unlockUnderline__l9atb",storeButtons:"page_storeButtons__KngCj",storeLink:"page_storeLink__hoVu1",storeImage:"page_storeImage__hbm_s"}},1402:function(e){e.exports={container:"ArticleReader_container__jO2L5",dark:"ArticleReader_dark__PbS6A",header:"ArticleReader_header__dbPzK",headerInner:"ArticleReader_headerInner__yrlm4",logoLink:"ArticleReader_logoLink__Kc5xR",logo:"ArticleReader_logo__Ffm7W",headerCenter:"ArticleReader_headerCenter__ju69k",categoryName:"ArticleReader_categoryName__DrJk6",date:"ArticleReader_date__7kari",main:"ArticleReader_main__vwq7A",article:"ArticleReader_article__XHm3G",imageWrapper:"ArticleReader_imageWrapper__NI6E9",image:"ArticleReader_image__pYNG4",title:"ArticleReader_title__0ba_F",description:"ArticleReader_description__FGiUV",content:"ArticleReader_content__KVC5g",unlockBanner:"ArticleReader_unlockBanner__4dPP0",unlockBannerContent:"ArticleReader_unlockBannerContent__xQm1Q",unlockText:"ArticleReader_unlockText__XI_xN",unlockDescription:"ArticleReader_unlockDescription__D8kgb",unlockUnderline:"ArticleReader_unlockUnderline__MRWY0",storeButtons:"ArticleReader_storeButtons__KTAzN",storeLink:"ArticleReader_storeLink__8tyrD",storeImage:"ArticleReader_storeImage__DCJpi"}}},function(e){e.O(0,[987,990,972,726,971,117,744],function(){return e(e.s=6995)}),_N_E=e.O()}]);
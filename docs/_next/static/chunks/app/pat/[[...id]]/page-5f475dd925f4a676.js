(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6276],{8368:function(e,a,t){Promise.resolve().then(t.bind(t,4573))},4573:function(e,a,t){"use strict";t.d(a,{default:function(){return _}});var n=t(7437),r=t(2265),l=t(9376),s=t(7029),i=t(4422),o=t(5148),c=t(1224),d=t(8349),m=t(4048),u=t(7875),h=t.n(u);function _(){let e=(0,l.usePathname)(),[a,t]=(0,r.useState)(null),[u,_]=(0,r.useState)(!0),[p,f]=(0,r.useState)(null),[b,x]=(0,r.useState)(!1),[v,j]=(0,r.useState)(0),[N,k]=(0,r.useState)([]),g=(0,r.useMemo)(()=>{{let e=window.location.pathname.match(/^\/pat\/(\d+)/);if(e)return parseInt(e[1],10)}if(e){let a=e.match(/^\/pat\/(\d+)/);if(a)return parseInt(a[1],10)}return null},[e]);return((0,r.useEffect)(()=>{(async()=>{try{let t=await (0,s.r$)();if(x(t.authenticated),t.authenticated){var e,a;let t=await (0,s.getUserProfile)();j(null!==(a=null==t?void 0:null===(e=t.rank)||void 0===e?void 0:e.level)&&void 0!==a?a:0)}else j(0)}catch(e){x(!1),j(0)}})()},[]),(0,r.useEffect)(()=>{(async()=>{if(!g){_(!1),f("Invalid pat ID");return}try{_(!0);let e=(0,i.A)(g);e&&(t(e),f(null),_(!1));let a=await (0,s.ST)(g);if(!a){f("Pat not found or unavailable"),t(null);return}(0,i.t)(g,a),t(a),f(null)}catch(e){console.error("[PatPage] Failed to load article",e),f("Failed to load pat")}finally{_(!1)}})()},[g]),(0,r.useEffect)(()=>{(async()=>{try{let e=await (0,s.Dk)();g?k(e.filter(e=>e.id!==g).slice(0,5)):k(e.slice(0,5))}catch(e){console.error("[PatPage] Failed to load recommendations",e),k([])}})()},[g]),u)?(0,n.jsx)("div",{className:h().loader,children:(0,n.jsx)("p",{children:"Loading pat..."})}):p||!a?(0,n.jsxs)("div",{className:h().loader,children:[(0,n.jsx)("p",{children:p||"Pat not found"}),(0,n.jsx)("a",{href:"/",className:h().backLink,children:"â† Back to Home"})]}):(0,n.jsxs)("div",{className:h().page,children:[(0,n.jsx)(c.Z,{hasSession:b}),(0,n.jsxs)("main",{className:h().grid,children:[(0,n.jsx)("section",{className:h().contentColumn,children:(0,n.jsx)(o.Z,{article:a})}),(0,n.jsxs)("aside",{className:h().sidebar,children:[(0,n.jsx)("div",{className:h().adWrapper,children:(0,n.jsx)(m.Z,{placementId:"pat-article-300x250"})}),(0,n.jsxs)("div",{className:h().recommended,children:[(0,n.jsx)("div",{className:h().recommendedHeader,children:(0,n.jsx)("span",{children:"More for you"})}),(0,n.jsx)("ul",{className:h().recommendedList,children:N.map(e=>(0,n.jsx)("li",{className:h().recommendedItem,children:(0,n.jsxs)("a",{href:"/pat/".concat(e.id),className:h().recommendedLink,children:[(0,n.jsx)("p",{className:h().recommendedTitle,children:e.title}),(0,n.jsx)("p",{className:h().recommendedMeta,children:e.categoryName})]})},e.id))})]})]})]}),(0,n.jsx)(d.Z,{})]})}},4048:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});var n=t(7437),r=t(3498),l=t.n(r);function s(e){let{placementId:a,showPlaceholder:t=!0,rankLevel:r}=e;return!t||"number"==typeof r&&r>=5?null:(0,n.jsx)("div",{className:l().adPlaceholder,children:(0,n.jsx)("div",{className:l().placeholderContent,children:(0,n.jsx)("span",{className:l().placeholderText,children:"Advertisement"})})})}},8349:function(e,a,t){"use strict";t.d(a,{Z:function(){return c}});var n=t(7437),r=t(7648),l=t(1468),s=t.n(l);let i=[{label:"Privacy",href:"/privacy"},{label:"Terms",href:"/terms"},{label:"Help",href:"/help"},{label:"About",href:"/about"}],o=[{label:"X",href:"https://x.com/patreek",aria:"Open Patreek on X"},{label:"Facebook",href:"https://facebook.com",aria:"Open Patreek on Facebook"},{label:"Instagram",href:"https://instagram.com",aria:"Open Patreek on Instagram"}];function c(){let e=new Date().getFullYear();return(0,n.jsxs)("footer",{className:s().footer,children:[(0,n.jsx)("div",{className:s().links,children:i.map(e=>(0,n.jsx)(r.default,{href:e.href,className:s().link,children:e.label},e.label))}),(0,n.jsxs)("div",{className:s().right,children:[(0,n.jsxs)("span",{className:s().copy,children:["\xa9 ",e," Patreek"]}),(0,n.jsx)("div",{className:s().socials,children:o.map(e=>(0,n.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer","aria-label":e.aria,className:s().socialButton,children:"X"===e.label?"X":e.label.charAt(0)},e.label))})]})]})}},1224:function(e,a,t){"use strict";t.d(a,{Z:function(){return d}});var n=t(7437),r=t(2265),l=t(7648),s=t(9376),i=t(6914),o=t.n(i),c=t(7029);function d(e){let{hasSession:a=!1,active:t}=e,i=(0,s.useRouter)(),d=(0,s.usePathname)(),[m,u]=(0,r.useState)(null),[h,_]=(0,r.useState)(!1),p=(0,r.useMemo)(()=>null==t?void 0:t.toLowerCase(),[t]),f=[{label:"Coins",path:"/coins"},{label:"Community",path:"/community"},{label:"Shop",path:"https://shop.patreek.com"},{label:"Opinion",path:"/opinion"},{label:"Write",path:"/write"}];(0,r.useEffect)(()=>{(async()=>{if(a)try{if(!(await (0,c.r$)()).authenticated)return;let e=await (0,c.getUserProfile)();(null==e?void 0:e.username)&&u(e.username)}catch(e){u(null)}})()},[a]);let b=e=>!!(p&&p===e.label.toLowerCase()||d&&e.path.startsWith("/")&&d.startsWith(e.path));return(0,n.jsxs)("header",{className:o().header,children:[(0,n.jsx)("div",{className:o().brand,onClick:()=>i.push("/"),children:"Patreek"}),(0,n.jsx)("nav",{className:o().nav,children:f.map(e=>(0,n.jsx)(l.default,{href:e.path,className:"".concat(o().navLink," ").concat(b(e)?o().activeLink:""),target:e.path.startsWith("http")?"_blank":void 0,children:e.label},e.label))}),(0,n.jsxs)("div",{className:o().actions,children:[(0,n.jsx)("button",{type:"button",className:o().iconButton,"aria-label":"Search Patreek",children:"\uD83D\uDD0D"}),(0,n.jsx)("button",{type:"button",className:o().profileCircle,onClick:()=>{a&&m?i.push("/u/".concat(m)):i.push("/registration")},"aria-label":"Open profile",children:m?m[0].toUpperCase():"P"}),(0,n.jsxs)("button",{type:"button",className:o().hamburger,onClick:()=>_(e=>!e),"aria-label":"Toggle navigation",children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{})]})]}),h&&(0,n.jsx)("div",{className:o().mobileNav,children:f.map(e=>(0,n.jsx)(l.default,{href:e.path,className:o().mobileNavItem,onClick:()=>_(!1),children:e.label},e.label))})]})}},7648:function(e,a,t){"use strict";t.d(a,{default:function(){return r.a}});var n=t(2972),r=t.n(n)},7875:function(e){e.exports={page:"page_page__JoPGj",grid:"page_grid__qknTj",contentColumn:"page_contentColumn__O0l__",sidebar:"page_sidebar__qYzLG",adWrapper:"page_adWrapper__SGhln",recommended:"page_recommended__QUTVL",recommendedHeader:"page_recommendedHeader__rmaD0",recommendedList:"page_recommendedList__ryM1s",recommendedItem:"page_recommendedItem__QpPQD",recommendedLink:"page_recommendedLink__uMfp_",recommendedTitle:"page_recommendedTitle__uYheV",recommendedMeta:"page_recommendedMeta__YWo4t",loader:"page_loader__qE3FP",backLink:"page_backLink__iy8Gp"}},3498:function(e){e.exports={adPlaceholder:"AdPlaceholder_adPlaceholder__C0bO2",placeholderContent:"AdPlaceholder_placeholderContent__8esrF",placeholderText:"AdPlaceholder_placeholderText__XO5aL"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",links:"Footer_links__cFiYr",link:"Footer_link__TBOP7",right:"Footer_right__s6ko6",copy:"Footer_copy__KUC9W",socials:"Footer_socials__Arjjf",socialButton:"Footer_socialButton__owWdN"}},6914:function(e){e.exports={header:"MainHeader_header__v29oY",brand:"MainHeader_brand__PWSjn",nav:"MainHeader_nav__OWvbh",navLink:"MainHeader_navLink__NUd27",activeLink:"MainHeader_activeLink__YR7BN",actions:"MainHeader_actions__jUZ_j",iconButton:"MainHeader_iconButton__6RFhG",profileCircle:"MainHeader_profileCircle__654Xs",hamburger:"MainHeader_hamburger__9fVCh",mobileNav:"MainHeader_mobileNav__RVDMJ",mobileNavItem:"MainHeader_mobileNavItem__n0yAB"}}},function(e){e.O(0,[126,7123,4977,6990,2972,3145,466,7029,9216,2971,2117,1744],function(){return e(e.s=8368)}),_N_E=e.O()}]);
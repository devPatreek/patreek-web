(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{6995:function(e,a,t){Promise.resolve().then(t.bind(t,3586))},3586:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return Q}});var r=t(7437),s=t(2265),n=t(9376),i=t(7029),l=t(4573),c=t(6140),o=t(7648),d=t(1274),h=t.n(d);function _(e){let{article:a}=e;return a?(0,r.jsx)(o.default,{href:"/pat/".concat(a.id),className:h().heroCard,children:(0,r.jsx)("div",{className:h().media,style:{backgroundImage:"linear-gradient(180deg, rgba(2,2,2,0.2), rgba(2,2,2,0.75)), url(".concat(a.imageUrl,")")},children:(0,r.jsxs)("div",{className:h().overlay,children:[(0,r.jsx)("p",{className:h().tag,children:a.categoryName}),(0,r.jsx)("h2",{className:h().title,children:a.title}),a.description&&(0,r.jsx)("p",{className:h().copy,children:a.description})]})})}):(0,r.jsxs)("div",{className:h().placeholder,children:[(0,r.jsx)("p",{className:h().placeholderTitle,children:"Stories curated for you"}),(0,r.jsx)("p",{className:h().placeholderCopy,children:"Check back once we load today’s spotlight."})]})}var m=t(8240),u=t.n(m);function p(e){let{items:a}=e;return a.length?(0,r.jsxs)("div",{className:u().sidebar,children:[(0,r.jsx)("p",{className:u().title,children:"Trending"}),(0,r.jsx)("ol",{className:u().list,children:a.slice(0,5).map((e,a)=>(0,r.jsxs)("li",{className:u().item,children:[(0,r.jsx)("span",{className:u().index,children:a+1}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:u().headline,children:e.title}),(0,r.jsx)("span",{className:u().meta,children:e.categoryName})]}),e.imageUrl&&(0,r.jsx)("img",{src:e.imageUrl,alt:"",className:u().thumbnail})]},e.id))})]}):(0,r.jsxs)("div",{className:u().empty,children:[(0,r.jsx)("p",{className:u().title,children:"Trending"}),(0,r.jsx)("p",{className:u().emptyCopy,children:"Fresh stories will appear soon."})]})}var g=t(7436),x=t.n(g);function j(){return(0,r.jsxs)("div",{className:x().widget,children:[(0,r.jsx)("p",{className:x().title,children:"Daily Focus"}),(0,r.jsxs)("p",{className:x().copy,children:["You’re trending in ",(0,r.jsx)("strong",{children:"Business"})," — keep patting the stories that matter."]}),(0,r.jsxs)("div",{className:x().progress,children:[(0,r.jsx)("span",{children:"40 XP"}),(0,r.jsx)("span",{children:"80 XP Goal"})]}),(0,r.jsx)("div",{className:x().track,children:(0,r.jsx)("span",{style:{width:"60%"}})})]})}var f=t(5171),N=t.n(f);let v=[{name:"Ava Matthews",title:"Culture Curator",handle:"@ava"},{name:"Noah Reid",title:"Tech Analyst",handle:"@noahreid"},{name:"Mia Chen",title:"Community Lead",handle:"@mia"}];function y(){return(0,r.jsxs)("div",{className:N().widget,children:[(0,r.jsx)("p",{className:N().title,children:"Who to follow"}),(0,r.jsx)("div",{className:N().list,children:v.map(e=>(0,r.jsxs)("div",{className:N().item,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:N().name,children:e.name}),(0,r.jsxs)("p",{className:N().info,children:[e.title," \xb7 ",(0,r.jsx)("span",{className:N().handle,children:e.handle})]})]}),(0,r.jsx)("button",{className:N().button,type:"button",children:"Follow"})]},e.handle))})]})}var b=t(4),w=t.n(b);function S(){let[e,a]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{let e=()=>a(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e)?(0,r.jsxs)("div",{className:w().banner,children:[(0,r.jsx)("p",{className:w().title,children:"Get the Patreek app"}),(0,r.jsxs)("div",{className:w().buttons,children:[(0,r.jsx)("a",{href:"#",className:w().storeButton,children:"App Store"}),(0,r.jsx)("a",{href:"#",className:w().storeButton,children:"Google Play"})]})]}):null}var C=t(4048),W=t(7576),D=t(7659),B=t.n(D),U=t(257);function k(e){let{location:a,countryCode:t}=e,[n,i]=(0,s.useState)(null),[l,c]=(0,s.useState)(!0),[o,d]=(0,s.useState)(null),[h,_]=(0,s.useState)("Amsterdam");(0,s.useEffect)(()=>{(async()=>{try{c(!0),d(null);let e=a;if(e)_(e);else try{let a=await fetch("https://ipapi.co/json/");a.ok?(e=(await a.json()).city||"Amsterdam",_(e||"Amsterdam")):(e=t?u(t):"Amsterdam",_(e))}catch(a){e=t?u(t):"Amsterdam",_(e)}let r=U.env.NEXT_PUBLIC_WEATHER_API_KEY||"";if(!r){i({location:e||"Amsterdam",forecast:[{day:"Today",icon:"☁️",high:48,low:40},{day:"Wed",icon:"☁️",high:48,low:40},{day:"Thu",icon:"☁️",high:46,low:39},{day:"Fri",icon:"☁️",high:44,low:38}]}),c(!1);return}let s=e||"Amsterdam",n=await fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(encodeURIComponent(s),"&appid=").concat(r,"&units=imperial&cnt=4"));if(!n.ok)throw Error("Failed to fetch weather");let l=await n.json(),o=l.list.slice(0,4).map((e,a)=>{let t=new Date(1e3*e.dt),r=0===a?"Today":t.toLocaleDateString("en-US",{weekday:"short"}),s=m(e.weather[0].main);return{day:r,icon:s,high:Math.round(e.main.temp_max),low:Math.round(e.main.temp_min)}});i({location:l.city.name,forecast:o})}catch(e){console.error("Error fetching weather:",e),d("Unable to load weather"),i({location:h,forecast:[{day:"Today",icon:"☁️",high:48,low:40},{day:"Wed",icon:"☁️",high:48,low:40},{day:"Thu",icon:"☁️",high:46,low:39},{day:"Fri",icon:"☁️",high:44,low:38}]})}finally{c(!1)}})()},[a,t]);let m=e=>({Clear:"☀️",Clouds:"☁️",Rain:"\uD83C\uDF27️",Drizzle:"\uD83C\uDF26️",Thunderstorm:"⛈️",Snow:"❄️",Mist:"\uD83C\uDF2B️",Fog:"\uD83C\uDF2B️"})[e]||"☁️",u=e=>({US:"New York",GB:"London",CA:"Toronto",AU:"Sydney",DE:"Berlin",FR:"Paris",IT:"Rome",ES:"Madrid",NL:"Amsterdam",NG:"Lagos",KE:"Nairobi",ZA:"Johannesburg"})[e]||"Amsterdam";return l?(0,r.jsxs)("div",{className:B().widget,children:[(0,r.jsxs)("div",{className:B().header,children:[(0,r.jsxs)("div",{className:B().headerLeft,children:[(0,r.jsx)("div",{className:B().headerBar}),(0,r.jsx)("span",{className:B().headerTitle,children:"Weather"})]}),(0,r.jsxs)("div",{className:B().headerRight,children:[(0,r.jsx)("span",{className:B().location,children:h}),(0,r.jsx)("span",{className:B().locationIcon,children:"\uD83D\uDCCD"})]})]}),(0,r.jsx)("div",{className:B().loading,children:"Loading weather..."})]}):o&&!n?(0,r.jsxs)("div",{className:B().widget,children:[(0,r.jsx)("div",{className:B().header,children:(0,r.jsxs)("div",{className:B().headerLeft,children:[(0,r.jsx)("div",{className:B().headerBar}),(0,r.jsx)("span",{className:B().headerTitle,children:"Weather"})]})}),(0,r.jsx)("div",{className:B().error,children:o})]}):(0,r.jsxs)("div",{className:B().widget,children:[(0,r.jsxs)("div",{className:B().header,children:[(0,r.jsxs)("div",{className:B().headerLeft,children:[(0,r.jsx)("div",{className:B().headerBar}),(0,r.jsx)("span",{className:B().headerTitle,children:"Weather"})]}),(0,r.jsxs)("div",{className:B().headerRight,children:[(0,r.jsx)("span",{className:B().location,children:(null==n?void 0:n.location)||h}),(0,r.jsx)("span",{className:B().locationIcon,children:"\uD83D\uDCCD"})]})]}),(0,r.jsx)("div",{className:B().forecast,children:null==n?void 0:n.forecast.map((e,a)=>(0,r.jsxs)("div",{className:B().forecastDay,children:[(0,r.jsx)("div",{className:B().dayName,children:e.day}),(0,r.jsx)("div",{className:B().weatherIcon,children:e.icon}),(0,r.jsxs)("div",{className:B().temperatures,children:[(0,r.jsxs)("span",{className:B().high,children:[e.high,"\xb0"]}),(0,r.jsxs)("span",{className:B().low,children:[e.low,"\xb0"]})]})]},a))}),(0,r.jsxs)("div",{className:B().footer,children:[(0,r.jsx)("a",{href:"https://www.accuweather.com",target:"_blank",rel:"noopener noreferrer",className:B().seeMore,children:"See more"}),(0,r.jsxs)("div",{className:B().accuWeather,children:[(0,r.jsx)("div",{className:B().accuLogo,children:"☀️"}),(0,r.jsx)("span",{className:B().accuText,children:"AccuWeather"})]})]})]})}var T=t(2783),F=t.n(T),P=t(257);function A(e){let{isUSUser:a=!1,localCurrency:t,countryCode:n}=e,[i,l]=(0,s.useState)([]),[c,o]=(0,s.useState)(!0),[d,h]=(0,s.useState)(null),[_,m]=(0,s.useState)("USD"),[u,p]=(0,s.useState)("USD");(0,s.useEffect)(()=>{(async()=>{try{o(!0),h(null);let e="USD",r=t;if(a)e="USD",r="USD";else if(r)e=r||"USD";else try{let a=await fetch("https://ipapi.co/json/");e=a.ok?r=(await a.json()).currency||"USD":(r=x(n||"US"))||"USD"}catch(a){e=(r=x(n||"US"))||"USD"}m(e||"USD"),p(r||"USD");let s=a?["EUR","GBP","JPY","XAU","BTC"]:["USD","EUR","GBP","JPY","XAU","BTC"],i=P.env.NEXT_PUBLIC_FOREX_API_KEY||"";if(!i){let a=s.map(a=>({currency:a,symbol:g(a),rate:j(e||"USD",a),change:parseFloat((2*Math.random()-1).toFixed(2))}));l(a),o(!1);return}let c=await fetch("https://v6.exchangerate-api.com/v6/".concat(i,"/latest/").concat(e));if(!c.ok)throw Error("Failed to fetch exchange rates");let d=await c.json(),_=s.map(a=>{let t=1;if(a===e)t=1;else if("XAU"===a)t=j(e,"XAU");else if("BTC"===a)t=j(e,"BTC");else{var r;t=(null===(r=d.conversion_rates)||void 0===r?void 0:r[a])||1}return{currency:a,symbol:g(a),rate:parseFloat(t.toFixed(4)),change:parseFloat((2*Math.random()-1).toFixed(2))}});l(_)}catch(e){console.error("Error fetching forex rates:",e),h("Unable to load exchange rates"),l((a?["EUR","GBP","JPY","XAU","BTC"]:["USD","EUR","GBP","JPY","XAU","BTC"]).map(e=>({currency:e,symbol:g(e),rate:j(_||"USD",e),change:0})))}finally{o(!1)}})()},[a,t,n]);let g=e=>({USD:"$",EUR:"€",GBP:"\xa3",JPY:"\xa5",NGN:"₦",XAU:"Au",BTC:"₿"})[e]||e,x=e=>({US:"USD",GB:"GBP",EU:"EUR",JP:"JPY",NG:"NGN",KE:"KES",ZA:"ZAR",CA:"CAD",AU:"AUD",DE:"EUR",FR:"EUR",IT:"EUR",ES:"EUR",NL:"EUR"})[e]||"USD",j=(e,a)=>{var t;return(null===(t=({USD:{EUR:.92,GBP:.79,JPY:150,XAU:5e-4,BTC:15e-6},EUR:{USD:1.09,GBP:.86,JPY:163,XAU:54e-5,BTC:16e-6},GBP:{USD:1.27,EUR:1.16,JPY:190,XAU:63e-5,BTC:19e-6},NGN:{USD:67e-5,EUR:61e-5,GBP:53e-5,JPY:.1,XAU:34e-8,BTC:1e-8}})[e])||void 0===t?void 0:t[a])||1};return c?(0,r.jsxs)("div",{className:F().widget,children:[(0,r.jsx)("div",{className:F().header,children:(0,r.jsxs)("div",{className:F().headerLeft,children:[(0,r.jsx)("div",{className:F().headerBar}),(0,r.jsx)("span",{className:F().headerTitle,children:"Exchange Rates"})]})}),(0,r.jsx)("div",{className:F().loading,children:"Loading exchange rates..."})]}):d&&0===i.length?(0,r.jsxs)("div",{className:F().widget,children:[(0,r.jsx)("div",{className:F().header,children:(0,r.jsxs)("div",{className:F().headerLeft,children:[(0,r.jsx)("div",{className:F().headerBar}),(0,r.jsx)("span",{className:F().headerTitle,children:"Exchange Rates"})]})}),(0,r.jsx)("div",{className:F().error,children:d})]}):(0,r.jsxs)("div",{className:F().widget,children:[(0,r.jsxs)("div",{className:F().header,children:[(0,r.jsxs)("div",{className:F().headerLeft,children:[(0,r.jsx)("div",{className:F().headerBar}),(0,r.jsx)("span",{className:F().headerTitle,children:"Exchange Rates"})]}),(0,r.jsx)("div",{className:F().headerRight,children:(0,r.jsxs)("span",{className:F().baseCurrency,children:["1 ",_]})})]}),(0,r.jsx)("div",{className:F().ratesList,children:i.map(e=>(0,r.jsxs)("div",{className:F().rateItem,children:[(0,r.jsxs)("div",{className:F().rateLeft,children:[(0,r.jsx)("span",{className:F().rateSymbol,children:e.symbol}),(0,r.jsx)("span",{className:F().rateCurrency,children:e.currency})]}),(0,r.jsxs)("div",{className:F().rateRight,children:[(0,r.jsx)("span",{className:F().rateValue,children:e.rate}),(0,r.jsxs)("span",{className:"".concat(F().rateChange," ").concat(("number"==typeof e.change?e.change:parseFloat(e.change))>=0?F().positive:F().negative),children:[("number"==typeof e.change?e.change:parseFloat(e.change))>=0?"+":"",e.change,"%"]})]})]},e.currency))})]})}var E=t(1224),L=t(1198),H=t.n(L);let I=[{label:"S&P 500",value:"↗ 0.15%",color:"#16a34a"},{label:"BTC",value:"↘ 1.2%",color:"#dc2626"},{label:"Melissa, TX",value:"☀️ 64\xb0F",color:"#f97316"},{label:"Daily Tip",value:"Drink water",color:"#0ea5e9"}];function R(){return(0,r.jsx)("div",{className:H().strip,children:I.map(e=>(0,r.jsxs)("div",{className:H().item,children:[(0,r.jsx)("span",{className:H().label,children:e.label}),(0,r.jsx)("span",{className:H().value,style:{color:e.color},children:e.value})]},e.label))})}var M=t(5235),G=t.n(M);function X(){let[e,a]=(0,s.useState)("loading"),[t,n]=(0,s.useState)(null);return((0,s.useEffect)(()=>{let e=!1;return async function(){a("loading");try{let t=await fetch("/api/v1/ads/active/home_banner",{cache:"no-store"});if(e)return;if(204===t.status){a("empty");return}if(!t.ok){a("error");return}let r=await t.json();n(r),a("active")}catch(t){e||a("error")}}(),()=>{e=!0}},[]),"active"===e&&t)?(0,r.jsx)("section",{className:G().banner,children:(0,r.jsxs)("a",{className:G().adCard,href:t.targetUrl,target:"_blank",rel:"noreferrer","aria-label":"Sponsored content",children:[(0,r.jsx)("span",{className:G().sponsoredBadge,children:"Sponsored"}),(0,r.jsx)("img",{src:t.imageUrl,alt:"Patreek Sponsored Slot",className:G().image})]})}):(0,r.jsx)("section",{className:G().banner,children:(0,r.jsxs)("div",{className:G().fallback,children:[(0,r.jsx)("p",{className:G().tag,children:"Featured Partner"}),(0,r.jsx)("h2",{className:G().title,children:"Book a premium news slot"}),(0,r.jsx)("p",{className:G().copy,children:"Spotlight your brand inside the Patreek newsroom and multiply impressions across curated audiences."}),(0,r.jsxs)("div",{className:G().actions,children:[(0,r.jsx)(o.default,{href:"/advertise",className:G().cta,children:"Book this slot"}),(0,r.jsx)("span",{className:G().secondary,children:"Reserve limited inventory"})]})]})})}var O=t(2278),Y=t.n(O);function J(e){let{user:a}=e,t=(0,n.useRouter)(),[i,l]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(!a||!a.createdAt||!a.email)return;let e=new Date("2025-12-12T00:00:00Z"),t=new Date(a.createdAt),r=a.email.split("@")[0],s=a.username===r||a.username==="".concat(r,"_").concat(a.id),n=localStorage.getItem("patreek_legacy_username_dismissed");t<e&&s&&!n&&l(!0)},[a]),i&&(null==a?void 0:a.username))?(0,r.jsxs)("div",{className:Y().banner,children:[(0,r.jsxs)("div",{className:Y().copy,children:[(0,r.jsx)("h3",{className:Y().title,children:"New: Usernames have arrived!"}),(0,r.jsxs)("p",{className:Y().subtitle,children:["We've reserved ",(0,r.jsxs)("strong",{children:["@",a.username]})," for you. Would you like to keep it or pick a new one?"]})]}),(0,r.jsxs)("div",{className:Y().actions,children:[(0,r.jsx)("button",{type:"button",className:Y().primary,onClick:()=>{t.push("/settings/profile")},children:"Customize"}),(0,r.jsx)("button",{type:"button",className:Y().secondary,onClick:()=>{localStorage.setItem("patreek_legacy_username_dismissed","true"),l(!1)},children:"Keep it"})]})]}):null}var Z=t(6777),z=t.n(Z);function Q(){let e=(0,n.usePathname)();return/^\/pat\/\d+/.test(window.location.pathname)||e&&/^\/pat\/\d+/.test(e)?(0,r.jsx)(l.default,{}):(0,r.jsx)(K,{})}function K(){let[e,a]=(0,s.useState)([]),[t,n]=(0,s.useState)(!0),[l,o]=(0,s.useState)(!1),[d,h]=(0,s.useState)({open:!1,action:"access this content"}),[m,u]=(0,s.useState)(!1),[g,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=!1;return(async()=>{try{let a=await (0,i.r$)();e||o(a.authenticated)}catch(a){e||o(!1)}})(),()=>{e=!0}},[]),(0,s.useEffect)(()=>{let e=!1;return l?(async()=>{try{let a=await (0,i.getUserProfile)();e||x(a)}catch(a){e||x(null)}})():x(null),()=>{e=!0}},[l]),(0,s.useEffect)(()=>{let e=()=>{u(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let f=e=>{h({open:!0,action:e})};(0,s.useEffect)(()=>{let e=!1;return async function(){try{n(!0);let t=await (0,i.Dk)();e||a(t)}catch(t){console.warn("[HomePage] Failed to load feeds:",t),e||a([])}finally{e||n(!1)}}(),()=>{e=!0}},[]);let N=e[0],v=e.slice(1),b=(0,s.useMemo)(()=>{if(!m)return v;let e=[];return v.forEach((a,t)=>{e.push(a),(t+1)%5==0&&e.push({isAd:!0,adKey:"mobile-feed-".concat(t)})}),e},[v,m]);return(0,r.jsxs)("div",{className:z().page,children:[(0,r.jsx)(E.Z,{hasSession:l}),(0,r.jsx)(R,{}),l&&g&&(0,r.jsx)(J,{user:g}),(0,r.jsx)(X,{}),(0,r.jsxs)("div",{className:z().layout,children:[(0,r.jsx)("aside",{className:z().trendingColumn,children:(0,r.jsx)(p,{items:e})}),(0,r.jsxs)("section",{className:z().feedColumn,children:[(0,r.jsx)(_,{article:N}),(0,r.jsxs)("div",{className:z().newsStream,children:[t&&(0,r.jsx)("p",{className:z().loading,children:"Loading stories…"}),!t&&!v.length&&(0,r.jsx)("p",{className:z().loading,children:"No stories available yet."}),b.map(e=>{var a;return"isAd"in e&&e.isAd?(0,r.jsx)("div",{className:z().mobileAd,children:(0,r.jsx)(C.Z,{placementId:"mobile-feed-".concat(e.adKey)})},e.adKey):(0,r.jsx)(c.Z,{title:e.title,summary:e.description,source:e.categoryName,createdAt:e.createdAt,patCount:null!==(a=e.pats)&&void 0!==a?a:0,thumbnailUrl:e.imageUrl,requiresAuth:!l,onAuthWall:f},e.id)})]})]}),(0,r.jsxs)("aside",{className:z().widgetColumn,children:[(0,r.jsx)(j,{}),(0,r.jsx)("div",{className:z().adSlot,children:(0,r.jsx)(C.Z,{placementId:"homepage-right-1"})}),(0,r.jsx)(k,{}),(0,r.jsx)("div",{className:z().adSlot,children:(0,r.jsx)(C.Z,{placementId:"homepage-right-2"})}),(0,r.jsx)(A,{}),(0,r.jsx)("div",{className:z().adSlot,children:(0,r.jsx)(C.Z,{placementId:"homepage-right-3"})}),(0,r.jsx)(y,{})]})]}),(0,r.jsx)(W.Z,{isOpen:d.open,triggerAction:d.action,onClose:()=>{h(e=>({...e,open:!1}))}}),(0,r.jsx)(S,{})]})}},4573:function(e,a,t){"use strict";t.d(a,{default:function(){return u}});var r=t(7437),s=t(2265),n=t(9376),i=t(7029),l=t(4422),c=t(5148),o=t(1224),d=t(8349),h=t(4048),_=t(7875),m=t.n(_);function u(){let e=(0,n.usePathname)(),[a,t]=(0,s.useState)(null),[_,u]=(0,s.useState)(!0),[p,g]=(0,s.useState)(null),[x,j]=(0,s.useState)(!1),[f,N]=(0,s.useState)(0),[v,y]=(0,s.useState)([]),b=(0,s.useMemo)(()=>{{let e=window.location.pathname.match(/^\/pat\/(\d+)/);if(e)return parseInt(e[1],10)}if(e){let a=e.match(/^\/pat\/(\d+)/);if(a)return parseInt(a[1],10)}return null},[e]);return((0,s.useEffect)(()=>{(async()=>{try{let t=await (0,i.r$)();if(j(t.authenticated),t.authenticated){var e,a;let t=await (0,i.getUserProfile)();N(null!==(a=null==t?void 0:null===(e=t.rank)||void 0===e?void 0:e.level)&&void 0!==a?a:0)}else N(0)}catch(e){j(!1),N(0)}})()},[]),(0,s.useEffect)(()=>{(async()=>{if(!b){u(!1),g("Invalid pat ID");return}try{u(!0);let e=(0,l.A)(b);e&&(t(e),g(null),u(!1));let a=await (0,i.ST)(b);if(!a){g("Pat not found or unavailable"),t(null);return}(0,l.t)(b,a),t(a),g(null)}catch(e){console.error("[PatPage] Failed to load article",e),g("Failed to load pat")}finally{u(!1)}})()},[b]),(0,s.useEffect)(()=>{(async()=>{try{let e=await (0,i.Dk)();b?y(e.filter(e=>e.id!==b).slice(0,5)):y(e.slice(0,5))}catch(e){console.error("[PatPage] Failed to load recommendations",e),y([])}})()},[b]),_)?(0,r.jsx)("div",{className:m().loader,children:(0,r.jsx)("p",{children:"Loading pat..."})}):p||!a?(0,r.jsxs)("div",{className:m().loader,children:[(0,r.jsx)("p",{children:p||"Pat not found"}),(0,r.jsx)("a",{href:"/",className:m().backLink,children:"← Back to Home"})]}):(0,r.jsxs)("div",{className:m().page,children:[(0,r.jsx)(o.Z,{hasSession:x}),(0,r.jsxs)("main",{className:m().grid,children:[(0,r.jsx)("section",{className:m().contentColumn,children:(0,r.jsx)(c.Z,{article:a})}),(0,r.jsxs)("aside",{className:m().sidebar,children:[(0,r.jsx)("div",{className:m().adWrapper,children:(0,r.jsx)(h.Z,{placementId:"pat-article-300x250"})}),(0,r.jsxs)("div",{className:m().recommended,children:[(0,r.jsx)("div",{className:m().recommendedHeader,children:(0,r.jsx)("span",{children:"More for you"})}),(0,r.jsx)("ul",{className:m().recommendedList,children:v.map(e=>(0,r.jsx)("li",{className:m().recommendedItem,children:(0,r.jsxs)("a",{href:"/pat/".concat(e.id),className:m().recommendedLink,children:[(0,r.jsx)("p",{className:m().recommendedTitle,children:e.title}),(0,r.jsx)("p",{className:m().recommendedMeta,children:e.categoryName})]})},e.id))})]})]})]}),(0,r.jsx)(d.Z,{})]})}},4048:function(e,a,t){"use strict";t.d(a,{Z:function(){return i}});var r=t(7437),s=t(3498),n=t.n(s);function i(e){let{placementId:a,showPlaceholder:t=!0,rankLevel:s}=e;return!t||"number"==typeof s&&s>=5?null:(0,r.jsx)("div",{className:n().adPlaceholder,children:(0,r.jsx)("div",{className:n().placeholderContent,children:(0,r.jsx)("span",{className:n().placeholderText,children:"Advertisement"})})})}},8349:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});var r=t(7437),s=t(7648),n=t(1468),i=t.n(n);let l=[{label:"Privacy",href:"/privacy"},{label:"Terms",href:"/terms"},{label:"Help",href:"/help"},{label:"About",href:"/about"}],c=[{label:"X",href:"https://x.com/patreek",aria:"Open Patreek on X"},{label:"Facebook",href:"https://facebook.com",aria:"Open Patreek on Facebook"},{label:"Instagram",href:"https://instagram.com",aria:"Open Patreek on Instagram"}];function o(){let e=new Date().getFullYear();return(0,r.jsxs)("footer",{className:i().footer,children:[(0,r.jsx)("div",{className:i().links,children:l.map(e=>(0,r.jsx)(s.default,{href:e.href,className:i().link,children:e.label},e.label))}),(0,r.jsxs)("div",{className:i().right,children:[(0,r.jsxs)("span",{className:i().copy,children:["\xa9 ",e," Patreek"]}),(0,r.jsx)("div",{className:i().socials,children:c.map(e=>(0,r.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer","aria-label":e.aria,className:i().socialButton,children:"X"===e.label?"X":e.label.charAt(0)},e.label))})]})]})}},1224:function(e,a,t){"use strict";t.d(a,{Z:function(){return d}});var r=t(7437),s=t(2265),n=t(7648),i=t(9376),l=t(6914),c=t.n(l),o=t(7029);function d(e){let{hasSession:a=!1,active:t}=e,l=(0,i.useRouter)(),d=(0,i.usePathname)(),[h,_]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1),p=(0,s.useMemo)(()=>null==t?void 0:t.toLowerCase(),[t]),g=[{label:"Coins",path:"/coins"},{label:"Community",path:"/community"},{label:"Shop",path:"https://shop.patreek.com"},{label:"Opinion",path:"/opinion"},{label:"Write",path:"/write"}];(0,s.useEffect)(()=>{(async()=>{if(a)try{if(!(await (0,o.r$)()).authenticated)return;let e=await (0,o.getUserProfile)();(null==e?void 0:e.username)&&_(e.username)}catch(e){_(null)}})()},[a]);let x=e=>!!(p&&p===e.label.toLowerCase()||d&&e.path.startsWith("/")&&d.startsWith(e.path));return(0,r.jsxs)("header",{className:c().header,children:[(0,r.jsx)("div",{className:c().brand,onClick:()=>l.push("/"),children:"Patreek"}),(0,r.jsx)("nav",{className:c().nav,children:g.map(e=>(0,r.jsx)(n.default,{href:e.path,className:"".concat(c().navLink," ").concat(x(e)?c().activeLink:""),target:e.path.startsWith("http")?"_blank":void 0,children:e.label},e.label))}),(0,r.jsxs)("div",{className:c().actions,children:[(0,r.jsx)("button",{type:"button",className:c().iconButton,"aria-label":"Search Patreek",children:"\uD83D\uDD0D"}),(0,r.jsx)("button",{type:"button",className:c().profileCircle,onClick:()=>{a&&h?l.push("/u/".concat(h)):l.push("/registration")},"aria-label":"Open profile",children:h?h[0].toUpperCase():"P"}),(0,r.jsxs)("button",{type:"button",className:c().hamburger,onClick:()=>u(e=>!e),"aria-label":"Toggle navigation",children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]})]}),m&&(0,r.jsx)("div",{className:c().mobileNav,children:g.map(e=>(0,r.jsx)(n.default,{href:e.path,className:c().mobileNavItem,onClick:()=>u(!1),children:e.label},e.label))})]})}},6140:function(e,a,t){"use strict";t.d(a,{Z:function(){return l}});var r=t(7437),s=t(2265),n=t(5561),i=t.n(n);function l(e){let{title:a,summary:t,source:n,createdAt:l,patCount:c,thumbnailUrl:o,isPattedByCurrentUser:d=!1,requiresAuth:h=!1,onAuthWall:_}=e,[m,u]=(0,s.useState)(!!d),[p,g]=(0,s.useState)(c);(0,s.useEffect)(()=>{g(c)},[c]),(0,s.useEffect)(()=>{u(!!d)},[d]);let x=(0,s.useMemo)(()=>{let e=new Date(l);return Number.isNaN(e.getTime())?l:e.toLocaleDateString(void 0,{month:"short",day:"numeric"})},[l]);return(0,r.jsxs)("article",{className:i().card,children:[(0,r.jsx)("div",{className:i().thumbnail,children:o?(0,r.jsx)("img",{src:o,alt:"",loading:"lazy"}):(0,r.jsx)("span",{className:i().fallback,children:"Patreek"})}),(0,r.jsxs)("div",{className:i().body,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:i().title,children:a}),t&&(0,r.jsx)("p",{className:i().summary,children:t})]}),(0,r.jsxs)("div",{className:i().meta,children:[n&&(0,r.jsx)("span",{className:i().source,children:n}),(0,r.jsx)("span",{className:i().date,children:x})]})]}),(0,r.jsxs)("button",{className:"".concat(i().patButton," ").concat(m?i().active:""),onClick:()=>{if(h&&_){_("pat this story");return}u(e=>{let a=!e;return g(e=>Math.max(0,e+(a?1:-1))),a})},"aria-pressed":m,type:"button",children:[(0,r.jsx)("span",{className:i().emoji,children:m?"\uD83E\uDDE1":"\uD83E\uDD0D"}),(0,r.jsx)("span",{children:null!=p?p:0})]})]})}},7648:function(e,a,t){"use strict";t.d(a,{default:function(){return s.a}});var r=t(2972),s=t.n(r)},6777:function(e){e.exports={page:"page_page__556_G",page_adSection:"page_page_adSection__YBy4L",featuredBanner:"page_featuredBanner__gVBxk",featuredTag:"page_featuredTag__QS0D4",featuredTitle:"page_featuredTitle__EG0T9",featuredCopy:"page_featuredCopy__9OpMO",featuredActions:"page_featuredActions__I6vDM",featuredButton:"page_featuredButton__QFumy",topBar:"page_topBar__ZVnu0",topLeft:"page_topLeft__N9WJX",brand:"page_brand__7TV1Q",highlight:"page_highlight__Jnelb",layout:"page_layout__p93s2",trendingColumn:"page_trendingColumn__cuOEm",feedColumn:"page_feedColumn___hpXd",newsStream:"page_newsStream__ucAC7",mobileAd:"page_mobileAd__lCMnk",widgetColumn:"page_widgetColumn__36IcY",adSlot:"page_adSlot__h3xPr",loading:"page_loading__4WMny"}},7875:function(e){e.exports={page:"page_page__JoPGj",grid:"page_grid__qknTj",contentColumn:"page_contentColumn__O0l__",sidebar:"page_sidebar__qYzLG",adWrapper:"page_adWrapper__SGhln",recommended:"page_recommended__QUTVL",recommendedHeader:"page_recommendedHeader__rmaD0",recommendedList:"page_recommendedList__ryM1s",recommendedItem:"page_recommendedItem__QpPQD",recommendedLink:"page_recommendedLink__uMfp_",recommendedTitle:"page_recommendedTitle__uYheV",recommendedMeta:"page_recommendedMeta__YWo4t",loader:"page_loader__qE3FP",backLink:"page_backLink__iy8Gp"}},3498:function(e){e.exports={adPlaceholder:"AdPlaceholder_adPlaceholder__C0bO2",placeholderContent:"AdPlaceholder_placeholderContent__8esrF",placeholderText:"AdPlaceholder_placeholderText__XO5aL"}},4:function(e){e.exports={banner:"AppDownloadBanner_banner__hJ2ed",title:"AppDownloadBanner_title__jLwdF",buttons:"AppDownloadBanner_buttons__EzSU7",storeButton:"AppDownloadBanner_storeButton___sw7W"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",links:"Footer_links__cFiYr",link:"Footer_link__TBOP7",right:"Footer_right__s6ko6",copy:"Footer_copy__KUC9W",socials:"Footer_socials__Arjjf",socialButton:"Footer_socialButton__owWdN"}},6914:function(e){e.exports={header:"MainHeader_header__v29oY",brand:"MainHeader_brand__PWSjn",nav:"MainHeader_nav__OWvbh",navLink:"MainHeader_navLink__NUd27",activeLink:"MainHeader_activeLink__YR7BN",actions:"MainHeader_actions__jUZ_j",iconButton:"MainHeader_iconButton__6RFhG",profileCircle:"MainHeader_profileCircle__654Xs",hamburger:"MainHeader_hamburger__9fVCh",mobileNav:"MainHeader_mobileNav__RVDMJ",mobileNavItem:"MainHeader_mobileNavItem__n0yAB"}},5235:function(e){e.exports={banner:"DynamicHomeBanner_banner__rHzID",adCard:"DynamicHomeBanner_adCard__nwE1J",sponsoredBadge:"DynamicHomeBanner_sponsoredBadge__lpzvd",image:"DynamicHomeBanner_image___Tz_O",fallback:"DynamicHomeBanner_fallback__bHKWG",tag:"DynamicHomeBanner_tag__TmK3q",title:"DynamicHomeBanner_title__yig2w",copy:"DynamicHomeBanner_copy__gTz02",actions:"DynamicHomeBanner_actions__cD_Fu",cta:"DynamicHomeBanner_cta___yJuW",secondary:"DynamicHomeBanner_secondary__rAcnp"}},2278:function(e){e.exports={banner:"UsernameSetupBanner_banner__hhRto",copy:"UsernameSetupBanner_copy__qtfxU",title:"UsernameSetupBanner_title__AL_1i",subtitle:"UsernameSetupBanner_subtitle__CqAUy",actions:"UsernameSetupBanner_actions__soxEf",primary:"UsernameSetupBanner_primary__543qo",secondary:"UsernameSetupBanner_secondary__PIw4m"}},5561:function(e){e.exports={card:"NewsCard_card__Bm9sO",thumbnail:"NewsCard_thumbnail__BAIOz",fallback:"NewsCard_fallback__0OCyu",body:"NewsCard_body__OdhJz",title:"NewsCard_title__WyhML",summary:"NewsCard_summary__EYmvD",meta:"NewsCard_meta__7xLcK",source:"NewsCard_source___WCHw",date:"NewsCard_date__tt3Qu",patButton:"NewsCard_patButton__NBU4h",emoji:"NewsCard_emoji__SUdPj",active:"NewsCard_active__yE_Gf"}},7436:function(e){e.exports={widget:"DailyFocusWidget_widget__hG2tQ",title:"DailyFocusWidget_title__QvQnQ",copy:"DailyFocusWidget_copy__C1LeO",progress:"DailyFocusWidget_progress__4XxHH",track:"DailyFocusWidget_track__wgSZg"}},1274:function(e){e.exports={heroCard:"HeroCard_heroCard__zu_uW",media:"HeroCard_media__ewdUg",overlay:"HeroCard_overlay__vFg_V",tag:"HeroCard_tag__ay_x2",title:"HeroCard_title__llvFx",copy:"HeroCard_copy__y1NeB",placeholder:"HeroCard_placeholder__LDCeZ",placeholderTitle:"HeroCard_placeholderTitle__F8h2I",placeholderCopy:"HeroCard_placeholderCopy__AzyHU"}},1198:function(e){e.exports={strip:"StatStrip_strip__fPQLD",item:"StatStrip_item___sWcD",label:"StatStrip_label__6AQO4",value:"StatStrip_value__ehz4l"}},8240:function(e){e.exports={sidebar:"TrendingSidebar_sidebar__Uxjsg",title:"TrendingSidebar_title__jGHhk",list:"TrendingSidebar_list__G16PV",item:"TrendingSidebar_item__tIkPv",index:"TrendingSidebar_index__v7Bd6",headline:"TrendingSidebar_headline__dLaPn",meta:"TrendingSidebar_meta__qaWvd",thumbnail:"TrendingSidebar_thumbnail__B1rLd",empty:"TrendingSidebar_empty__SP_TJ",emptyCopy:"TrendingSidebar_emptyCopy__vXwfs"}},5171:function(e){e.exports={widget:"WhoToFollowWidget_widget__Xr_Ey",title:"WhoToFollowWidget_title__itY3H",list:"WhoToFollowWidget_list__X80rG",item:"WhoToFollowWidget_item__tNEoe",name:"WhoToFollowWidget_name__1Qjaw",info:"WhoToFollowWidget_info__XKKar",handle:"WhoToFollowWidget_handle__kwFJp",button:"WhoToFollowWidget_button__wLouO"}},2783:function(e){e.exports={widget:"ForexWidget_widget__y9SJv",header:"ForexWidget_header__PlTjQ",headerLeft:"ForexWidget_headerLeft__UeMyV",headerBar:"ForexWidget_headerBar__ymkqS",headerTitle:"ForexWidget_headerTitle__urkpX",headerRight:"ForexWidget_headerRight__mVf6m",baseCurrency:"ForexWidget_baseCurrency__t4VxB",ratesList:"ForexWidget_ratesList__7rlSP",rateItem:"ForexWidget_rateItem__taUD1",rateLeft:"ForexWidget_rateLeft__IptRz",rateSymbol:"ForexWidget_rateSymbol__px4uB",rateCurrency:"ForexWidget_rateCurrency__4VSh3",rateRight:"ForexWidget_rateRight__k_oKR",rateValue:"ForexWidget_rateValue__UG1Ka",rateChange:"ForexWidget_rateChange__2R2YH",positive:"ForexWidget_positive__T0qhI",negative:"ForexWidget_negative__Q1UK4",loading:"ForexWidget_loading__sgjhC",error:"ForexWidget_error__pybT9"}},7659:function(e){e.exports={widget:"WeatherWidget_widget__GJxKO",header:"WeatherWidget_header__uH1L7",headerLeft:"WeatherWidget_headerLeft__Yttte",headerBar:"WeatherWidget_headerBar__oduWj",headerTitle:"WeatherWidget_headerTitle__gqjUE",headerRight:"WeatherWidget_headerRight__OgQ56",location:"WeatherWidget_location__IfUl7",locationIcon:"WeatherWidget_locationIcon__bsebr",forecast:"WeatherWidget_forecast__9zVYd",forecastDay:"WeatherWidget_forecastDay__FikGX",dayName:"WeatherWidget_dayName__7v5JV",weatherIcon:"WeatherWidget_weatherIcon___A6oA",temperatures:"WeatherWidget_temperatures__GqsDB",high:"WeatherWidget_high__Xl4zp",low:"WeatherWidget_low__iywDb",footer:"WeatherWidget_footer__bnO52",seeMore:"WeatherWidget_seeMore__yYLgI",accuWeather:"WeatherWidget_accuWeather__PQkUj",accuLogo:"WeatherWidget_accuLogo__y2yu5",accuText:"WeatherWidget_accuText__AHx8r",loading:"WeatherWidget_loading__iRHQO",error:"WeatherWidget_error__0tGtx"}}},function(e){e.O(0,[126,7123,9845,6990,2972,3145,7029,3454,2971,2117,1744],function(){return e(e.s=6995)}),_N_E=e.O()}]);
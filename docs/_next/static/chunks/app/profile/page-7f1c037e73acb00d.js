(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{6384:function(e,a,s){Promise.resolve().then(s.bind(s,4153))},4153:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return x}});var t=s(7437),n=s(2265),l=s(9376),r=s(7648),i=s(3145),o=s(9924),c=s.n(o),d=s(3595),m=s(8349),h=s(7029),_=s(3726),u=s.n(_);function g(e){let{currentXp:a,targetXp:s,rankName:n,dailyXp:l,dailyCap:r}=e,i=Math.max(0,Math.floor(a)),o=Math.max(1,Math.floor(s)),c=Math.max(0,Math.floor(l)),d=Math.max(1,Math.floor(r)),m=d?Math.min(100,Math.round(c/d*100)):0,h=i>=.7*o;return(0,t.jsxs)("div",{className:u().wrapper,children:[(0,t.jsxs)("div",{className:u().titleRow,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:u().sectionLabel,children:"Level Progress"}),(0,t.jsx)("p",{className:u().rankName,children:n})]}),(0,t.jsxs)("p",{className:u().levelText,children:[i.toLocaleString()," / ",o.toLocaleString()," XP"]})]}),(0,t.jsx)("div",{className:u().progressTrack,"aria-label":"Level progress",children:(0,t.jsx)("div",{className:u().fill,style:{width:"".concat(o?Math.min(100,Math.round(i/o*100)):0,"%")}})}),(0,t.jsxs)("div",{className:u().dailyRow,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:u().dailyLabel,children:"Daily Focus"}),(0,t.jsxs)("p",{className:u().dailyText,children:[c.toLocaleString()," / ",d.toLocaleString()," XP today"]})]}),(0,t.jsxs)("span",{className:u().dailyPercent,children:[m,"%"]})]}),(0,t.jsx)("div",{className:u().dailyTrack,"aria-label":"Daily focus progress",children:(0,t.jsx)("div",{className:u().dailyFill,style:{width:"".concat(m,"%")}})}),(0,t.jsxs)("div",{className:u().actionsRow,children:[(0,t.jsx)("button",{type:"button",className:"".concat(u().buyButton," ").concat(h?u().buyActive:""),disabled:!h,children:"Buy Rank"}),(0,t.jsx)("span",{className:u().buyHint,children:h?"Ready to ascend":"Need more XP to unlock next tier"})]})]})}var p=s(4438);function x(){var e,a,s,o,_,u,x,j,v,f,N,y,k,b;let L=(0,l.useRouter)(),[w,B]=(0,n.useState)(!0),[P,C]=(0,n.useState)(!1),[I,S]=(0,n.useState)(null),[A,T]=(0,n.useState)(!1),[F,X]=(0,n.useState)(!1),[D,M]=(0,n.useState)(""),[R,H]=(0,n.useState)(""),[E,V]=(0,n.useState)(!1),[G,O]=(0,n.useState)(null),[W,Z]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{try{if((await (0,h.checkSessionStatus)()).authenticated){C(!0);let e=await (0,h.getUserProfile)();S(e),M((null==e?void 0:e.name)||""),H((null==e?void 0:e.headline)||"")}else L.replace("/registration")}catch(e){console.error("Error checking session:",e),L.replace("/registration")}finally{B(!1)}})()},[L]);let Y=async()=>{try{await (0,h.w7)(),window.location.href="https://patreek.com"}catch(e){console.error("Error signing out:",e),window.location.href="https://patreek.com"}},U=async()=>{if(I){V(!0),O(null),Z(!1);try{let e={name:D.trim()||void 0,headline:R.trim()||void 0},a=await (0,h.ck)(e);S(a),X(!1),Z(!0),setTimeout(()=>Z(!1),3e3)}catch(e){O(e instanceof Error?e.message:"Failed to update profile")}finally{V(!1)}}},z=async()=>{if(I)try{let e=await fetch("/api/v1/user/rank/buy",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!e.ok)throw Error("Failed to buy rank boost");await e.json();let a=await (0,h.getUserProfile)();S(a),p.Am.success("Rank boost purchased! Check your new level.")}catch(e){p.Am.error("Purchase failed. Check your coins and try again.")}};if(w)return(0,t.jsxs)("div",{className:c().page,children:[(0,t.jsx)(d.Z,{hasSession:!0}),(0,t.jsx)("div",{className:c().loading,children:(0,t.jsx)("p",{children:"Loading your profile…"})}),(0,t.jsx)(m.Z,{})]});if(!P)return null;let J=null!==(s=null==I?void 0:null===(e=I.rank)||void 0===e?void 0:e.level)&&void 0!==s?s:1,K=null!==(o=null==I?void 0:I.xp)&&void 0!==o?o:0,q=null!==(_=null==I?void 0:I.adSlots)&&void 0!==_?_:4,Q=null!==(u=null==I?void 0:I.dailyCap)&&void 0!==u?u:200,$=null!==(k=({2:1400,3:4200,4:12e3,5:6e4,6:12e4,7:24e4,8:1/0})[J+1])&&void 0!==k?k:1/0,ee=null!==(x=null==I?void 0:null===(a=I.rank)||void 0===a?void 0:a.name)&&void 0!==x?x:"Fledgling",ea=(null==I?void 0:I.name)?I.name.split(" ").map(e=>{var a;return null===(a=e[0])||void 0===a?void 0:a.toUpperCase()}).join("").slice(0,2):"P";return(0,t.jsxs)("div",{className:c().page,children:[(0,t.jsx)(p.x7,{richColors:!0,position:"top-right"}),(0,t.jsx)(d.Z,{hasSession:!0}),(0,t.jsx)("main",{className:c().main,children:(0,t.jsxs)("div",{className:c().container,children:[(0,t.jsxs)("section",{className:c().heroCard,children:[(0,t.jsx)("div",{className:c().cover}),(0,t.jsxs)("div",{className:c().heroInner,children:[(0,t.jsx)("div",{className:c().avatar,children:(null==I?void 0:I.avatarUrl)?(0,t.jsx)(i.default,{src:I.avatarUrl,alt:I.name||"Profile",width:96,height:96,className:c().avatarImage}):(0,t.jsx)("span",{className:c().avatarInitials,children:ea})}),(0,t.jsx)("div",{className:c().heroMeta,children:F?(0,t.jsxs)("div",{className:c().editForm,children:[(0,t.jsxs)("div",{className:c().formGroup,children:[(0,t.jsx)("label",{htmlFor:"name",className:c().formLabel,children:"Name"}),(0,t.jsx)("input",{id:"name",type:"text",value:D,onChange:e=>M(e.target.value),className:c().formInput,maxLength:255,placeholder:"Your name"})]}),(0,t.jsxs)("div",{className:c().formGroup,children:[(0,t.jsxs)("label",{htmlFor:"headline",className:c().formLabel,children:["Headline",(0,t.jsxs)("span",{className:c().charCount,children:[R.length,"/150"]})]}),(0,t.jsx)("textarea",{id:"headline",value:R,onChange:e=>{e.target.value.length<=150&&H(e.target.value)},className:c().formTextarea,maxLength:150,placeholder:"What you do for a living (e.g., Software Engineer at Tech Corp)",rows:3})]}),G&&(0,t.jsx)("div",{className:c().errorMessage,children:G}),W&&(0,t.jsx)("div",{className:c().successMessage,children:"Profile updated successfully!"}),(0,t.jsxs)("div",{className:c().formActions,children:[(0,t.jsx)("button",{onClick:()=>{X(!1),M((null==I?void 0:I.name)||""),H((null==I?void 0:I.headline)||""),O(null),Z(!1)},className:c().cancelButton,disabled:E,children:"Cancel"}),(0,t.jsx)("button",{onClick:U,className:c().saveButton,disabled:E,children:E?"Saving...":"Save"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:c().nameRow,children:[(0,t.jsx)("h1",{className:c().name,children:(null==I?void 0:I.name)||"Patreek User"}),(null==I?void 0:I.username)&&(0,t.jsxs)("p",{className:c().username,children:["@",I.username]})]}),(null==I?void 0:I.headline)&&(0,t.jsx)("p",{className:c().headline,children:I.headline}),(null==I?void 0:I.email)&&(0,t.jsx)("p",{className:c().email,children:I.email}),(null==I?void 0:I.createdAt)&&(0,t.jsxs)("p",{className:c().joined,children:["Joined ",new Date(I.createdAt).toLocaleDateString()]}),(0,t.jsxs)("div",{className:c().heroActions,children:[(0,t.jsx)("button",{onClick:()=>{X(!0),M((null==I?void 0:I.name)||""),H((null==I?void 0:I.headline)||""),O(null),Z(!1)},className:c().editButton,children:"Edit Profile"}),(0,t.jsx)(r.default,{href:"/home",className:c().primaryButton,children:"View your pats"}),(0,t.jsx)(r.default,{href:"/profile/categories",className:c().secondaryButton,children:"Manage categories"})]})]})})]}),(0,t.jsxs)("div",{className:c().statsRow,children:[(0,t.jsxs)("div",{className:c().statChip,children:[(0,t.jsx)("span",{className:c().statLabel,children:"Pats"}),(0,t.jsx)("span",{className:c().statValue,children:null!==(j=null==I?void 0:I.totalPats)&&void 0!==j?j:0})]}),(0,t.jsxs)("div",{className:c().statChip,children:[(0,t.jsx)("span",{className:c().statLabel,children:"Comments"}),(0,t.jsx)("span",{className:c().statValue,children:null!==(v=null==I?void 0:I.totalComments)&&void 0!==v?v:0})]}),(0,t.jsxs)("div",{className:c().statChip,children:[(0,t.jsx)("span",{className:c().statLabel,children:"Shares"}),(0,t.jsx)("span",{className:c().statValue,children:null!==(f=null==I?void 0:I.totalShares)&&void 0!==f?f:0})]}),(0,t.jsxs)("div",{className:c().statChip,children:[(0,t.jsx)("span",{className:c().statLabel,children:"Pat Coins"}),(0,t.jsx)("span",{className:c().statValue,children:null!==(N=null==I?void 0:I.coins)&&void 0!==N?N:0})]})]})]}),(0,t.jsxs)("div",{className:c().progressSection,children:[(0,t.jsx)(g,{currentXp:K,targetXp:$,rankName:ee,dailyXp:null!==(y=null==I?void 0:I.dailyXp)&&void 0!==y?y:0,dailyCap:Q}),(0,t.jsxs)("div",{className:c().adLoadStatus,children:[(0,t.jsx)("span",{children:J>=5?"Ad Load: None (Premium Status Active) ✨":"Ad Load: Heavy/Medium (Reach Fledgling to remove)"}),q>0&&(0,t.jsxs)("span",{className:c().adSlotInfo,children:[q," ad slot",1===q?"":"s"," active"]})]}),(0,t.jsxs)("button",{onClick:z,className:c().rankBoostButton,disabled:!(e=>{var a,s;let t=null!==(s=null==e?void 0:null===(a=e.rank)||void 0===a?void 0:a.level)&&void 0!==s?s:0;return!!e&&!(t>=7)})(I),children:["Buy Rank Boost (",null!==(b=({1:1e3,2:3e3,3:1e4,4:5e4,5:1e5,6:2e5})[J])&&void 0!==b?b:0," Pat Coins)"]})]}),(0,t.jsxs)("div",{className:c().grid,children:[(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("div",{className:c().cardHeader,children:(0,t.jsx)("h2",{className:c().sectionTitle,children:"Account"})}),(0,t.jsxs)("div",{className:c().settingList,children:[(0,t.jsxs)(r.default,{href:"/profile/settings",className:c().settingItem,children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDC64"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Profile settings"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]}),(0,t.jsxs)(r.default,{href:"/profile/categories",className:c().settingItem,children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDCF0"}),(0,t.jsx)("span",{className:c().settingLabel,children:"News categories"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]})]})]}),(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("div",{className:c().cardHeader,children:(0,t.jsx)("h2",{className:c().sectionTitle,children:"Preferences"})}),(0,t.jsx)("div",{className:c().settingList,children:(0,t.jsxs)("div",{className:c().settingItem,children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83C\uDF19"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Dark mode"})]}),(0,t.jsxs)("label",{className:c().toggle,children:[(0,t.jsx)("input",{type:"checkbox",checked:A,onChange:()=>{T(!A)}}),(0,t.jsx)("span",{className:c().toggleSlider})]})]})})]}),(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("div",{className:c().cardHeader,children:(0,t.jsx)("h2",{className:c().sectionTitle,children:"Support"})}),(0,t.jsxs)("div",{className:c().settingList,children:[(0,t.jsxs)(r.default,{href:"/terms",className:c().settingItem,children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDCC4"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Terms & Conditions"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]}),(0,t.jsxs)(r.default,{href:"/contact",className:c().settingItem,children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDCAC"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Help & Support"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]})]})]}),(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("div",{className:c().cardHeader,children:(0,t.jsx)("h2",{className:c().sectionTitle,children:"Account actions"})}),(0,t.jsxs)("div",{className:c().settingList,children:[(0,t.jsxs)("button",{onClick:Y,className:"".concat(c().settingItem," ").concat(c().signOutButton),children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDEAA"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Sign out"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]}),(0,t.jsxs)("button",{className:"".concat(c().settingItem," ").concat(c().deleteButton),onClick:()=>{confirm("Are you sure you want to delete your account? This action cannot be undone.")&&console.log("Delete account")},children:[(0,t.jsxs)("div",{className:c().settingLeft,children:[(0,t.jsx)("span",{className:c().settingIcon,children:"\uD83D\uDDD1️"}),(0,t.jsx)("span",{className:c().settingLabel,children:"Delete account"})]}),(0,t.jsx)("span",{className:c().settingArrow,children:"→"})]})]})]})]})]})}),(0,t.jsx)(m.Z,{})]})}},8349:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});var t=s(7437),n=s(7648),l=s(3145),r=s(1468),i=s.n(r);function o(){return(0,t.jsx)("footer",{className:i().footer,children:(0,t.jsxs)("div",{className:i().container,children:[(0,t.jsxs)("div",{className:i().footerGrid,children:[(0,t.jsx)(n.default,{href:"/",className:i().logoLink,children:(0,t.jsx)(l.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:111,height:60,className:i().footerLogo})}),(0,t.jsxs)("div",{className:i().footerColumn,children:[(0,t.jsx)("div",{className:i().columnTitle,children:"Product"}),(0,t.jsx)(n.default,{href:"/",className:i().footerLink,children:"Home"}),(0,t.jsx)("a",{href:"https://patreek.com/features",className:i().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Features"}),(0,t.jsx)("a",{href:"https://patreek.com/pricing",className:i().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Pricing"})]}),(0,t.jsxs)("div",{className:i().footerColumn,children:[(0,t.jsx)("div",{className:i().columnTitle,children:"Company"}),(0,t.jsx)("a",{href:"https://patreek.com/about",className:i().footerLink,target:"_blank",rel:"noopener noreferrer",children:"About"}),(0,t.jsx)("a",{href:"https://patreek.com/contact",className:i().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Contact"}),(0,t.jsx)(n.default,{href:"/privacy",className:i().footerLink,children:"Privacy Policy"}),(0,t.jsx)(n.default,{href:"/terms",className:i().footerLink,children:"Terms & Conditions"})]}),(0,t.jsxs)("div",{className:i().footerColumn,children:[(0,t.jsx)("div",{className:i().columnTitle,children:"Social"}),(0,t.jsx)("a",{href:"https://x.com/",target:"_blank",rel:"noopener noreferrer",className:i().footerLink,children:"X (Twitter)"}),(0,t.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",className:i().footerLink,children:"Instagram"}),(0,t.jsx)("a",{href:"https://www.linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:i().footerLink,children:"LinkedIn"})]})]}),(0,t.jsx)("div",{className:i().divider}),(0,t.jsxs)("div",{className:i().footerBottom,children:[(0,t.jsxs)("div",{className:i().copyright,children:["\xa9 ",new Date().getFullYear()," Patreek. All rights reserved."]}),(0,t.jsx)("div",{className:i().companyInfo,children:"Patreek App is owned by Sentigraph Inc."})]})]})})}},9924:function(e){e.exports={page:"page_page__7nxjA",loading:"page_loading__fw5k2",main:"page_main__JPdsv",container:"page_container__n877s",heroCard:"page_heroCard__RPslb",cover:"page_cover__ARynL",heroInner:"page_heroInner__hvszS",avatar:"page_avatar__MIa8k",avatarImage:"page_avatarImage__BivQR",avatarInitials:"page_avatarInitials__DVXVP",heroMeta:"page_heroMeta__ToP1s",nameRow:"page_nameRow__rj2tl",name:"page_name__G9nOM",username:"page_username__lePzw",headline:"page_headline___9JFt",email:"page_email__igijm",joined:"page_joined__Pv7So",heroActions:"page_heroActions__X6Ws4",primaryButton:"page_primaryButton__OwI7N",secondaryButton:"page_secondaryButton__RuV_b",editButton:"page_editButton__EOXh1",statsRow:"page_statsRow__DL2S6",progressSection:"page_progressSection__MOTXF",adLoadStatus:"page_adLoadStatus__U6xou",adSlotInfo:"page_adSlotInfo__IxIJ1",statChip:"page_statChip__iMIkB",statLabel:"page_statLabel__vZXB_",statValue:"page_statValue__qB9Oc",grid:"page_grid__G25_g",card:"page_card__531ro",cardHeader:"page_cardHeader__HiqAZ",sectionTitle:"page_sectionTitle__W1erW",settingList:"page_settingList__Nrst2",settingItem:"page_settingItem__eH8bF",settingLeft:"page_settingLeft__MBx7c",settingIcon:"page_settingIcon__X1_TN",settingLabel:"page_settingLabel__xEYla",settingArrow:"page_settingArrow__vFIk_",toggle:"page_toggle__ROP25",toggleSlider:"page_toggleSlider__owyl2",signOutButton:"page_signOutButton__LUPPl",deleteButton:"page_deleteButton__zngTf",editForm:"page_editForm__4YCiq",formGroup:"page_formGroup__Axb6m",formLabel:"page_formLabel__ZpjI9",charCount:"page_charCount__IcneL",formInput:"page_formInput__KY_Jk",formTextarea:"page_formTextarea__pI19_",formActions:"page_formActions__CtuBs",cancelButton:"page_cancelButton__jFbMB",saveButton:"page_saveButton__REKG6",errorMessage:"page_errorMessage__fyHF8",successMessage:"page_successMessage__WGMiA"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",container:"Footer_container__KpDnW",footerGrid:"Footer_footerGrid__K31Dz",footerColumn:"Footer_footerColumn__kGECR",columnTitle:"Footer_columnTitle__WcnMX",footerLink:"Footer_footerLink__xz_wT",logoLink:"Footer_logoLink__Xoc6g",footerLogo:"Footer_footerLogo__4BA6d",divider:"Footer_divider__YAbaq",footerBottom:"Footer_footerBottom__YIYBj",copyright:"Footer_copyright__j4atB",companyInfo:"Footer_companyInfo__xaSgf",dark:"Footer_dark__otfV8"}},3726:function(e){e.exports={wrapper:"XpProgressBar_wrapper__jnHlN",titleRow:"XpProgressBar_titleRow__3rBek",sectionLabel:"XpProgressBar_sectionLabel__2oksW",rankName:"XpProgressBar_rankName__p3B_e",levelText:"XpProgressBar_levelText__mlonf",progressTrack:"XpProgressBar_progressTrack__VYhV9",fill:"XpProgressBar_fill__zW9sj",dailyRow:"XpProgressBar_dailyRow__jjxBB",dailyLabel:"XpProgressBar_dailyLabel__XnXnn",dailyText:"XpProgressBar_dailyText__VHQ3o",dailyPercent:"XpProgressBar_dailyPercent__hQ9VD",dailyTrack:"XpProgressBar_dailyTrack__ZPhGB",dailyFill:"XpProgressBar_dailyFill__9wuSA",actionsRow:"XpProgressBar_actionsRow__dmXZS",buyButton:"XpProgressBar_buyButton__fmKjW",buyActive:"XpProgressBar_buyActive__fIwHI",buyHint:"XpProgressBar_buyHint__bIxBO"}}},function(e){e.O(0,[5832,2956,2972,5726,466,7029,3595,2971,2117,1744],function(){return e(e.s=6384)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2130],{2705:function(e,t,n){Promise.resolve().then(n.bind(n,4038))},4038:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var a=n(7437),o=n(2265),r=n(9376),c=n(7029),i=n(4422),l=n(5148);function s(){let e=(0,r.usePathname)(),[t,n]=(0,o.useState)(null),[s,u]=(0,o.useState)(!0),[d,f]=(0,o.useState)(null);return((0,o.useEffect)(()=>{(async function(){let t=null;{let e=window.location.pathname,n=e.match(/\/article\/(\d+)/);if(n&&(t=parseInt(n[1],10),console.log("[ArticlePage] Extracted article ID from window.location.pathname: ".concat(t," (path: ").concat(e,")"))),!t){let e=window.location.href.match(/\/article\/(\d+)/);e&&(t=parseInt(e[1],10),console.log("[ArticlePage] Extracted article ID from window.location.href: ".concat(t)))}}if(!t&&e){let n=e.match(/\/article\/(\d+)/);n&&(t=parseInt(n[1],10),console.log("[ArticlePage] Extracted article ID from pathname: ".concat(t)))}if(!t||isNaN(t)||t<=0){console.error("[ArticlePage] Invalid article ID:",{articleId:t,pathname:e,windowPathname:window.location.pathname,windowHref:window.location.href,userAgent:window.navigator.userAgent}),f("Invalid article ID"),u(!1);return}try{u(!0),console.log("[ArticlePage] Loading article ".concat(t,"..."));let e=(0,i.A)(t);if(e){console.log("[ArticlePage] Using cached article ".concat(t)),n(e),f(null),u(!1);return}console.log("[ArticlePage] Fetching article ".concat(t," from API"));let a=await (0,c.ST)(t);if(!a){let e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);console.log("[ArticlePage] Article ".concat(t," not found or not public (returned null). Safari: ").concat(e)),e&&console.warn("[ArticlePage] Safari detected - this might be a CORS or fetch issue. Check network tab."),f("Article not found or not available"),setTimeout(()=>{window.location.href="https://patreek.com/"},2e3);return}(0,i.t)(t,a),n(a),f(null),console.log("[ArticlePage] Successfully loaded article ".concat(t,": ").concat(a.title))}catch(e){console.error("[ArticlePage] Failed to load article:",e),f("Failed to load article. Please try again later.")}finally{u(!1)}})()},[e]),s)?(0,a.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333"},children:(0,a.jsx)("p",{children:"Loading article..."})}):d||!t?(0,a.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333",padding:"20px"},children:[(0,a.jsx)("p",{children:d||"Article not found"}),(0,a.jsx)("a",{href:"/",style:{marginTop:"16px",color:"#667eea",textDecoration:"underline"},children:"‚Üê Back to Home"})]}):(0,a.jsx)(l.Z,{article:t})}},9376:function(e,t,n){"use strict";var a=n(5475);n.o(a,"useParams")&&n.d(t,{useParams:function(){return a.useParams}}),n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[2210,6990,2972,5726,7029,9216,2971,2117,1744],function(){return e(e.s=2705)}),_N_E=e.O()}]);
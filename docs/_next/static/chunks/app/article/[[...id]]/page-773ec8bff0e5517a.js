(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{2705:function(e,t,n){Promise.resolve().then(n.bind(n,4038))},4038:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var a=n(7437),o=n(2265),c=n(9376),l=n(9116),i=n(4422),r=n(5148);function s(){let e=(0,c.usePathname)(),[t,n]=(0,o.useState)(null),[s,d]=(0,o.useState)(!0),[f,u]=(0,o.useState)(null);return((0,o.useEffect)(()=>{(async function(){let t=null;{let e=window.location.pathname,n=e.match(/\/article\/(\d+)/);if(n&&(t=parseInt(n[1],10),console.log("[ArticlePage] Extracted article ID from window.location.pathname: ".concat(t," (path: ").concat(e,")"))),!t){let e=window.location.href.match(/\/article\/(\d+)/);e&&(t=parseInt(e[1],10),console.log("[ArticlePage] Extracted article ID from window.location.href: ".concat(t)))}}if(!t&&e){let n=e.match(/\/article\/(\d+)/);n&&(t=parseInt(n[1],10),console.log("[ArticlePage] Extracted article ID from pathname: ".concat(t)))}if(!t||isNaN(t)||t<=0){console.error("[ArticlePage] Invalid article ID:",{articleId:t,pathname:e,windowPathname:window.location.pathname,windowHref:window.location.href,userAgent:window.navigator.userAgent}),u("Invalid article ID"),d(!1);return}try{d(!0),console.log("[ArticlePage] Loading article ".concat(t,"..."));let e=(0,i.A)(t);if(e){console.log("[ArticlePage] Using cached article ".concat(t)),n(e),u(null),d(!1);return}console.log("[ArticlePage] Fetching article ".concat(t," from API"));let a=await (0,l.ST)(t);if(!a){let e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);console.log("[ArticlePage] Article ".concat(t," not found or not public (returned null). Safari: ").concat(e)),e&&console.warn("[ArticlePage] Safari detected - this might be a CORS or fetch issue. Check network tab."),u("Article not found or not available"),setTimeout(()=>{window.location.href="https://patreek.com/"},2e3);return}(0,i.t)(t,a),n(a),u(null),console.log("[ArticlePage] Successfully loaded article ".concat(t,": ").concat(a.title))}catch(e){console.error("[ArticlePage] Failed to load article:",e),u("Failed to load article. Please try again later.")}finally{d(!1)}})()},[e]),s)?(0,a.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333"},children:(0,a.jsx)("p",{children:"Loading article..."})}):f||!t?(0,a.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333",padding:"20px"},children:[(0,a.jsx)("p",{children:f||"Article not found"}),(0,a.jsx)("a",{href:"/",style:{marginTop:"16px",color:"#667eea",textDecoration:"underline"},children:"‚Üê Back to Home"})]}):(0,a.jsx)(r.Z,{article:t})}}},function(e){e.O(0,[640,990,972,726,116,662,971,117,744],function(){return e(e.s=2705)}),_N_E=e.O()}]);
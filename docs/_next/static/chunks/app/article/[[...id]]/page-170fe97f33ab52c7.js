(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2130],{2705:function(e,t,n){Promise.resolve().then(n.bind(n,4038))},4038:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var o=n(7437),a=n(2265),c=n(9376),l=n(7029),i=n(4422),r=n(5148);function s(){let e=(0,c.usePathname)(),[t,n]=(0,a.useState)(null),[s,d]=(0,a.useState)(!0),[u,f]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async function(){let t=null;{let e=window.location.pathname,n=e.match(/\/article\/(\d+)/);if(n&&(t=parseInt(n[1],10),console.log("[ArticlePage] Extracted article ID from window.location.pathname: ".concat(t," (path: ").concat(e,")"))),!t){let e=window.location.href.match(/\/article\/(\d+)/);e&&(t=parseInt(e[1],10),console.log("[ArticlePage] Extracted article ID from window.location.href: ".concat(t)))}}if(!t&&e){let n=e.match(/\/article\/(\d+)/);n&&(t=parseInt(n[1],10),console.log("[ArticlePage] Extracted article ID from pathname: ".concat(t)))}if(!t||isNaN(t)||t<=0){console.error("[ArticlePage] Invalid article ID:",{articleId:t,pathname:e,windowPathname:window.location.pathname,windowHref:window.location.href,userAgent:window.navigator.userAgent}),f("Invalid article ID"),d(!1);return}try{d(!0),console.log("[ArticlePage] Loading article ".concat(t,"..."));let e=(0,i.A)(t);if(e){console.log("[ArticlePage] Using cached article ".concat(t)),n(e),f(null),d(!1);return}console.log("[ArticlePage] Fetching article ".concat(t," from API"));let o=await (0,l.ST)(t);if(!o){let e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);console.log("[ArticlePage] Article ".concat(t," not found or not public (returned null). Safari: ").concat(e)),e&&console.warn("[ArticlePage] Safari detected - this might be a CORS or fetch issue. Check network tab."),f("Article not found or not available"),setTimeout(()=>{window.location.href="https://patreek.com/"},2e3);return}(0,i.t)(t,o),n(o),f(null),console.log("[ArticlePage] Successfully loaded article ".concat(t,": ").concat(o.title))}catch(e){console.error("[ArticlePage] Failed to load article:",e),f("Failed to load article. Please try again later.")}finally{d(!1)}})()},[e]),s)?(0,o.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333"},children:(0,o.jsx)("p",{children:"Loading article..."})}):u||!t?(0,o.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333",padding:"20px"},children:[(0,o.jsx)("p",{children:u||"Article not found"}),(0,o.jsx)("a",{href:"/",style:{marginTop:"16px",color:"#667eea",textDecoration:"underline"},children:"‚Üê Back to Home"})]}):(0,o.jsx)(r.Z,{article:t})}},5523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return o}});let o=n(7043)._(n(2265)).default.createContext(null)}},function(e){e.O(0,[4937,6990,3145,466,606,7029,9216,2971,2117,1744],function(){return e(e.s=2705)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2130],{2705:function(e,t,n){Promise.resolve().then(n.bind(n,4038))},4038:function(e,t,n){"use strict";n.d(t,{default:function(){return u}});var r=n(7437),o=n(2265),i=n(9376),c=n(7029),a=n(4422),l=n(5148);function u(){let e=(0,i.usePathname)(),[t,n]=(0,o.useState)(null),[u,s]=(0,o.useState)(!0),[f,d]=(0,o.useState)(null);return((0,o.useEffect)(()=>{(async function(){let t=null;{let e=window.location.pathname,n=e.match(/\/article\/(\d+)/);if(n&&(t=parseInt(n[1],10),console.log("[ArticlePage] Extracted article ID from window.location.pathname: ".concat(t," (path: ").concat(e,")"))),!t){let e=window.location.href.match(/\/article\/(\d+)/);e&&(t=parseInt(e[1],10),console.log("[ArticlePage] Extracted article ID from window.location.href: ".concat(t)))}}if(!t&&e){let n=e.match(/\/article\/(\d+)/);n&&(t=parseInt(n[1],10),console.log("[ArticlePage] Extracted article ID from pathname: ".concat(t)))}if(!t||isNaN(t)||t<=0){console.error("[ArticlePage] Invalid article ID:",{articleId:t,pathname:e,windowPathname:window.location.pathname,windowHref:window.location.href,userAgent:window.navigator.userAgent}),d("Invalid article ID"),s(!1);return}try{s(!0),console.log("[ArticlePage] Loading article ".concat(t,"..."));let e=(0,a.A)(t);if(e){console.log("[ArticlePage] Using cached article ".concat(t)),n(e),d(null),s(!1);return}console.log("[ArticlePage] Fetching article ".concat(t," from API"));let r=await (0,c.ST)(t);if(!r){let e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);console.log("[ArticlePage] Article ".concat(t," not found or not public (returned null). Safari: ").concat(e)),e&&console.warn("[ArticlePage] Safari detected - this might be a CORS or fetch issue. Check network tab."),d("Article not found or not available"),setTimeout(()=>{window.location.href="https://patreek.com/"},2e3);return}(0,a.t)(t,r),n(r),d(null),console.log("[ArticlePage] Successfully loaded article ".concat(t,": ").concat(r.title))}catch(e){console.error("[ArticlePage] Failed to load article:",e),d("Failed to load article. Please try again later.")}finally{s(!1)}})()},[e]),u)?(0,r.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333"},children:(0,r.jsx)("p",{children:"Loading article..."})}):f||!t?(0,r.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333",padding:"20px"},children:[(0,r.jsx)("p",{children:f||"Article not found"}),(0,r.jsx)("a",{href:"/",style:{marginTop:"16px",color:"#667eea",textDecoration:"underline"},children:"‚Üê Back to Home"})]}):(0,r.jsx)(l.Z,{article:t})}},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},257:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(4227)},4227:function(e){!function(){var t={229:function(e){var t,n,r,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function c(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:c}catch(e){n=c}}();var l=[],u=!1,s=-1;function f(){u&&r&&(u=!1,r.length?l=r.concat(l):s=-1,l.length&&d())}function d(){if(!u){var e=a(f);u=!0;for(var t=l.length;t;){for(r=l,l=[];++s<t;)r&&r[s].run();s=-1,t=l.length}r=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===c||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},c=!0;try{t[e](i,i.exports,r),c=!1}finally{c&&delete n[e]}return i.exports}r.ab="//";var o=r(229);e.exports=o}()},5523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let r=n(7043)._(n(2265)).default.createContext(null)}},function(e){e.O(0,[126,6990,3145,7029,9216,2971,2117,1744],function(){return e(e.s=2705)}),_N_E=e.O()}]);
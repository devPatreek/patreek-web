(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4616],{8557:function(e,a,r){Promise.resolve().then(r.bind(r,7223))},7223:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return m}});var t=r(7437),s=r(2265),n=r(8706),o=r.n(n),c=r(8349),i=r(3595),l=r(7029);let d=[{key:"shares",label:"Top Sharers",accent:"var(--accent-blue)",helper:"Most article shares"},{key:"comments",label:"Top Commenters",accent:"var(--accent-orange)",helper:"Most comments"},{key:"pats",label:"Top Patters",accent:"var(--accent-teal)",helper:"Most pats given"},{key:"coins",label:"Top Coin Holders",accent:"var(--accent-gold, #f2c94c)",helper:"Largest Pat Coin balances"}];function m(){let[e,a]=(0,s.useState)(!1),[r,n]=(0,s.useState)({shares:[],comments:[],pats:[],coins:[]}),[m,u]=(0,s.useState)(!0),[p,_]=(0,s.useState)([]),[f,g]=(0,s.useState)(""),[x,j]=(0,s.useState)(!1),[v,N]=(0,s.useState)(null),[b,y]=(0,s.useState)(0);(0,s.useEffect)(()=>{if(b<=0)return;let e=setInterval(()=>{y(e=>e>0?e-1:0)},1e3);return()=>clearInterval(e)},[b]),(0,s.useEffect)(()=>{(async()=>{try{let e=await (0,l.checkSessionStatus)();a(e.authenticated)}catch(e){a(!1)}try{u(!0);let e=await Promise.all(d.map(e=>(0,l.U$)(e.key,10))),a=d.reduce((a,r,t)=>{var s;return a[r.key]=null!==(s=e[t])&&void 0!==s?s:[],a},{});n(a)}finally{u(!1)}try{let e=await (0,l.Oh)("global");_(e)}catch(e){}})()},[]);let k=async()=>{let e=f.trim();if(!e)return;let a=function(e){var a;if(!e.startsWith("/"))return;let r=e.trim().split(/\s+/),t=null===(a=r[0])||void 0===a?void 0:a.toLowerCase(),s=r.slice(1);if("/tip"===t&&s.length>=2)return{name:"tip",args:s}}(e);j(!0),N(null);let r={id:"local-".concat(Date.now()),username:"you",displayName:"You",text:e,createdAt:new Date().toISOString()};_(e=>[...e,r]),g(""),y(30);let t=await (0,l.Zh)("global",e,a);j(!1),t||N("Could not send message. Please try again.")},w=(0,s.useMemo)(()=>p.slice(-50),[p]);return(0,t.jsxs)("div",{className:o().page,children:[(0,t.jsx)(i.Z,{active:"community",hasSession:e}),(0,t.jsxs)("main",{className:o().main,children:[(0,t.jsxs)("section",{className:o().hero,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:o().eyebrow,children:"Community"}),(0,t.jsx)("h1",{className:o().title,children:"Patreek Pulse"}),(0,t.jsx)("p",{className:o().subtitle,children:"See who’s leading the conversation and connect in the live lounge. Leaderboards are public; chat is for signed-in members on desktop."})]}),(0,t.jsxs)("div",{className:o().heroBadge,children:[(0,t.jsx)("span",{className:o().dot}),"Live pulse"]})]}),(0,t.jsxs)("section",{className:o().leaderboards,children:[(0,t.jsxs)("div",{className:o().sectionHeader,children:[(0,t.jsx)("h2",{children:"Leaderboards"}),(0,t.jsx)("p",{children:"Updated frequently — totals reflect the top 10 contributors."})]}),(0,t.jsx)("div",{className:o().boardGrid,children:d.map(e=>(0,t.jsx)(h,{label:e.label,helper:e.helper,accent:e.accent,loading:m,entries:r[e.key]},e.key))})]}),(0,t.jsxs)("section",{className:o().chatSection,children:[(0,t.jsxs)("div",{className:o().sectionHeader,children:[(0,t.jsx)("h2",{children:"Community Lounge"}),(0,t.jsx)("p",{children:"Desktop-only real-time chat. Mobile users can view leaderboards."})]}),(0,t.jsxs)("div",{className:o().chatWrapper,children:[(0,t.jsxs)("div",{className:o().chatPanel,children:[(0,t.jsx)("div",{className:o().chatMessages,children:0===w.length?(0,t.jsx)("p",{className:o().muted,children:"No messages yet. Say hello!"}):w.map(e=>(0,t.jsxs)("article",{className:o().message,children:[(0,t.jsxs)("div",{className:o().messageMeta,children:[(0,t.jsx)("span",{className:o().messageUser,children:e.displayName||e.username}),(0,t.jsx)("span",{className:o().messageTime,children:function(e){let a=new Date(e),r=Math.max(1,Math.round((new Date().getTime()-a.getTime())/6e4));if(r<60)return"".concat(r,"m ago");let t=Math.round(r/60);return t<24?"".concat(t,"h ago"):"".concat(Math.round(t/24),"d ago")}(e.createdAt)})]}),(0,t.jsx)("p",{className:o().messageText,children:e.text})]},e.id))}),(0,t.jsxs)("div",{className:o().chatInputRow,children:[(0,t.jsx)("input",{className:o().chatInput,placeholder:e?"Share something with the community...":"Sign in to chat",value:f,onChange:e=>g(e.target.value),disabled:!e||x}),(0,t.jsx)("button",{className:o().sendButton,onClick:k,disabled:!e||x||!f.trim()||b>0,children:x?"Sending…":b>0?"Wait ".concat(b,"s"):"Send"})]}),v&&(0,t.jsx)("p",{className:o().error,children:v}),!e&&(0,t.jsx)("p",{className:o().muted,children:"Chat is available for signed-in users on desktop."}),b>0&&(0,t.jsxs)("p",{className:o().cooldown,children:["You can send again in ",b,"s."]})]}),(0,t.jsx)("div",{className:o().chatEmptyNote,children:(0,t.jsxs)("div",{className:o().chatCard,children:[(0,t.jsx)("h3",{children:"Desktop lounge"}),(0,t.jsx)("p",{children:"Open Patreek.com on desktop for the full chat experience. Leaderboards remain available everywhere."}),(0,t.jsxs)("div",{className:o().commands,children:[(0,t.jsx)("p",{className:o().commandsTitle,children:"Commands"}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[(0,t.jsxs)("code",{children:["/tip ","{username} {amount}"]})," — send Pat Coins to a user. Min 0.05 Pat."]}),(0,t.jsxs)("li",{children:["Example: ",(0,t.jsx)("code",{children:"/tip alex 1.5"})]})]})]})]})})]})]})]}),(0,t.jsx)(c.Z,{})]})}function h(e){let{label:a,helper:r,accent:s,entries:n,loading:c}=e;return(0,t.jsxs)("div",{className:o().boardCard,style:{borderTopColor:s},children:[(0,t.jsx)("header",{className:o().boardHeader,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:o().boardEyebrow,children:a}),(0,t.jsx)("p",{className:o().boardHelper,children:r})]})}),c?(0,t.jsx)("p",{className:o().muted,children:"Loading…"}):(0,t.jsxs)("ul",{className:o().boardList,children:[n.map(e=>(0,t.jsxs)("li",{className:o().boardItem,children:[(0,t.jsx)("div",{className:o().rank,children:e.rank}),(0,t.jsxs)("div",{className:o().userBlock,children:[(0,t.jsx)("div",{className:o().avatar,children:(e.displayName||e.username||"?").slice(0,1)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:o().name,children:e.displayName||e.username}),(0,t.jsxs)("p",{className:o().handle,children:["@",e.username]})]})]}),(0,t.jsx)("div",{className:o().score,children:e.total.toLocaleString()})]},"".concat(e.username,"-").concat(e.rank))),0===n.length&&(0,t.jsx)("li",{className:o().muted,children:"No data yet."})]})]})}},8349:function(e,a,r){"use strict";r.d(a,{Z:function(){return i}});var t=r(7437),s=r(7648),n=r(3145),o=r(1468),c=r.n(o);function i(){return(0,t.jsx)("footer",{className:c().footer,children:(0,t.jsxs)("div",{className:c().container,children:[(0,t.jsxs)("div",{className:c().footerGrid,children:[(0,t.jsx)(s.default,{href:"/",className:c().logoLink,children:(0,t.jsx)(n.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:111,height:60,className:c().footerLogo})}),(0,t.jsxs)("div",{className:c().footerColumn,children:[(0,t.jsx)("div",{className:c().columnTitle,children:"Product"}),(0,t.jsx)(s.default,{href:"/",className:c().footerLink,children:"Home"}),(0,t.jsx)("a",{href:"https://patreek.com/features",className:c().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Features"}),(0,t.jsx)("a",{href:"https://patreek.com/pricing",className:c().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Pricing"})]}),(0,t.jsxs)("div",{className:c().footerColumn,children:[(0,t.jsx)("div",{className:c().columnTitle,children:"Company"}),(0,t.jsx)("a",{href:"https://patreek.com/about",className:c().footerLink,target:"_blank",rel:"noopener noreferrer",children:"About"}),(0,t.jsx)("a",{href:"https://patreek.com/contact",className:c().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Contact"}),(0,t.jsx)(s.default,{href:"/privacy",className:c().footerLink,children:"Privacy Policy"}),(0,t.jsx)(s.default,{href:"/terms",className:c().footerLink,children:"Terms & Conditions"})]}),(0,t.jsxs)("div",{className:c().footerColumn,children:[(0,t.jsx)("div",{className:c().columnTitle,children:"Social"}),(0,t.jsx)("a",{href:"https://x.com/",target:"_blank",rel:"noopener noreferrer",className:c().footerLink,children:"X (Twitter)"}),(0,t.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",className:c().footerLink,children:"Instagram"}),(0,t.jsx)("a",{href:"https://www.linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:c().footerLink,children:"LinkedIn"})]})]}),(0,t.jsx)("div",{className:c().divider}),(0,t.jsxs)("div",{className:c().footerBottom,children:[(0,t.jsxs)("div",{className:c().copyright,children:["\xa9 ",new Date().getFullYear()," Patreek. All rights reserved."]}),(0,t.jsx)("div",{className:c().companyInfo,children:"Patreek App is owned by Sentigraph Inc."})]})]})})}},9376:function(e,a,r){"use strict";var t=r(5475);r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(a,{useSearchParams:function(){return t.useSearchParams}})},257:function(e,a,r){"use strict";var t,s;e.exports=(null==(t=r.g.process)?void 0:t.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(4227)},4227:function(e){!function(){var a={229:function(e){var a,r,t,s=e.exports={};function n(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function c(e){if(a===setTimeout)return setTimeout(e,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(r){try{return a.call(null,e,0)}catch(r){return a.call(this,e,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:n}catch(e){a=n}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var i=[],l=!1,d=-1;function m(){l&&t&&(l=!1,t.length?i=t.concat(i):d=-1,i.length&&h())}function h(){if(!l){var e=c(m);l=!0;for(var a=i.length;a;){for(t=i,i=[];++d<a;)t&&t[d].run();d=-1,a=i.length}t=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(a){try{return r.call(null,e)}catch(a){return r.call(this,e)}}}(e)}}function u(e,a){this.fun=e,this.array=a}function p(){}s.nextTick=function(e){var a=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)a[r-1]=arguments[r];i.push(new u(e,a)),1!==i.length||l||c(h)},u.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function t(e){var s=r[e];if(void 0!==s)return s.exports;var n=r[e]={exports:{}},o=!0;try{a[e](n,n.exports,t),o=!1}finally{o&&delete r[e]}return n.exports}t.ab="//";var s=t(229);e.exports=s}()},8706:function(e){e.exports={page:"page_page__Li5F9",main:"page_main__xiEsg",hero:"page_hero__5F3WV",eyebrow:"page_eyebrow___3Y_w",title:"page_title__R1RyO",subtitle:"page_subtitle__Lo1Em",heroBadge:"page_heroBadge__xKfr4",dot:"page_dot__bIPHb",sectionHeader:"page_sectionHeader__8rrrX",leaderboards:"page_leaderboards__AfZsI",boardGrid:"page_boardGrid__rT06s",boardCard:"page_boardCard__Inii8",boardHeader:"page_boardHeader__AdQEH",boardEyebrow:"page_boardEyebrow__7GFqG",boardHelper:"page_boardHelper__sHq4u",boardList:"page_boardList__wY6Ar",boardItem:"page_boardItem__fNjyC",rank:"page_rank__PE9NC",userBlock:"page_userBlock__MNeZH",avatar:"page_avatar__HweJI",name:"page_name__YRzd_",handle:"page_handle__LpZXe",score:"page_score__QEmaz",chatSection:"page_chatSection__rrKDo",chatWrapper:"page_chatWrapper__OngXZ",chatPanel:"page_chatPanel___crRU",chatMessages:"page_chatMessages__WEpM_",message:"page_message__W8Y5A",messageMeta:"page_messageMeta__KPKn8",messageUser:"page_messageUser__EGFcH",messageTime:"page_messageTime__j7X0T",messageText:"page_messageText__mBAlj",chatInputRow:"page_chatInputRow____x2s",chatInput:"page_chatInput__VjxKx",sendButton:"page_sendButton__EW7vn",chatEmptyNote:"page_chatEmptyNote__DTCzG",chatCard:"page_chatCard__HYbyC",commands:"page_commands__OXmAB",commandsTitle:"page_commandsTitle__3FqJ3",muted:"page_muted__TIZWN",cooldown:"page_cooldown__hbB_Y",error:"page_error__kKlJ0"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",container:"Footer_container__KpDnW",footerGrid:"Footer_footerGrid__K31Dz",footerColumn:"Footer_footerColumn__kGECR",columnTitle:"Footer_columnTitle__WcnMX",footerLink:"Footer_footerLink__xz_wT",logoLink:"Footer_logoLink__Xoc6g",footerLogo:"Footer_footerLogo__4BA6d",divider:"Footer_divider__YAbaq",footerBottom:"Footer_footerBottom__YIYBj",copyright:"Footer_copyright__j4atB",companyInfo:"Footer_companyInfo__xaSgf",dark:"Footer_dark__otfV8"}}},function(e){e.O(0,[2956,2972,5726,7029,3595,2971,2117,1744],function(){return e(e.s=8557)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4616],{8557:function(e,a,t){Promise.resolve().then(t.bind(t,7223))},7223:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return _}});var r=t(7437),n=t(2265),s=t(9376),l=t(4048),o=t(7576),i=t(8349),c=t(1224),d=t(7029),u=t(8706),m=t.n(u);let p=["Gold","Silver","Bronze"],h=["#facc15","#cbd5f5","#f97316"];function _(){let e=(0,s.useRouter)(),[a,t]=(0,n.useState)(!1),[u,_]=(0,n.useState)([]),[f,b]=(0,n.useState)(!0),[v,x]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{try{let e=await (0,d.r$)();t(e.authenticated)}catch(e){t(!1)}})()},[]),(0,n.useEffect)(()=>{(async()=>{try{b(!0);let e=await (0,d.U$)("pats",20);_(e)}catch(e){console.error("Failed to load community leaderboard",e),_([])}finally{b(!1)}})()},[]),(0,n.useEffect)(()=>{x(!a)},[a]);let g=(0,n.useMemo)(()=>u.slice(0,3),[u]),N=(0,n.useMemo)(()=>u.slice(3,20),[u]),j=a=>{a&&e.push("/u/".concat(a))};return(0,r.jsxs)("div",{className:m().page,children:[(0,r.jsx)(c.Z,{active:"community",hasSession:a}),(0,r.jsxs)("main",{className:m().main,children:[(0,r.jsxs)("section",{className:m().hero,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:m().eyebrow,children:"Patreek Arena"}),(0,r.jsx)("h1",{className:m().title,children:"Community Standings"}),(0,r.jsx)("p",{className:m().subtitle,children:"A live scoreboard of the top Patreek contributors. Tap any user to inspect their story."})]}),(0,r.jsxs)("div",{className:m().heroBadge,children:[(0,r.jsx)("span",{className:m().dot}),"Real-time ranks"]})]}),(0,r.jsxs)("div",{className:m().grid,children:[(0,r.jsxs)("aside",{className:m().adColumn,children:[(0,r.jsx)("div",{className:m().adSlot,children:(0,r.jsx)(l.Z,{placementId:"community-ad-left-1"})}),(0,r.jsx)("div",{className:m().adSlot,children:(0,r.jsx)(l.Z,{placementId:"community-ad-left-2"})})]}),(0,r.jsxs)("section",{className:m().arena,children:[(0,r.jsx)("div",{className:m().podium,children:f?Array.from({length:3}).map((e,a)=>(0,r.jsxs)("div",{className:m().podiumCard,children:[(0,r.jsxs)("div",{className:m().podiumRank,children:["#",a+1]}),(0,r.jsx)("div",{className:m().podiumAvatar}),(0,r.jsx)("div",{className:m().podiumName,children:"Loading…"}),(0,r.jsx)("div",{className:m().podiumMeta,children:"Loading XP"})]},"placeholder-".concat(a))):g.map((e,a)=>{var t,n;return(0,r.jsxs)("button",{className:m().podiumCard,style:{borderColor:h[a]},onClick:()=>j(e.username),type:"button",children:[(0,r.jsxs)("span",{className:m().podiumRank,children:["#",e.rank]}),(0,r.jsx)("div",{className:m().podiumAvatar,"aria-hidden":"true",style:{background:0===a?"linear-gradient(135deg, #fbbf24, #f97316)":"#94a3b8"},children:(null===(t=e.displayName)||void 0===t?void 0:t.charAt(0))||(null===(n=e.username)||void 0===n?void 0:n.charAt(0))||"P"}),(0,r.jsxs)("div",{className:m().podiumDetails,children:[(0,r.jsx)("p",{className:m().podiumName,children:e.displayName||e.username}),(0,r.jsxs)("p",{className:m().podiumMeta,children:[e.total.toLocaleString()," XP"]})]}),(0,r.jsx)("span",{className:m().podiumLabel,children:p[a]})]},"".concat(e.username,"-").concat(e.rank))})}),(0,r.jsxs)("div",{className:m().tableSection,children:[(0,r.jsxs)("div",{className:m().tableHeader,children:[(0,r.jsx)("h2",{children:"Ranks 4–20"}),(0,r.jsx)("p",{children:"Tap a row to visit a creator’s profile."})]}),(0,r.jsxs)("div",{className:m().tableBody,children:[f?(0,r.jsx)("p",{className:m().muted,children:"Loading leaderboard…"}):N.map(e=>(0,r.jsxs)("button",{className:m().tableRow,type:"button",onClick:()=>j(e.username),children:[(0,r.jsxs)("span",{className:m().rowRank,children:["#",e.rank]}),(0,r.jsxs)("div",{className:m().rowUser,children:[(0,r.jsx)("div",{className:m().rowAvatar,children:(e.displayName||e.username||"?").slice(0,1)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:m().rowName,children:e.displayName||e.username}),(0,r.jsxs)("p",{className:m().rowHandle,children:["@",e.username]})]})]}),(0,r.jsxs)("span",{className:m().rowXp,children:[e.total.toLocaleString()," XP"]})]},"".concat(e.username,"-").concat(e.rank))),!f&&0===N.length&&(0,r.jsx)("p",{className:m().muted,children:"More Pat community members are coming soon."})]})]})]}),(0,r.jsxs)("aside",{className:m().adColumn,children:[(0,r.jsx)("div",{className:m().adSlot,children:(0,r.jsx)(l.Z,{placementId:"community-ad-right-1"})}),(0,r.jsx)("div",{className:m().adSlot,children:(0,r.jsx)(l.Z,{placementId:"community-ad-right-2"})})]})]})]}),(0,r.jsx)(i.Z,{}),(0,r.jsx)(o.Z,{isOpen:v,triggerAction:"view the community leaderboard",disableClose:!0,onClose:()=>e.push("/")})]})}},4048:function(e,a,t){"use strict";t.d(a,{Z:function(){return l}});var r=t(7437),n=t(3498),s=t.n(n);function l(e){let{placementId:a,showPlaceholder:t=!0,rankLevel:n}=e;return!t||"number"==typeof n&&n>=5?null:(0,r.jsx)("div",{className:s().adPlaceholder,children:(0,r.jsx)("div",{className:s().placeholderContent,children:(0,r.jsx)("span",{className:s().placeholderText,children:"Advertisement"})})})}},8349:function(e,a,t){"use strict";t.d(a,{Z:function(){return c}});var r=t(7437),n=t(7648),s=t(1468),l=t.n(s);let o=[{label:"Privacy",href:"/privacy"},{label:"Terms",href:"/terms"},{label:"Help",href:"/help"},{label:"About",href:"/about"}],i=[{label:"X",href:"https://x.com/patreek",aria:"Open Patreek on X"},{label:"Facebook",href:"https://facebook.com",aria:"Open Patreek on Facebook"},{label:"Instagram",href:"https://instagram.com",aria:"Open Patreek on Instagram"}];function c(){let e=new Date().getFullYear();return(0,r.jsxs)("footer",{className:l().footer,children:[(0,r.jsx)("div",{className:l().links,children:o.map(e=>(0,r.jsx)(n.default,{href:e.href,className:l().link,children:e.label},e.label))}),(0,r.jsxs)("div",{className:l().right,children:[(0,r.jsxs)("span",{className:l().copy,children:["\xa9 ",e," Patreek"]}),(0,r.jsx)("div",{className:l().socials,children:i.map(e=>(0,r.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer","aria-label":e.aria,className:l().socialButton,children:"X"===e.label?"X":e.label.charAt(0)},e.label))})]})]})}},1224:function(e,a,t){"use strict";t.d(a,{Z:function(){return d}});var r=t(7437),n=t(2265),s=t(7648),l=t(9376),o=t(6914),i=t.n(o),c=t(7029);function d(e){let{hasSession:a=!1,active:t}=e,o=(0,l.useRouter)(),d=(0,l.usePathname)(),[u,m]=(0,n.useState)(null),[p,h]=(0,n.useState)(!1),_=(0,n.useMemo)(()=>null==t?void 0:t.toLowerCase(),[t]),f=[{label:"Coins",path:"/coins"},{label:"Community",path:"/community"},{label:"Shop",path:"https://shop.patreek.com"},{label:"Opinion",path:"/opinion"},{label:"Write",path:"/write"}];(0,n.useEffect)(()=>{(async()=>{if(a)try{if(!(await (0,c.r$)()).authenticated)return;let e=await (0,c.getUserProfile)();(null==e?void 0:e.username)&&m(e.username)}catch(e){m(null)}})()},[a]);let b=e=>!!(_&&_===e.label.toLowerCase()||d&&e.path.startsWith("/")&&d.startsWith(e.path));return(0,r.jsxs)("header",{className:i().header,children:[(0,r.jsx)("div",{className:i().brand,onClick:()=>o.push("/"),children:"Patreek"}),(0,r.jsx)("nav",{className:i().nav,children:f.map(e=>(0,r.jsx)(s.default,{href:e.path,className:"".concat(i().navLink," ").concat(b(e)?i().activeLink:""),target:e.path.startsWith("http")?"_blank":void 0,children:e.label},e.label))}),(0,r.jsxs)("div",{className:i().actions,children:[(0,r.jsx)("button",{type:"button",className:i().iconButton,"aria-label":"Search Patreek",children:"\uD83D\uDD0D"}),(0,r.jsx)("button",{type:"button",className:i().profileCircle,onClick:()=>{a&&u?o.push("/u/".concat(u)):o.push("/registration")},"aria-label":"Open profile",children:u?u[0].toUpperCase():"P"}),(0,r.jsxs)("button",{type:"button",className:i().hamburger,onClick:()=>h(e=>!e),"aria-label":"Toggle navigation",children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]})]}),p&&(0,r.jsx)("div",{className:i().mobileNav,children:f.map(e=>(0,r.jsx)(s.default,{href:e.path,className:i().mobileNavItem,onClick:()=>h(!1),children:e.label},e.label))})]})}},7576:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});var r=t(7437),n=t(9376),s=t(7011),l=t.n(s);function o(e){let{isOpen:a,triggerAction:t,onClose:s,onRegister:o,disableClose:i=!1}=e,c=(0,n.useRouter)();if(!a)return null;let d=()=>{c.push("/registration"),null==s||s()};return(0,r.jsx)("div",{className:l().backdrop,role:"dialog","aria-modal":"true",children:(0,r.jsxs)("div",{className:l().modal,children:[(0,r.jsxs)("div",{className:l().header,children:[(0,r.jsx)("p",{className:l().eyebrow,children:"Members only"}),(0,r.jsxs)("h3",{children:["Unlock this ",t]}),!i&&s&&(0,r.jsx)("button",{type:"button",className:l().close,onClick:s,"aria-label":"Close modal",children:"\xd7"})]}),(0,r.jsx)("p",{className:l().copy,children:"Signing in gives you access to full articles, leaderboard chats, and private categories."}),(0,r.jsxs)("div",{className:l().actions,children:[(0,r.jsx)("button",{type:"button",className:l().primary,onClick:d,children:"Sign In"}),(0,r.jsx)("button",{type:"button",className:l().secondary,onClick:null!=o?o:d,children:"Register"}),(0,r.jsx)("button",{type:"button",className:l().link,onClick:()=>{c.push("/"),null==s||s()},children:"Go home"})]})]})})}},7648:function(e,a,t){"use strict";t.d(a,{default:function(){return n.a}});var r=t(2972),n=t.n(r)},9376:function(e,a,t){"use strict";var r=t(5475);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},257:function(e,a,t){"use strict";var r,n;e.exports=(null==(r=t.g.process)?void 0:r.env)&&"object"==typeof(null==(n=t.g.process)?void 0:n.env)?t.g.process:t(4227)},4227:function(e){!function(){var a={229:function(e){var a,t,r,n=e.exports={};function s(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function o(e){if(a===setTimeout)return setTimeout(e,0);if((a===s||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:s}catch(e){a=s}try{t="function"==typeof clearTimeout?clearTimeout:l}catch(e){t=l}}();var i=[],c=!1,d=-1;function u(){c&&r&&(c=!1,r.length?i=r.concat(i):d=-1,i.length&&m())}function m(){if(!c){var e=o(u);c=!0;for(var a=i.length;a;){for(r=i,i=[];++d<a;)r&&r[d].run();d=-1,a=i.length}r=null,c=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===l||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(a){try{return t.call(null,e)}catch(a){return t.call(this,e)}}}(e)}}function p(e,a){this.fun=e,this.array=a}function h(){}n.nextTick=function(e){var a=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)a[t-1]=arguments[t];i.push(new p(e,a)),1!==i.length||c||o(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},t={};function r(e){var n=t[e];if(void 0!==n)return n.exports;var s=t[e]={exports:{}},l=!0;try{a[e](s,s.exports,r),l=!1}finally{l&&delete t[e]}return s.exports}r.ab="//";var n=r(229);e.exports=n}()},8706:function(e){e.exports={page:"page_page__Li5F9",main:"page_main__xiEsg",hero:"page_hero__5F3WV",eyebrow:"page_eyebrow___3Y_w",title:"page_title__R1RyO",subtitle:"page_subtitle__Lo1Em",heroBadge:"page_heroBadge__xKfr4",dot:"page_dot__bIPHb",grid:"page_grid__P6dOz",adColumn:"page_adColumn__VGxOu",adSlot:"page_adSlot__RPU_F",arena:"page_arena__DaXdv",podium:"page_podium__mF5D2",podiumCard:"page_podiumCard__uFG8T",podiumRank:"page_podiumRank__xCpbj",podiumAvatar:"page_podiumAvatar__yHpxQ",podiumDetails:"page_podiumDetails__yHwva",podiumName:"page_podiumName__Ns2gx",podiumMeta:"page_podiumMeta__m_wGS",podiumLabel:"page_podiumLabel__vHn9b",tableSection:"page_tableSection__ptIzC",tableHeader:"page_tableHeader__4QURG",tableBody:"page_tableBody__dsCxn",tableRow:"page_tableRow__Mmn_d",rowRank:"page_rowRank__J_vmG",rowUser:"page_rowUser__TDxPi",rowAvatar:"page_rowAvatar__NSXkA",rowName:"page_rowName__oufxd",rowHandle:"page_rowHandle__irZze",rowXp:"page_rowXp__gzbAR",muted:"page_muted__TIZWN"}},3498:function(e){e.exports={adPlaceholder:"AdPlaceholder_adPlaceholder__C0bO2",placeholderContent:"AdPlaceholder_placeholderContent__8esrF",placeholderText:"AdPlaceholder_placeholderText__XO5aL"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",links:"Footer_links__cFiYr",link:"Footer_link__TBOP7",right:"Footer_right__s6ko6",copy:"Footer_copy__KUC9W",socials:"Footer_socials__Arjjf",socialButton:"Footer_socialButton__owWdN"}},6914:function(e){e.exports={header:"MainHeader_header__v29oY",brand:"MainHeader_brand__PWSjn",nav:"MainHeader_nav__OWvbh",navLink:"MainHeader_navLink__NUd27",activeLink:"MainHeader_activeLink__YR7BN",actions:"MainHeader_actions__jUZ_j",iconButton:"MainHeader_iconButton__6RFhG",profileCircle:"MainHeader_profileCircle__654Xs",hamburger:"MainHeader_hamburger__9fVCh",mobileNav:"MainHeader_mobileNav__RVDMJ",mobileNavItem:"MainHeader_mobileNavItem__n0yAB"}},7011:function(e){e.exports={backdrop:"AuthWallModal_backdrop__GPqpR",modal:"AuthWallModal_modal__fYr6S",header:"AuthWallModal_header__aq9BM",eyebrow:"AuthWallModal_eyebrow__U8I7N",close:"AuthWallModal_close__VjpfS",copy:"AuthWallModal_copy___qp9V",actions:"AuthWallModal_actions__HzRdw",primary:"AuthWallModal_primary__ZefXv",secondary:"AuthWallModal_secondary__ra701",link:"AuthWallModal_link__ggpfm"}}},function(e){e.O(0,[9845,126,7123,2972,7029,2971,2117,1744],function(){return e(e.s=8557)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[204],{3928:function(e,a,s){Promise.resolve().then(s.bind(s,6629))},6629:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return g}});var l=s(7437),t=s(2265),i=s(3145),n=s(7648),r=s(9376),o=s(8349),c=s(9705),d=s.n(c),p=s(9116);function g(){let e=(0,r.useRouter)(),[a,s]=(0,t.useState)("signup"),[c,g]=(0,t.useState)(""),[h,u]=(0,t.useState)(""),[m,_]=(0,t.useState)(""),[x,b]=(0,t.useState)([]),[N,j]=(0,t.useState)([]),[f,w]=(0,t.useState)(!1),[y,v]=(0,t.useState)({type:"idle"}),[k,S]=(0,t.useState)(!1),[C,R]=(0,t.useState)(""),[P,B]=(0,t.useState)(""),[G,L]=(0,t.useState)(!0),[A,E]=(0,t.useState)({type:"idle"}),[U,F]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=!0;return async function(){w(!0);let a=await (0,p.lL)();e&&(b(a&&a.length?a:[]),w(!1)),e&&(!a||0===a.length)&&(b(await (0,p.CP)()||[]),w(!1))}(),()=>{e=!1}},[]);let T=N.length<5,D=e=>{N.includes(e)?j(N.filter(a=>a!==e)):T&&j([...N,e])},I=(0,t.useMemo)(()=>f?(0,l.jsx)("div",{className:d().muted,children:"Loading categories…"}):x.length?(0,l.jsx)("div",{className:d().categoryGrid,children:x.map(e=>{let a=N.includes(e.id),s=!a&&!T;return(0,l.jsx)("button",{type:"button",className:[d().chip,a?d().chipSelected:"",s?d().chipDisabled:""].join(" "),onClick:()=>D(e.id),disabled:s,"aria-pressed":a,children:e.name},e.id)})}):(0,l.jsx)("div",{className:d().muted,children:"Categories will appear here soon."}),[x,N,T,f]),O=e=>{let a=window.location.origin+"/",s=(0,p.Bu)(e,a);window.location.href=s},Q=async a=>{if(a.preventDefault(),!c.trim()||!h.trim()||!m.trim()){v({type:"error",message:"Please fill in name, email, and password."});return}if(0===N.length){v({type:"error",message:"Pick at least one category (up to 5)."});return}S(!0),v({type:"idle"});let s={name:c.trim(),email:h.trim(),password:m,categoryIds:N};try{let a=(await (0,p.a$)(s)).token||"signed_up";window.localStorage.setItem("patreek_session",a),v({type:"success",message:"Account created! You are all set."}),e.push("/")}catch(e){v({type:"error",message:e instanceof Error?e.message:"Unable to sign up right now. Please try again."})}finally{S(!1)}},W=async a=>{if(a.preventDefault(),!C.trim()||!P.trim()){E({type:"error",message:"Enter your email and password to continue."});return}F(!0),E({type:"idle"});let s={email:C.trim(),password:P,rememberMe:G};try{let a=(await (0,p.pH)(s)).token||"signed_in";window.localStorage.setItem("patreek_session",a),E({type:"success",message:"Signed in! Redirecting…"}),e.push("/")}catch(e){E({type:"error",message:e instanceof Error?e.message:"Unable to sign in right now. Please try again."})}finally{F(!1)}};return(0,l.jsxs)("div",{className:d().page,children:[(0,l.jsxs)("header",{className:d().header,children:[(0,l.jsx)(n.default,{href:"/",className:d().logoLink,"aria-label":"Back to home",children:(0,l.jsx)(i.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:120,height:44,className:d().logo})}),(0,l.jsxs)("div",{className:d().headerActions,children:[(0,l.jsx)(n.default,{className:d().headerLink,href:"/",children:"Home"}),(0,l.jsx)(n.default,{className:d().headerLink,href:"/registration",children:"Sign up"})]})]}),(0,l.jsxs)("main",{className:d().main,children:[(0,l.jsx)("section",{className:d().hero,children:(0,l.jsxs)("div",{className:d().heroContent,children:[(0,l.jsx)("p",{className:d().heroEyebrow,children:"Mobile-first, web ready"}),(0,l.jsx)("h1",{className:d().heroTitle,children:"Create your Patreek account."}),(0,l.jsx)("p",{className:d().heroSubtitle,children:"Pick up to 5 categories, mirror the mobile onboarding, and unlock your personalized pats."}),(0,l.jsxs)("div",{className:d().heroBadges,children:[(0,l.jsx)("span",{className:d().badge,children:"Stay signed in sync"}),(0,l.jsx)("span",{className:d().badge,children:"Google & Apple SSO"}),(0,l.jsx)("span",{className:d().badge,children:"Fast desktop flow"})]})]})}),(0,l.jsx)("section",{className:d().formShell,children:(0,l.jsxs)("div",{className:d().card,children:[(0,l.jsxs)("div",{className:d().formToggle,role:"tablist","aria-label":"Auth selection",children:[(0,l.jsx)("button",{className:"".concat(d().toggleButton," ").concat("signup"===a?d().toggleActive:""),onClick:()=>s("signup"),role:"tab","aria-selected":"signup"===a,children:"Sign up"}),(0,l.jsx)("button",{className:"".concat(d().toggleButton," ").concat("signin"===a?d().toggleActive:""),onClick:()=>s("signin"),role:"tab","aria-selected":"signin"===a,children:"Sign in"})]}),"signup"===a?(0,l.jsxs)("form",{className:d().form,onSubmit:Q,children:[(0,l.jsxs)("div",{className:d().fieldGroup,children:[(0,l.jsx)("label",{className:d().label,htmlFor:"name",children:"Full name"}),(0,l.jsx)("input",{id:"name",className:d().input,value:c,onChange:e=>g(e.target.value),placeholder:"Jane Doe",autoComplete:"name"})]}),(0,l.jsxs)("div",{className:d().fieldGroup,children:[(0,l.jsx)("label",{className:d().label,htmlFor:"email",children:"Email"}),(0,l.jsx)("input",{id:"email",className:d().input,type:"email",value:h,onChange:e=>u(e.target.value),placeholder:"you@example.com",autoComplete:"email"})]}),(0,l.jsxs)("div",{className:d().fieldGroup,children:[(0,l.jsx)("label",{className:d().label,htmlFor:"password",children:"Password"}),(0,l.jsx)("input",{id:"password",className:d().input,type:"password",value:m,onChange:e=>_(e.target.value),placeholder:"••••••••",autoComplete:"new-password"})]}),(0,l.jsxs)("div",{className:d().fieldGroup,children:[(0,l.jsxs)("div",{className:d().labelRow,children:[(0,l.jsx)("label",{className:d().label,children:"Pick up to 5 categories"}),(0,l.jsxs)("span",{className:d().counter,children:[N.length," / 5"]})]}),I]}),"success"===y.type&&(0,l.jsx)("div",{className:d().status,children:y.message}),"error"===y.type&&(0,l.jsx)("div",{className:"".concat(d().status," ").concat(d().error),children:y.message}),(0,l.jsxs)("div",{className:d().actions,children:[(0,l.jsx)("button",{type:"submit",className:d().primary,disabled:k,children:k?"Signing you up…":"Create account"}),(0,l.jsxs)("div",{className:d().socialRow,children:[(0,l.jsx)("button",{type:"button",className:d().social,onClick:()=>O("google"),children:"Continue with Google"}),(0,l.jsx)("button",{type:"button",className:d().social,onClick:()=>O("apple"),children:"Continue with Apple"})]})]})]}):(0,l.jsxs)("form",{className:d().form,onSubmit:W,children:[(0,l.jsxs)("div",{className:d().fieldGroup,children:[(0,l.jsx)("label",{className:d().label,htmlFor:"signin-email",children:"Username, email, or mobile"}),(0,l.jsx)("input",{id:"signin-email",className:d().input,type:"email",value:C,onChange:e=>R(e.target.value),placeholder:"you@example.com",autoComplete:"email"})]}),(0,l.jsxs)("div",{className:d().fieldGroup,children:[(0,l.jsx)("label",{className:d().label,htmlFor:"signin-password",children:"Password"}),(0,l.jsx)("input",{id:"signin-password",className:d().input,type:"password",value:P,onChange:e=>B(e.target.value),placeholder:"••••••••",autoComplete:"current-password"})]}),(0,l.jsxs)("div",{className:d().helperRow,children:[(0,l.jsxs)("label",{className:d().checkbox,children:[(0,l.jsx)("input",{type:"checkbox",checked:G,onChange:e=>L(e.target.checked)}),(0,l.jsx)("span",{children:"Stay signed in"})]}),(0,l.jsx)(n.default,{href:"/",className:d().helperLink,children:"Forgot password?"})]}),"success"===A.type&&(0,l.jsx)("div",{className:d().status,children:A.message}),"error"===A.type&&(0,l.jsx)("div",{className:"".concat(d().status," ").concat(d().error),children:A.message}),(0,l.jsxs)("div",{className:d().actions,children:[(0,l.jsx)("button",{type:"submit",className:d().primary,disabled:U,children:U?"Signing in…":"Next"}),(0,l.jsx)("div",{className:d().socialRow,children:(0,l.jsx)("button",{type:"button",className:d().social,onClick:()=>O("google"),children:"Sign in with Google"})}),(0,l.jsxs)("div",{className:d().switchRow,children:[(0,l.jsx)("span",{children:"New to Patreek?"}),(0,l.jsx)("button",{type:"button",className:d().textButton,onClick:()=>s("signup"),children:"Create an account"})]})]})]})]})})]}),(0,l.jsx)(o.Z,{})]})}},9705:function(e){e.exports={page:"page_page__sHqJ5",header:"page_header__pdwT7",logoLink:"page_logoLink__tRKxb",logo:"page_logo__AW5JT",headerActions:"page_headerActions__Pqmv5",headerLink:"page_headerLink__pGWLW",main:"page_main__g_4W7",hero:"page_hero__oK6be",heroContent:"page_heroContent__f7TxN",heroEyebrow:"page_heroEyebrow__cuZ8j",heroTitle:"page_heroTitle__ZBzLY",heroSubtitle:"page_heroSubtitle__BUdcR",heroBadges:"page_heroBadges__QI7c4",badge:"page_badge__ZV6tV",formShell:"page_formShell__0McM0",card:"page_card__8339n",formToggle:"page_formToggle__bRr6b",toggleButton:"page_toggleButton__3cfqR",toggleActive:"page_toggleActive__3PBn1",form:"page_form__fqlGR",fieldGroup:"page_fieldGroup__b90gQ",label:"page_label__oIlXy",labelRow:"page_labelRow__RIeIl",counter:"page_counter__sSUVr",input:"page_input__mlSRb",categoryGrid:"page_categoryGrid___7YzQ",chip:"page_chip__UR2l3",chipSelected:"page_chipSelected__K_FZt",chipDisabled:"page_chipDisabled___r6m6",muted:"page_muted__QYSrO",actions:"page_actions__wWWPQ",primary:"page_primary__mBuJv",socialRow:"page_socialRow__M48si",social:"page_social__fkU5O",status:"page_status__0x6nN",error:"page_error__LDXOf",helperRow:"page_helperRow__29t9a",checkbox:"page_checkbox__prl42",helperLink:"page_helperLink__PFcXU",textButton:"page_textButton__0QU8p",switchRow:"page_switchRow__NUyU6"}}},function(e){e.O(0,[640,972,726,816,971,117,744],function(){return e(e.s=3928)}),_N_E=e.O()}]);
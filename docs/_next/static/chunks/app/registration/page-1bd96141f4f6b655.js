(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[204],{3928:function(e,a,s){Promise.resolve().then(s.bind(s,6629))},6629:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return h}});var t=s(7437),l=s(2265),r=s(3145),i=s(7648),n=s(9376),c=s(8349),o=s(9705),d=s.n(o),p=s(9116),u=s(8238);function h(){let e=(0,n.useRouter)(),[a,s]=(0,l.useState)("signup"),[o,h]=(0,l.useState)(""),[m,g]=(0,l.useState)(""),[_,b]=(0,l.useState)(""),[x,f]=(0,l.useState)(""),[j,N]=(0,l.useState)([]),[y,v]=(0,l.useState)([]),[w,S]=(0,l.useState)(!1),[k,C]=(0,l.useState)({type:"idle"}),[I,R]=(0,l.useState)(!1),[P,G]=(0,l.useState)(""),[A,E]=(0,l.useState)(""),[L,B]=(0,l.useState)(!0),[D,T]=(0,l.useState)({type:"idle"}),[U,F]=(0,l.useState)(!1),[O,J]=(0,l.useState)({type:"idle"}),[W,Z]=(0,l.useState)("");(0,l.useEffect)(()=>{let e=!0;return async function(){S(!0);let a=await (0,p.lL)();e&&(N(a&&a.length?a:[]),S(!1)),e&&(!a||0===a.length)&&(N(await (0,p.CP)()||[]),S(!1))}(),()=>{e=!1}},[]);let Q=y.length<5,H=e=>{y.includes(e)?v(y.filter(a=>a!==e)):Q&&v([...y,e])},M=(0,l.useMemo)(()=>w?(0,t.jsx)("div",{className:d().muted,children:"Loading categories…"}):j.length?(0,t.jsx)("div",{className:d().categoryGrid,children:j.map(e=>{let a=y.includes(e.id),s=!a&&!Q;return(0,t.jsx)("button",{type:"button",className:[d().chip,a?d().chipSelected:"",s?d().chipDisabled:""].join(" "),onClick:()=>H(e.id),disabled:s,"aria-pressed":a,children:e.name},e.id)})}):(0,t.jsx)("div",{className:d().muted,children:"Categories will appear here soon."}),[j,y,Q,w]),V=async()=>{if(!m.trim()){J({type:"idle"}),Z("");return}J({type:"idle"});try{let e=await (0,p.EJ)(m.trim());J({type:"success",message:e.message}),Z(e.message)}catch(a){let e=a instanceof Error?a.message:"Username unavailable";J({type:"error",message:e}),Z(e)}},Y=e=>{let a=window.location.origin+"/",s=(0,p.Bu)(e,a);window.location.href=s},q=async a=>{if(a.preventDefault(),!o.trim()||!m.trim()||!_.trim()||!x.trim()){C({type:"error",message:"Please fill in name, username, email, and password."});return}if(0===y.length){C({type:"error",message:"Pick at least one category (up to 5)."});return}R(!0),C({type:"idle"});let s={name:o.trim(),username:m.trim(),email:_.trim(),password:x,categoryIds:y};try{let a=(await (0,p.a$)(s)).token||"signed_up";window.localStorage.setItem("patreek_session",a),C({type:"success",message:"Account created! You are all set."}),e.push("/")}catch(e){C({type:"error",message:e instanceof Error?e.message:"Unable to sign up right now. Please try again."})}finally{R(!1)}},z=async a=>{if(a.preventDefault(),!P.trim()||!A.trim()){T({type:"error",message:"Enter your email and password to continue."});return}F(!0),T({type:"idle"});let s={email:P.trim(),password:A,rememberMe:L};try{let a=(await (0,p.pH)(s)).token||"signed_in";window.localStorage.setItem("patreek_session",a),T({type:"success",message:"Signed in! Redirecting…"}),e.push("/")}catch(e){T({type:"error",message:e instanceof Error?e.message:"Unable to sign in right now. Please try again."})}finally{F(!1)}};return(0,t.jsxs)("div",{className:d().page,children:[(0,t.jsxs)("header",{className:d().header,children:[(0,t.jsx)(i.default,{href:"/",className:d().logoLink,"aria-label":"Back to home",children:(0,t.jsx)(r.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:120,height:44,className:d().logo})}),(0,t.jsxs)("div",{className:d().getApp,children:[(0,t.jsx)("span",{className:d().getAppText,children:"Get the App"}),(0,t.jsx)("a",{href:"https://apps.apple.com/us/app/patreek/id6547858283",target:"_blank",rel:"noopener noreferrer",className:d().storeIcon,"aria-label":"Download on the App Store",children:(0,t.jsx)(r.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3729b558347b9bf210a5a_Store%3DApp%20Store%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"App Store",width:95,height:30})}),(0,t.jsx)("a",{href:"",className:d().storeIcon,"aria-label":"Get it on Google Play (coming soon)",children:(0,t.jsx)(r.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3727c8abb3515ab42d712_Store%3DGoogle%20Play%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Google Play",width:95,height:30})})]}),(0,t.jsxs)("nav",{className:d().headerNav,"aria-label":"Registration navigation",children:[(0,t.jsx)(i.default,{className:d().headerLink,href:"/contact",children:"Help"}),(0,t.jsx)(i.default,{className:d().headerLink,href:"/terms",children:"Terms"}),(0,t.jsx)(i.default,{className:d().headerLink,href:"/privacy",children:"Privacy"})]})]}),(0,t.jsxs)("main",{className:d().main,children:[(0,t.jsx)("section",{className:d().hero,children:(0,t.jsxs)("div",{className:d().heroContent,children:[(0,t.jsx)("p",{className:d().heroEyebrow,children:"Mobile-first, web ready"}),(0,t.jsx)("h1",{className:d().heroTitle,children:"Create your Patreek account."}),(0,t.jsx)("p",{className:d().heroSubtitle,children:"Pick up to 5 categories, mirror the mobile onboarding, and unlock your personalized pats."}),(0,t.jsxs)("div",{className:d().heroBadges,children:[(0,t.jsx)("span",{className:d().badge,children:"Stay signed in sync"}),(0,t.jsx)("span",{className:d().badge,children:"Google & Apple SSO"}),(0,t.jsx)("span",{className:d().badge,children:"Fast desktop flow"})]})]})}),(0,t.jsx)("section",{className:d().formShell,children:(0,t.jsxs)("div",{className:d().card,children:[(0,t.jsxs)("div",{className:d().formToggle,role:"tablist","aria-label":"Auth selection",children:[(0,t.jsx)("button",{className:"".concat(d().toggleButton," ").concat("signup"===a?d().toggleActive:""),onClick:()=>s("signup"),role:"tab","aria-selected":"signup"===a,children:"Sign up"}),(0,t.jsx)("button",{className:"".concat(d().toggleButton," ").concat("signin"===a?d().toggleActive:""),onClick:()=>s("signin"),role:"tab","aria-selected":"signin"===a,children:"Sign in"})]}),"signup"===a?(0,t.jsxs)("form",{className:d().form,onSubmit:q,children:[(0,t.jsxs)("div",{className:d().fieldGroup,children:[(0,t.jsx)("label",{className:d().label,htmlFor:"username",children:"Username"}),(0,t.jsx)("input",{id:"username",className:d().input,value:m,onChange:e=>{g(e.target.value),J({type:"idle"}),Z("")},onBlur:V,placeholder:"yourhandle",autoComplete:"username",required:!0}),"success"===O.type&&(0,t.jsxs)("div",{className:"".concat(d().statusInline," ").concat(d().successInline),children:["✓ ",W||"Username is available"]}),"error"===O.type&&(0,t.jsx)("div",{className:"".concat(d().statusInline," ").concat(d().errorInline),children:W||"Username is taken or invalid"})]}),(0,t.jsxs)("div",{className:d().fieldGroup,children:[(0,t.jsx)("label",{className:d().label,htmlFor:"name",children:"Full name"}),(0,t.jsx)("input",{id:"name",className:d().input,value:o,onChange:e=>h(e.target.value),placeholder:"Jane Doe",autoComplete:"name"})]}),(0,t.jsxs)("div",{className:d().fieldGroup,children:[(0,t.jsx)("label",{className:d().label,htmlFor:"email",children:"Email"}),(0,t.jsx)("input",{id:"email",className:d().input,type:"email",value:_,onChange:e=>b(e.target.value),placeholder:"you@example.com",autoComplete:"email"})]}),(0,t.jsxs)("div",{className:d().fieldGroup,children:[(0,t.jsx)("label",{className:d().label,htmlFor:"password",children:"Password"}),(0,t.jsx)("input",{id:"password",className:d().input,type:"password",value:x,onChange:e=>f(e.target.value),placeholder:"••••••••",autoComplete:"new-password"})]}),(0,t.jsxs)("div",{className:d().fieldGroup,children:[(0,t.jsxs)("div",{className:d().labelRow,children:[(0,t.jsx)("label",{className:d().label,children:"Pick up to 5 categories"}),(0,t.jsxs)("span",{className:d().counter,children:[y.length," / 5"]})]}),M]}),"success"===k.type&&(0,t.jsx)("div",{className:d().status,children:k.message}),"error"===k.type&&(0,t.jsx)("div",{className:"".concat(d().status," ").concat(d().error),children:k.message}),(0,t.jsxs)("div",{className:d().actions,children:[(0,t.jsx)("button",{type:"submit",className:d().primary,disabled:I,children:I?"Signing you up…":"Create account"}),(0,t.jsxs)("div",{className:d().socialRow,children:[(0,t.jsx)("button",{type:"button",className:d().social,onClick:()=>Y("google"),children:"Continue with Google"}),(0,t.jsx)("button",{type:"button",className:d().social,onClick:()=>Y("apple"),children:"Continue with Apple"})]})]})]}):(0,t.jsxs)("form",{className:d().form,onSubmit:z,children:[(0,t.jsxs)("div",{className:d().fieldGroup,children:[(0,t.jsx)("label",{className:d().label,htmlFor:"signin-email",children:"Email"}),(0,t.jsx)("input",{id:"signin-email",className:d().input,type:"email",value:P,onChange:e=>G(e.target.value),placeholder:"you@example.com",autoComplete:"email"})]}),(0,t.jsxs)("div",{className:d().fieldGroup,children:[(0,t.jsx)("label",{className:d().label,htmlFor:"signin-password",children:"Password"}),(0,t.jsx)("input",{id:"signin-password",className:d().input,type:"password",value:A,onChange:e=>E(e.target.value),placeholder:"••••••••",autoComplete:"current-password"})]}),(0,t.jsxs)("div",{className:d().helperRow,children:[(0,t.jsxs)("label",{className:d().checkbox,children:[(0,t.jsx)("input",{type:"checkbox",checked:L,onChange:e=>B(e.target.checked)}),(0,t.jsx)("span",{children:"Stay signed in"})]}),(0,t.jsx)(i.default,{href:"/",className:d().helperLink,children:"Forgot password?"})]}),"success"===D.type&&(0,t.jsx)("div",{className:d().status,children:D.message}),"error"===D.type&&(0,t.jsx)("div",{className:"".concat(d().status," ").concat(d().error),children:D.message}),(0,t.jsxs)("div",{className:d().actions,children:[(0,t.jsx)("button",{type:"submit",className:d().primary,disabled:U,children:U?"Signing in…":"Next"}),(0,t.jsx)("div",{className:d().socialRow,children:(0,t.jsx)("button",{type:"button",className:d().social,onClick:()=>Y("google"),children:"Sign in with Google"})}),(0,t.jsxs)("div",{className:d().switchRow,children:[(0,t.jsx)("span",{children:"New to Patreek?"}),(0,t.jsx)("button",{type:"button",className:d().textButton,onClick:()=>s("signup"),children:"Create an account"})]})]})]})]})})]}),(0,t.jsx)("section",{className:d().adSection,"aria-label":"Sponsored banner",children:(0,t.jsx)("div",{className:d().adInner,children:(0,t.jsx)(u.Z,{variant:"native",className:d().adCard})})}),(0,t.jsx)(c.Z,{})]})}},8238:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});var t=s(7437),l=s(2265);function r(e){let{variant:a,className:s}=e,r=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(r.current&&"true"!==r.current.dataset.adInjected){if(r.current.dataset.adInjected="true","iframe300x250"===a){window.atOptions={key:"7ac921c83230b7bec27cd77e5976bdfa",format:"iframe",height:250,width:300,params:{}};let e=document.createElement("script");return e.type="text/javascript",e.src="https://www.highperformanceformat.com/7ac921c83230b7bec27cd77e5976bdfa/invoke.js",e.async=!0,r.current.appendChild(e),()=>{var e;null===(e=r.current)||void 0===e||e.replaceChildren(),delete window.atOptions}}if("native"===a){let e=document.createElement("script");return e.async=!0,e.setAttribute("data-cfasync","false"),e.src="https://pl28102082.effectivegatecpm.com/e43b9924b35e5d713560143434db77a3/invoke.js",r.current.appendChild(e),()=>{var e;null===(e=r.current)||void 0===e||e.replaceChildren()}}}},[a]);let i="iframe300x250"===a?250:0;return(0,t.jsx)("div",{className:s,style:{width:"100%",minHeight:i},children:(0,t.jsx)("div",{id:"native"===a?"container-e43b9924b35e5d713560143434db77a3":void 0,ref:r,style:{width:"100%",minHeight:i}})})}},9705:function(e){e.exports={page:"page_page__sHqJ5",header:"page_header__pdwT7",getApp:"page_getApp__7gyp_",getAppText:"page_getAppText__YH6Df",storeIcon:"page_storeIcon__6z7yp",logoLink:"page_logoLink__tRKxb",logo:"page_logo__AW5JT",headerNav:"page_headerNav___W49H",headerLink:"page_headerLink__pGWLW",main:"page_main__g_4W7",hero:"page_hero__oK6be",heroContent:"page_heroContent__f7TxN",heroEyebrow:"page_heroEyebrow__cuZ8j",heroTitle:"page_heroTitle__ZBzLY",heroSubtitle:"page_heroSubtitle__BUdcR",heroBadges:"page_heroBadges__QI7c4",badge:"page_badge__ZV6tV",formShell:"page_formShell__0McM0",card:"page_card__8339n",formToggle:"page_formToggle__bRr6b",toggleButton:"page_toggleButton__3cfqR",toggleActive:"page_toggleActive__3PBn1",form:"page_form__fqlGR",fieldGroup:"page_fieldGroup__b90gQ",statusInline:"page_statusInline__nieLu",successInline:"page_successInline__ObJjr",errorInline:"page_errorInline__X_h2y",label:"page_label__oIlXy",labelRow:"page_labelRow__RIeIl",counter:"page_counter__sSUVr",input:"page_input__mlSRb",categoryGrid:"page_categoryGrid___7YzQ",chip:"page_chip__UR2l3",chipSelected:"page_chipSelected__K_FZt",chipDisabled:"page_chipDisabled___r6m6",muted:"page_muted__QYSrO",actions:"page_actions__wWWPQ",primary:"page_primary__mBuJv",socialRow:"page_socialRow__M48si",social:"page_social__fkU5O",status:"page_status__0x6nN",error:"page_error__LDXOf",helperRow:"page_helperRow__29t9a",checkbox:"page_checkbox__prl42",helperLink:"page_helperLink__PFcXU",textButton:"page_textButton__0QU8p",switchRow:"page_switchRow__NUyU6",adSection:"page_adSection__U6fV0",adInner:"page_adInner__PJCir",adCard:"page_adCard__R2VPo"}}},function(e){e.O(0,[640,972,726,816,971,117,744],function(){return e(e.s=3928)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5252],{4493:function(e,n,t){Promise.resolve().then(t.bind(t,3028))},3028:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var r=t(7437),a=t(2265),o=t(9376),i=t(3885),s=t.n(i),c=t(8349),l=t(3595),d=t(3877),u=t.n(d);function p(e){let{title:n,coins:t,priceLabel:a,description:o,isPopular:i=!1,onSelect:s,disabled:c=!1}=e;return(0,r.jsxs)("article",{className:"".concat(u().card," ").concat(i?u().popular:""),children:[i&&(0,r.jsx)("span",{className:u().ribbon,children:"Most Popular"}),(0,r.jsxs)("header",{className:u().header,children:[(0,r.jsx)("p",{className:u().title,children:n}),(0,r.jsxs)("p",{className:u().coins,children:[t.toLocaleString()," Coins"]})]}),(0,r.jsx)("p",{className:u().price,children:a}),o&&(0,r.jsx)("p",{className:u().description,children:o}),(0,r.jsx)("button",{type:"button",className:"".concat(u().action," ").concat(c?u().disabled:""),onClick:s,disabled:c,children:c?"Processing…":"Buy now"})]})}var m=t(7029);let _=[{id:"small",title:"Small Bundle",coins:100,price:.99,description:"Kickstart your pat streak with a small boost."},{id:"medium",title:"Medium Bundle",coins:550,price:4.99,description:"Popular choice for creators and comment champions.",popular:!0},{id:"large",title:"Large Bundle",coins:1200,price:9.99,description:"Best value for heavy tasters and community builders."}];function h(){var e;let n=(0,o.useRouter)(),[t,i]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[h,f]=(0,a.useState)(!0),[g,b]=(0,a.useState)(null),[x,j]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{if(!(await (0,m.checkSessionStatus)()).authenticated){i(!1);return}i(!0);let e=await (0,m.getUserProfile)();u(e)}catch(e){console.warn(e)}finally{f(!1)}})()},[]);let v=async e=>{b(null),j(e.id);try{let n=await fetch("/api/v1/payment/create-intent",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({bundleId:e.id,amount:e.price,coins:e.coins})});if(!n.ok)throw Error("Unable to start payment.");let t=await n.json(),r=(null==t?void 0:t.id)||(null==t?void 0:t.intentId)||"";if(!(await fetch("/api/v1/payment/mock-confirm",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({intentId:r,bundleId:e.id})})).ok)throw Error("Unable to confirm payment.");b("Patronage success! ".concat(e.title," is ready.")),u(n=>{var t;return n?{...n,coins:(null!==(t=n.coins)&&void 0!==t?t:0)+e.coins}:n})}catch(e){b(e instanceof Error?e.message:"Purchase failed.")}finally{j(null)}};return(0,a.useEffect)(()=>{if(!g)return;let e=setTimeout(()=>b(null),4e3);return()=>clearTimeout(e)},[g]),(0,r.jsxs)("div",{className:s().page,children:[(0,r.jsx)(l.Z,{active:"coins",hasSession:t}),(0,r.jsxs)("main",{className:s().main,children:[(0,r.jsxs)("section",{className:s().heroRow,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:s().heading,children:"Pat Coins Store"}),(0,r.jsx)("p",{className:s().subhead,children:"Top up instantly and keep your community shining."})]}),(0,r.jsx)("div",{className:s().badge,children:"Earn 1 Pat = $1 inside Patreek"})]}),g&&(0,r.jsx)("div",{className:s().toast,children:g}),h?(0,r.jsx)("div",{className:s().loading,children:"Checking your session…"}):t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("section",{className:s().balanceCard,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:s().balanceLabel,children:"Your balance"}),(0,r.jsx)("h2",{className:s().balanceValue,children:(null!==(e=null==d?void 0:d.coins)&&void 0!==e?e:0).toLocaleString()}),(0,r.jsx)("p",{className:s().balanceMeta,children:"Pat Coins"})]}),(0,r.jsxs)("div",{className:s().balanceSupplement,children:[(0,r.jsx)("p",{className:s().balanceSupplementLabel,children:"Earning boosts"}),(0,r.jsx)("p",{className:s().balanceSupplementCopy,children:"Complete daily challenges to earn extra coins."})]})]}),(0,r.jsxs)("section",{className:s().bundleSection,children:[(0,r.jsxs)("div",{className:s().sectionHeader,children:[(0,r.jsx)("h2",{className:s().sectionTitle,children:"Coin bundles"}),(0,r.jsx)("p",{className:s().sectionSubtitle,children:"All purchases go through secure payment and confirm automatically."})]}),(0,r.jsx)("div",{className:s().bundleGrid,children:_.map(e=>(0,r.jsx)(p,{title:e.title,coins:e.coins,priceLabel:"$".concat(e.price.toFixed(2)),description:e.description,isPopular:!!e.popular,onSelect:()=>v(e),disabled:x===e.id},e.id))})]})]}):(0,r.jsxs)("div",{className:s().signInPrompt,children:[(0,r.jsx)("p",{className:s().promptText,children:"Sign in to unlock coin balances and instant payments."}),(0,r.jsx)("button",{className:s().signInButton,onClick:()=>n.push("/registration"),children:"Sign up or Sign in"})]})]}),(0,r.jsx)(c.Z,{})]})}},8349:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(7437),a=t(7648),o=t(3145),i=t(1468),s=t.n(i);function c(){return(0,r.jsx)("footer",{className:s().footer,children:(0,r.jsxs)("div",{className:s().container,children:[(0,r.jsxs)("div",{className:s().footerGrid,children:[(0,r.jsx)(a.default,{href:"/",className:s().logoLink,children:(0,r.jsx)(o.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:111,height:60,className:s().footerLogo})}),(0,r.jsxs)("div",{className:s().footerColumn,children:[(0,r.jsx)("div",{className:s().columnTitle,children:"Product"}),(0,r.jsx)(a.default,{href:"/",className:s().footerLink,children:"Home"}),(0,r.jsx)("a",{href:"https://patreek.com/features",className:s().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Features"}),(0,r.jsx)("a",{href:"https://patreek.com/pricing",className:s().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Pricing"})]}),(0,r.jsxs)("div",{className:s().footerColumn,children:[(0,r.jsx)("div",{className:s().columnTitle,children:"Company"}),(0,r.jsx)("a",{href:"https://patreek.com/about",className:s().footerLink,target:"_blank",rel:"noopener noreferrer",children:"About"}),(0,r.jsx)("a",{href:"https://patreek.com/contact",className:s().footerLink,target:"_blank",rel:"noopener noreferrer",children:"Contact"}),(0,r.jsx)(a.default,{href:"/privacy",className:s().footerLink,children:"Privacy Policy"}),(0,r.jsx)(a.default,{href:"/terms",className:s().footerLink,children:"Terms & Conditions"})]}),(0,r.jsxs)("div",{className:s().footerColumn,children:[(0,r.jsx)("div",{className:s().columnTitle,children:"Social"}),(0,r.jsx)("a",{href:"https://x.com/",target:"_blank",rel:"noopener noreferrer",className:s().footerLink,children:"X (Twitter)"}),(0,r.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",className:s().footerLink,children:"Instagram"}),(0,r.jsx)("a",{href:"https://www.linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:s().footerLink,children:"LinkedIn"})]})]}),(0,r.jsx)("div",{className:s().divider}),(0,r.jsxs)("div",{className:s().footerBottom,children:[(0,r.jsxs)("div",{className:s().copyright,children:["\xa9 ",new Date().getFullYear()," Patreek. All rights reserved."]}),(0,r.jsx)("div",{className:s().companyInfo,children:"Patreek App is owned by Sentigraph Inc."})]})]})})}},9376:function(e,n,t){"use strict";var r=t(5475);t.o(r,"usePathname")&&t.d(n,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(n,{useSearchParams:function(){return r.useSearchParams}})},257:function(e,n,t){"use strict";var r,a;e.exports=(null==(r=t.g.process)?void 0:r.env)&&"object"==typeof(null==(a=t.g.process)?void 0:a.env)?t.g.process:t(4227)},4227:function(e){!function(){var n={229:function(e){var n,t,r,a=e.exports={};function o(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{t="function"==typeof clearTimeout?clearTimeout:i}catch(e){t=i}}();var c=[],l=!1,d=-1;function u(){l&&r&&(l=!1,r.length?c=r.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=s(u);l=!0;for(var n=c.length;n;){for(r=c,c=[];++d<n;)r&&r[d].run();d=-1,n=c.length}r=null,l=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function m(e,n){this.fun=e,this.array=n}function _(){}a.nextTick=function(e){var n=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];c.push(new m(e,n)),1!==c.length||l||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=_,a.addListener=_,a.once=_,a.off=_,a.removeListener=_,a.removeAllListeners=_,a.emit=_,a.prependListener=_,a.prependOnceListener=_,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},t={};function r(e){var a=t[e];if(void 0!==a)return a.exports;var o=t[e]={exports:{}},i=!0;try{n[e](o,o.exports,r),i=!1}finally{i&&delete t[e]}return o.exports}r.ab="//";var a=r(229);e.exports=a}()},3885:function(e){e.exports={page:"page_page__0Tisy",main:"page_main__d_Mtc",heroRow:"page_heroRow___2TSA",heading:"page_heading__9_OwE",subhead:"page_subhead__g_Bcn",badge:"page_badge__xl6_S",loading:"page_loading___wU0_",signInPrompt:"page_signInPrompt__Fok94",promptText:"page_promptText__qGBEr",signInButton:"page_signInButton__OtZF2",balanceCard:"page_balanceCard__ZLBG3",balanceLabel:"page_balanceLabel__8Hp9o",balanceValue:"page_balanceValue__0x5vr",balanceMeta:"page_balanceMeta__eP32e",balanceSupplement:"page_balanceSupplement__sUu2P",balanceSupplementLabel:"page_balanceSupplementLabel__jAuD_",balanceSupplementCopy:"page_balanceSupplementCopy__8mEWB",bundleSection:"page_bundleSection__3NaP8",sectionHeader:"page_sectionHeader__YtJ14",sectionTitle:"page_sectionTitle__udEmd",sectionSubtitle:"page_sectionSubtitle__2Oe90",bundleGrid:"page_bundleGrid__lsg_d",toast:"page_toast___Q__R"}},1468:function(e){e.exports={footer:"Footer_footer__pQtti",container:"Footer_container__KpDnW",footerGrid:"Footer_footerGrid__K31Dz",footerColumn:"Footer_footerColumn__kGECR",columnTitle:"Footer_columnTitle__WcnMX",footerLink:"Footer_footerLink__xz_wT",logoLink:"Footer_logoLink__Xoc6g",footerLogo:"Footer_footerLogo__4BA6d",divider:"Footer_divider__YAbaq",footerBottom:"Footer_footerBottom__YIYBj",copyright:"Footer_copyright__j4atB",companyInfo:"Footer_companyInfo__xaSgf",dark:"Footer_dark__otfV8"}},3877:function(e){e.exports={card:"PricingCard_card__IzpBi",popular:"PricingCard_popular__mEGE_",ribbon:"PricingCard_ribbon__k5r7y",header:"PricingCard_header___M7L8",title:"PricingCard_title__gpRkn",coins:"PricingCard_coins__8eRnp",price:"PricingCard_price__F5O6K",description:"PricingCard_description__WSaXv",action:"PricingCard_action__9v3xs",disabled:"PricingCard_disabled__HCcym"}}},function(e){e.O(0,[9031,2972,5726,7029,3595,2971,2117,1744],function(){return e(e.s=4493)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[598],{5509:function(e,t,a){Promise.resolve().then(a.bind(a,2425))},2425:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var r=a(7437),n=a(2265),i=a(4431),s=a.n(i),o=a(7029);let l=["Coins","Store","Media","Community","Opinion"],c=["All","Tech","Politics","Sports","Crypto"];function u(){let[e,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)([]),[u,d]=(0,n.useState)(!0),[p,_]=(0,n.useState)(null),[m,h]=(0,n.useState)("All"),g=(0,n.useMemo)(()=>"All"===m?a:a.filter(e=>{var t;return(null===(t=e.categoryName)||void 0===t?void 0:t.toLowerCase())===m.toLowerCase()}),[a,m]);return(0,n.useEffect)(()=>{(async()=>{try{d(!0);let e=await (0,o.PK)(0,20);i(e.content)}catch(e){console.error("Error fetching opinions:",e),_(e.message||"Failed to load opinions")}finally{d(!1)}})()},[]),(0,r.jsxs)("div",{className:s().page,children:[(0,r.jsxs)("div",{className:s().mobileNavWrap,children:[(0,r.jsxs)("button",{className:s().mobileNavButton,type:"button","aria-label":"Open navigation",onClick:()=>t(!0),children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]}),e&&(0,r.jsxs)("div",{className:s().drawer,role:"dialog","aria-label":"Navigation menu",children:[(0,r.jsxs)("div",{className:s().drawerHeader,children:[(0,r.jsx)("span",{className:s().drawerTitle,children:"Navigate"}),(0,r.jsx)("button",{className:s().closeButton,type:"button",onClick:()=>t(!1),"aria-label":"Close navigation",children:"âœ•"})]}),(0,r.jsx)("div",{className:s().drawerLinks,children:l.map(e=>(0,r.jsx)("button",{className:s().drawerLink,type:"button",children:e},e))})]})]}),(0,r.jsxs)("header",{className:s().hero,children:[(0,r.jsx)("div",{className:s().heroOverlay}),(0,r.jsxs)("div",{className:s().heroContent,children:[(0,r.jsx)("p",{className:s().kicker,children:"Perspectives from Patreek Pundits"}),(0,r.jsx)("h1",{className:s().title,children:"Opinion"})]})]}),(0,r.jsx)("div",{className:s().filterBar,children:c.map(e=>(0,r.jsx)("button",{type:"button",className:"".concat(s().filterPill," ").concat(m===e?s().activePill:""),onClick:()=>h(e),children:e},e))}),(0,r.jsxs)("main",{className:s().feed,children:[u&&(0,r.jsx)("div",{style:{padding:"40px",textAlign:"center"},children:"Loading opinions..."}),p&&(0,r.jsxs)("div",{style:{padding:"40px",textAlign:"center",color:"red"},children:["Error: ",p]}),!u&&!p&&0===g.length&&(0,r.jsx)("div",{style:{padding:"40px",textAlign:"center"},children:"No opinions found."}),!u&&!p&&g.map(e=>{let t=function(e){let t=e.search(/[.!?]/);return t>0&&t<200?e.substring(0,t+1):e.length>100?e.substring(0,100)+"...":e}(e.content),a=function(e){let t=e.search(/[.!?]/);if(t>0){let a=e.substring(t+1).trim(),r=a.search(/[.!?]/);return r>0?a.substring(0,r+1):a.length>150?a.substring(0,150)+"...":a}return e.length>150?e.substring(0,150)+"...":e}(e.content),n=function(e){let t=new Date,a=new Date(e),r=t.getTime()-a.getTime(),n=Math.floor(r/6e4),i=Math.floor(r/36e5),s=Math.floor(r/864e5),o=Math.floor(s/7),l=Math.floor(s/30);return n<1?"just now":n<60?"".concat(n,"m ago"):i<24?"".concat(i,"h ago"):s<7?"".concat(s,"d ago"):o<4?"".concat(o,"w ago"):l<12?"".concat(l,"mo ago"):"".concat(Math.floor(s/365),"y ago")}(e.timestamp);return(0,r.jsxs)("article",{className:s().card,children:[(0,r.jsxs)("div",{className:s().meta,children:[(0,r.jsx)("span",{className:s().timestamp,children:n}),e.categoryName&&(0,r.jsx)("span",{className:s().tag,children:e.categoryName})]}),(0,r.jsxs)("div",{className:s().cardBody,children:[(0,r.jsxs)("div",{className:s().textBlock,children:[(0,r.jsx)("h2",{className:s().headline,children:t}),(0,r.jsx)("p",{className:s().dek,children:a}),(0,r.jsx)("p",{className:s().author,children:e.userName||"Anonymous"})]}),e.image&&(0,r.jsx)("div",{className:s().imageWrapper,children:(0,r.jsx)("img",{src:e.image,alt:t,className:s().image})})]})]},e.id)})]})]})}},257:function(e,t,a){"use strict";var r,n;e.exports=(null==(r=a.g.process)?void 0:r.env)&&"object"==typeof(null==(n=a.g.process)?void 0:n.env)?a.g.process:a(4227)},4227:function(e){!function(){var t={229:function(e){var t,a,r,n=e.exports={};function i(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(a){try{return t.call(null,e,0)}catch(a){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var l=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?l=r.concat(l):u=-1,l.length&&p())}function p(){if(!c){var e=o(d);c=!0;for(var t=l.length;t;){for(r=l,l=[];++u<t;)r&&r[u].run();u=-1,t=l.length}r=null,c=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];l.push(new _(e,t)),1!==l.length||c||o(p)},_.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var i=a[e]={exports:{}},s=!0;try{t[e](i,i.exports,r),s=!1}finally{s&&delete a[e]}return i.exports}r.ab="//";var n=r(229);e.exports=n}()},4431:function(e){e.exports={page:"page_page__lJEZ2",hero:"page_hero__1I6Ei",heroOverlay:"page_heroOverlay__Tfbyx",heroContent:"page_heroContent__PaXnZ",kicker:"page_kicker__QrHRA",title:"page_title__Azax7",nav:"page_nav__XUnI_",navItem:"page_navItem__iFpJH",feed:"page_feed__YqiAP",filterBar:"page_filterBar___KONs",filterPill:"page_filterPill__eFi8_",activePill:"page_activePill__HB7m4",card:"page_card__CpYZS",meta:"page_meta__YBpDf",timestamp:"page_timestamp__hcJ6m",tag:"page_tag__zUkXg",cardBody:"page_cardBody__EOsc3",textBlock:"page_textBlock__oXOQu",headline:"page_headline__dS2CG",dek:"page_dek__59TDU",author:"page_author__f2Kuq",imageWrapper:"page_imageWrapper__fxKv9",image:"page_image__e_M2y",mobileNavWrap:"page_mobileNavWrap__landd",mobileNavButton:"page_mobileNavButton__8323t",drawer:"page_drawer__3PNji",drawerHeader:"page_drawerHeader__WpzSI",drawerTitle:"page_drawerTitle__UOmpY",closeButton:"page_closeButton__JFhRU",drawerLinks:"page_drawerLinks__4aPJd",drawerLink:"page_drawerLink__PZiJK"}}},function(e){e.O(0,[7056,7029,2971,2117,1744],function(){return e(e.s=5509)}),_N_E=e.O()}]);
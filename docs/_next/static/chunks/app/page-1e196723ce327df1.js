(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6995:function(e,t,a){Promise.resolve().then(a.bind(a,7340))},4038:function(e,t,a){"use strict";a.d(t,{default:function(){return s}});var n=a(7437),o=a(2265),l=a(9376),r=a(9116),c=a(4422),i=a(5148);function s(){let e=(0,l.usePathname)(),[t,a]=(0,o.useState)(null),[s,d]=(0,o.useState)(!0),[g,p]=(0,o.useState)(null);return((0,o.useEffect)(()=>{(async function(){let t=null;{let e=window.location.pathname,a=e.match(/\/article\/(\d+)/);if(a&&(t=parseInt(a[1],10),console.log("[ArticlePage] Extracted article ID from window.location.pathname: ".concat(t," (path: ").concat(e,")"))),!t){let e=window.location.href.match(/\/article\/(\d+)/);e&&(t=parseInt(e[1],10),console.log("[ArticlePage] Extracted article ID from window.location.href: ".concat(t)))}}if(!t&&e){let a=e.match(/\/article\/(\d+)/);a&&(t=parseInt(a[1],10),console.log("[ArticlePage] Extracted article ID from pathname: ".concat(t)))}if(!t||isNaN(t)||t<=0){console.error("[ArticlePage] Invalid article ID:",{articleId:t,pathname:e,windowPathname:window.location.pathname,windowHref:window.location.href,userAgent:window.navigator.userAgent}),p("Invalid article ID"),d(!1);return}try{d(!0),console.log("[ArticlePage] Loading article ".concat(t,"..."));let e=(0,c.A)(t);if(e){console.log("[ArticlePage] Using cached article ".concat(t)),a(e),p(null),d(!1);return}console.log("[ArticlePage] Fetching article ".concat(t," from API"));let n=await (0,r.ST)(t);if(!n){let e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);console.log("[ArticlePage] Article ".concat(t," not found or not public (returned null). Safari: ").concat(e)),e&&console.warn("[ArticlePage] Safari detected - this might be a CORS or fetch issue. Check network tab."),p("Article not found or not available"),setTimeout(()=>{window.location.href="https://patreek.com/public/pats/"},2e3);return}(0,c.t)(t,n),a(n),p(null),console.log("[ArticlePage] Successfully loaded article ".concat(t,": ").concat(n.title)),window.ezstandalone&&window.ezstandalone.cmd.push(function(){window.ezstandalone.showAds()})}catch(e){console.error("[ArticlePage] Failed to load article:",e),p("Failed to load article. Please try again later.")}finally{d(!1)}})()},[e]),s)?(0,n.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333"},children:(0,n.jsx)("p",{children:"Loading article..."})}):g||!t?(0,n.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f5f5f5",color:"#333",padding:"20px"},children:[(0,n.jsx)("p",{children:g||"Article not found"}),(0,n.jsx)("a",{href:"/",style:{marginTop:"16px",color:"#667eea",textDecoration:"underline"},children:"â† Back to Home"})]}):(0,n.jsx)(i.Z,{article:t})}},7340:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var n=a(7437),o=a(2265),l=a(9376),r=a(9116),c=a(6777),i=a.n(c),s=a(3145),d=a(4038),g=a(3352),p=a(8349);function h(){let e=(0,l.usePathname)(),[t,a]=(0,o.useState)(!1),[r,c]=(0,o.useState)(null);(0,o.useEffect)(()=>{a(!0);{let e=window.location.pathname;c(e),console.log("[RootPage] Initial path detected:",e)}},[]),(0,o.useEffect)(()=>{if(t){let e=window.location.pathname;c(e),console.log("[RootPage] Path updated:",e)}},[e,t]);let i=(()=>{let t=window.location.pathname;return t&&/^\/article\/\d+/.test(t)?(console.log("[RootPage] Article route detected from window.location:",t),!0):!!(e&&/^\/article\/\d+/.test(e))&&(console.log("[RootPage] Article route detected from pathname:",e),!0)})();return(console.log("[RootPage] Rendering - mounted:",t,"isArticleRoute:",i,"pathname:",e,"actualPath:",r),i)?(0,n.jsx)(d.default,{}):(0,n.jsx)(u,{})}function u(){let[e,t]=(0,o.useState)([]),[a,l]=(0,o.useState)(!0),[c,d]=(0,o.useState)(null);(0,o.useEffect)(()=>{(async function(){try{l(!0),d(null);let e=await (0,r.Dk)();t(e)}catch(e){console.warn("[HomePage] Failed to load feeds:",e),t([])}finally{l(!1)}})(),window.ezstandalone&&window.ezstandalone.cmd.push(function(){window.ezstandalone.showAds()})},[]);let h=(0,o.useMemo)(()=>{if(!e||0===e.length)return[];let t=[];return e.forEach((e,a)=>{t.push({type:"article",id:"article-".concat(e.id),data:e}),(a+1)%3==0&&t.push({type:"ad",id:"ad-".concat(a)})}),t},[e]);return(0,n.jsxs)("div",{className:i().container,children:[(0,n.jsx)("header",{className:i().header,children:(0,n.jsxs)("div",{className:i().headerInner,children:[(0,n.jsx)("div",{className:i().logoSection,children:(0,n.jsx)(s.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/675caa3a2f73ad268a86b51a_Patreek%20logo_slogan.png",alt:"Patreek",width:60,height:60,className:i().logo,priority:!0})}),(0,n.jsxs)("div",{className:i().headerTitle,children:[(0,n.jsx)("h2",{className:i().title,children:"Latest news"}),(0,n.jsx)("p",{className:i().subtitle,children:"Let's read"})]})]})}),(0,n.jsx)("div",{className:i().unlockBannerTop,children:(0,n.jsxs)("div",{className:i().unlockBannerContent,children:[(0,n.jsx)("p",{className:i().unlockText,children:"UNLOCK YOUR NEWS FEED"}),(0,n.jsxs)("p",{className:i().unlockDescription,children:["Register to get the latest updates from the topics"," ",(0,n.jsx)("span",{className:i().unlockUnderline,children:"you"})," care about"]}),(0,n.jsxs)("div",{className:i().storeButtons,children:[(0,n.jsx)("a",{href:"https://apps.apple.com/us/app/patreek/id6547858283",target:"_blank",rel:"noopener noreferrer",className:i().storeLink,children:(0,n.jsx)(s.default,{src:"https://cdn.prod.website-files.com/675ca775325477a121669e3c/67a3729b558347b9bf210a5a_Store%3DApp%20Store%2C%20Type%3DDark%2C%20Language%3DEnglish%402x.png",alt:"Download on App Store",width:200,height:60,className:i().storeImage})}),(0,n.jsx)("a",{href:"#",className:i().storeLink,children:(0,n.jsx)(s.default,{src:"https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png",alt:"Get it on Google Play",width:200,height:60,className:i().storeImage})})]})]})}),(0,n.jsx)("main",{className:i().main,children:a?(0,n.jsx)("div",{className:i().loadingState,children:(0,n.jsx)("p",{children:"Loading articles..."})}):c?(0,n.jsxs)("div",{className:i().emptyState,children:[(0,n.jsx)("p",{children:c}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:i().retryButton,children:"Retry"})]}):0===e.length?(0,n.jsxs)("div",{className:i().emptyState,children:[(0,n.jsx)("p",{children:"No articles available at the moment."}),(0,n.jsx)("p",{className:i().registerPrompt,children:"Register to get the latest updates from the topics you care about"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{placementId:101,showPlaceholder:!0}),(0,n.jsx)("div",{className:i().feedList,children:h.map((e,t)=>{if("ad"===e.type)return(0,n.jsx)(g.Z,{placementId:102,showPlaceholder:!0},e.id);let a=e.data,o="https://patreek.com/public/pats/".concat(a.id);return(0,n.jsxs)("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:i().feedCard,children:[(0,n.jsxs)("div",{className:i().imageWrapper,children:[(0,n.jsx)("img",{src:a.imageUrl||"https://insideskills.pl/wp-content/uploads/2024/01/placeholder-6.png",alt:a.title,className:i().image}),(0,n.jsx)("div",{className:i().categoryBadge,children:(0,n.jsx)("span",{className:i().categoryText,children:a.categoryName})})]}),(0,n.jsx)("div",{className:i().content,children:(0,n.jsx)("h2",{className:i().feedTitle,children:a.title})})]},e.id)})}),(0,n.jsx)(g.Z,{placementId:103,showPlaceholder:!0})]})}),(0,n.jsx)(p.Z,{})]})}},6777:function(e){e.exports={container:"page_container__jZF7q",header:"page_header__oRW75",headerInner:"page_headerInner__leMGi",logoSection:"page_logoSection__is0Qg",headerTitle:"page_headerTitle__Jd54L",logo:"page_logo__ikIZE",title:"page_title__po7na",subtitle:"page_subtitle__YBgxm",main:"page_main__nw1Wk",bannerAdSlot:"page_bannerAdSlot__eT4jk",feedList:"page_feedList__VxTRo",feedCard:"page_feedCard__GioUo",imageWrapper:"page_imageWrapper__Fc9qC",image:"page_image__ZQ2oC",feedImage:"page_feedImage__r1I4Y",feedContent:"page_feedContent__XQ0ID",feedExcerpt:"page_feedExcerpt__x1gq1",categoryBadge:"page_categoryBadge__TjLXs",categoryText:"page_categoryText__AOPvi",content:"page_content___38fW",feedTitle:"page_feedTitle__YfSVK",adSlot:"page_adSlot__h3xPr",adPlaceholder:"page_adPlaceholder__fOZZP",emptyState:"page_emptyState__j9MME",registerPrompt:"page_registerPrompt__mSJgN",loadingState:"page_loadingState__hO15Q",retryButton:"page_retryButton__rXSBT",unlockBannerTop:"page_unlockBannerTop__EeLvh",unlockBanner:"page_unlockBanner__Ol3PL",unlockBannerContent:"page_unlockBannerContent__2Gy3x",unlockText:"page_unlockText__O6AO_",unlockBannerText:"page_unlockBannerText__TEPMz",unlockDescription:"page_unlockDescription__w_ZeM",unlockUnderline:"page_unlockUnderline__l9atb",storeButtons:"page_storeButtons__KngCj",storeLink:"page_storeLink__hoVu1",storeImage:"page_storeImage__hbm_s"}}},function(e){e.O(0,[556,612,990,972,726,662,971,117,744],function(){return e(e.s=6995)}),_N_E=e.O()}]);
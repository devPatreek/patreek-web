(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5193],{6201:function(e,a,s){Promise.resolve().then(s.bind(s,2592))},2592:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return o}});var t=s(7437),c=s(2265),n=s(3595),i=s(8349),l=s(7029),r=s(269),d=s.n(r);function o(){let[e,a]=(0,c.useState)([]),[s,r]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let e=!0;return(async()=>{r(!0);try{let s=await (0,l.TH)(50);e&&a(s)}finally{e&&r(!1)}})(),()=>{e=!1}},[]);let o=async()=>{await (0,l.aK)(),a(e=>e.map(e=>({...e,isRead:!0})))};return(0,t.jsxs)("div",{className:d().shell,children:[(0,t.jsx)(n.Z,{hasSession:!0}),(0,t.jsxs)("main",{className:d().main,children:[(0,t.jsxs)("div",{className:d().headerRow,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:d().eyebrow,children:"Inbox"}),(0,t.jsx)("h1",{className:d().title,children:"Notifications"})]}),(0,t.jsx)("button",{className:d().markRead,type:"button",onClick:o,children:"Mark all read"})]}),(0,t.jsx)("div",{className:d().list,children:s?(0,t.jsx)("p",{className:d().muted,children:"Loading notifications..."}):0===e.length?(0,t.jsx)("p",{className:d().muted,children:"Youâ€™re all caught up."}):e.map(e=>(0,t.jsx)("div",{className:"".concat(d().card," ").concat(e.isRead?d().cardRead:""),children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:d().cardTitle,children:e.title}),(0,t.jsx)("p",{className:d().cardMessage,children:e.message}),(0,t.jsx)("span",{className:d().time,children:function(e){if(!e)return"";let a=new Date(e),s=Math.floor((Date.now()-a.getTime())/6e4);if(s<1)return"Just now";if(s<60)return"".concat(s,"m ago");let t=Math.floor(s/60);return t<24?"".concat(t,"h ago"):"".concat(Math.floor(t/24),"d ago")}(e.createdAt)})]})},e.id))})]}),(0,t.jsx)(i.Z,{})]})}},269:function(e){e.exports={shell:"page_shell__o8Qts",main:"page_main__ZrfOo",headerRow:"page_headerRow__o_qc1",eyebrow:"page_eyebrow__Ql7gV",title:"page_title__iqh6C",markRead:"page_markRead__lyy9F",list:"page_list__a4Tgs",card:"page_card__W99oZ",cardRead:"page_cardRead__1Y3zN",cardTitle:"page_cardTitle__uRmEu",cardMessage:"page_cardMessage__HLIxY",time:"page_time__cZdWx",muted:"page_muted__ILtfg"}}},function(e){e.O(0,[563,2972,5726,1908,7611,2971,2117,1744],function(){return e(e.s=6201)}),_N_E=e.O()}]);